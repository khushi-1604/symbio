/*! For license information please see widget.js.LICENSE.txt */
(()=>{var __webpack_modules__={5987:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"white",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"30";return'\n\t<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M20 10L10 20" stroke="').concat(e,'" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t<path d="M10 10L20 20" stroke="').concat(e,'" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n\t</svg>')}},5084:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var r=function(){return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M13.1547 14.4662C12.845 14.7643 12.355 14.7643 12.0453 14.4662L9.35392 11.8765C8.83499 11.3771 9.18846 10.5 9.90862 10.5H15.2914C16.0115 10.5 16.365 11.3771 15.8461 11.8765L13.1547 14.4662Z" \n        fill="'.concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#403F42",'"/>\n    </svg>')}},2688:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(e){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8 0.666626C7.46957 0.666626 6.96086 0.87734 6.58579 1.25241C6.21071 1.62749 6 2.13619 6 2.66663V7.99996C6 8.53039 6.21071 9.0391 6.58579 9.41417C6.96086 9.78925 7.46957 9.99996 8 9.99996C8.53043 9.99996 9.03914 9.78925 9.41421 9.41417C9.78929 9.0391 10 8.53039 10 7.99996V2.66663C10 2.13619 9.78929 1.62749 9.41421 1.25241C9.03914 0.87734 8.53043 0.666626 8 0.666626Z" fill="'.concat(e,'" stroke="').concat(e,'" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M12.6668 6.66663V7.99996C12.6668 9.23764 12.1752 10.4246 11.3 11.2998C10.4248 12.175 9.23784 12.6666 8.00016 12.6666C6.76249 12.6666 5.5755 12.175 4.70033 11.2998C3.82516 10.4246 3.3335 9.23764 3.3335 7.99996V6.66663" stroke="').concat(e,'" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M8 12.6666V15.3333" stroke="').concat(e,'" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M5.3335 15.3334H10.6668" stroke="').concat(e,'" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>')}},9601:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=function(){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8 0.666656C7.46957 0.666656 6.96086 0.87737 6.58579 1.25244C6.21071 1.62752 6 2.13622 6 2.66666V7.99999C6 8.53042 6.21071 9.03913 6.58579 9.4142C6.96086 9.78928 7.46957 9.99999 8 9.99999C8.53043 9.99999 9.03914 9.78928 9.41421 9.4142C9.78929 9.03913 10 8.53042 10 7.99999V2.66666C10 2.13622 9.78929 1.62752 9.41421 1.25244C9.03914 0.87737 8.53043 0.666656 8 0.666656V0.666656Z" stroke="#403F42" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M12.6668 6.66666V7.99999C12.6668 9.23767 12.1752 10.4247 11.3 11.2998C10.4248 12.175 9.23784 12.6667 8.00016 12.6667C6.76249 12.6667 5.5755 12.175 4.70033 11.2998C3.82516 10.4247 3.3335 9.23767 3.3335 7.99999V6.66666" stroke="#403F42" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8 12.6667V15.3333" stroke="#403F42" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M5.3335 15.3333H10.6668" stroke="#403F42" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>'}},1623:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15.999">\n\t\t\t<path\n\t\t\t\td="M20.028,17.03a13.439,13.439,0,0,0-2.807-1.878c-.841-.4-1.15-.4-1.745.033-.5.358-.816.691-1.387.566A8.274,8.274,0,0,1,11.3,13.689,8.215,8.215,0,0,1,9.24,10.9c-.121-.575.212-.891.566-1.387.429-.6.442-.9.033-1.745A13.173,13.173,0,0,0,7.961,4.963c-.612-.612-.75-.479-1.087-.358a6.186,6.186,0,0,0-1,.529A3,3,0,0,0,4.683,6.4c-.237.512-.512,1.466.887,3.957A22.079,22.079,0,0,0,9.452,15.53h0l0,0,0,0h0a22.165,22.165,0,0,0,5.177,3.882c2.491,1.4,3.445,1.125,3.957.887a2.952,2.952,0,0,0,1.262-1.2,6.186,6.186,0,0,0,.529-1C20.507,17.78,20.644,17.642,20.028,17.03Z"\n\t\t\t\ttransform="translate(-4.49 -4.502)"\n\t\t\t/>\n\t\t</svg>'}},8907:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r=function(){return'\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="inherit" xmlns="http://www.w3.org/2000/svg">\n        <path \n            stroke="inherit"\n            d="M17.8332 6.16663L11.4165 12.5833" \n            stroke-width="1.2" \n            stroke-linecap="round" \n            stroke-linejoin="round"\n        />\n        <path \n            stroke="inherit"\n            d="M17.8332 6.16663L13.7498 17.8333L11.4165 12.5833L6.1665 10.25L17.8332 6.16663Z"\n            stroke-width="1.2" \n            stroke-linecap="round" \n            stroke-linejoin="round"\n        />\n    </svg>\n    '}},2566:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=function(){return'<svg width="9" height="9" viewBox="0 0 9 9" fill="none" xmlns="http://www.w3.org/2000/svg" style="transform: none;">\n<path d="M7.35928 5.2431H7.35929C7.3649 5.55746 7.62533 5.811 7.94824 5.81649L7.94929 5.75825L7.94825 5.81649C8.27929 5.8221 8.55231 5.56539 8.55805 5.24308L8.55807 5.24197L8.55806 5.24197L8.55806 1.56808L8.55806 1.56674L8.55806 1.56666C8.55764 1.24437 8.28893 0.98343 7.95788 0.983775L7.35928 5.2431ZM7.35928 5.2431L7.35928 5.24201L7.35855 2.97625L2.06089 8.13382C1.82676 8.36175 1.44719 8.36175 1.21306 8.13382C0.978942 7.90588 0.978942 7.53635 1.21306 7.30842L6.5107 2.15088L4.1842 2.15088L4.1842 2.15089L4.18305 2.15087C3.85201 2.14526 3.58833 1.87946 3.59407 1.5572L3.59407 1.55719C3.59968 1.24279 3.86011 0.98925 4.18305 0.983785L4.18305 0.983775L4.1842 0.983775L7.9578 0.983775L7.35928 5.2431Z" fill="#4EAAE7" stroke="#4EAAE7" stroke-width="0.229887"/>\n</svg>'}},7702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var h=n(4769),g=n(1451),i={id:"",placeholder:"",type:"text",label:"",attribute_id:""},m=n(3343),y=n(9914);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var c=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(e)}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=i,this.setter(e)}},{key:"initWrapper",value:function(){var e,t,n,r,i,o,a,s,c,l,u,d,p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=document.createElement("div");f.style.marginTop="10px",null!=p&&p.style&&(f.style=p.style),f.innerHTML=(t=(e=p).display_name,d=e.attribute_type,n=e.attribute_id,r=e.placeholder,i=void 0===(i=e.includeLabel)||i,o=void 0===(o=e.includeInput)||o,a=e.message_id,s=void 0===(s=e.inpClassName)?"":s,c=void 0!==(c=e.inputWithSelect)&&c,e=void 0!==(e=e.renderAsTextArea)&&e,l=(null==(l=y.r.get("GENERIC_STRINGS"))?void 0:l["PLACEHOLDER.ENTER"])||"Please enter",r=r||"".concat(l," ").concat(t.toLowerCase()),l=(l="string"==typeof t?t:"")&&(0,h.N1)(l),u=l&&(0,h.Ji)(l),e=e?'<textarea rows="5" cols="35" data-field-role="input" type="'.concat(d,'" name="').concat(n,'" id="').concat(n,'" placeholder="').concat(r,'" \n\tclass="engt-form-input-text ').concat(s,' engt-form-input-text-area" data-interactive-field style="background-color: ').concat(y.r.get("config.textAreaColor"),'"></textarea>'):'<input data-field-role="input" type="'.concat(d,'" name="').concat(n,'" id="').concat(n,'" placeholder="').concat(r,'" \n\tclass="engt-form-input-text ').concat(s," engt-form-input-").concat(n,'" data-interactive-field style="background-color: ').concat(y.r.get("config.textAreaColor"),'"/>'),c=c?'<div class="engt-input-with-select">\n\t\t\t\t<select-box></select-box>\n\t\t\t\t<input style="max-height:40px; margin-left: 5px;" data-field-role="input" type="'.concat(d,'" name="').concat(n,'" id="').concat(n,'" placeholder="').concat(r,'" \n\t\t\t\tclass="engt-form-input-text ').concat(s," engt-form-input-").concat(n,'" data-interactive-field/>\n\t\t\t\t</div>'):e,"\n\t\t\t".concat(i?'<span class="engt-form-label">'.concat(u?new m.G({msg:l,message_id:a,is_iframe:!1}).render():t,"</span>"):""," \n\t\t\t").concat(o?"".concat(c,' <error-msg id="engt-error-').concat(n,'"></error-msg>'):""," \n\t\t\t")),p.inputWithSelect&&((d=new g.Z(v(v({},p),{},{display_name:"",overrideInputClass:"engt-select-override",overrideOptions:p.overrideOptionsClass||"",options:p.selectOptions})).render()).id="form-select-box-".concat(p.attribute_id),d.style.width="30%",d.style.alignSelf="flex-end",(0,h.z_)(f.querySelector("select-box"),d)),this.html=f}},{key:"initEventHandlers",value:function(){}},{key:"setter",value:function(e){this.data=v(v({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var u=n(1042),S=n(4769),O=n(9914),k=n(1181),i={id:"",placeholder:"",type:"text",label:"",options:[],isMultiselect:!1};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var c=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(e),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=i,this.setter(e),this.data.id=e.id||e.message_id||"message-".concat((0,S.zJ)())}},{key:"initWrapper",value:function(e){var t,n=document.createElement("div");n.innerHTML=(t=(e=e).display_name,e.attribute_type,e=void 0!==(e=e.inputWithSelect)&&e,t=t?'<label class="engt-form-label">'.concat(t,"</label>"):"",'<div style="'.concat(e?"":"margin-top:10px;",'">\n                                 ').concat(t,"\n                                <form-select></form-select>\n                        </div>")),this.html=n}},{key:"generateDropdownOption",value:function(e,n,r,t,i,o,a){var s=document.createElement("div"),c=document.createElement("input"),i=n[0].replaceAll(i,"<b>".concat(i,"</b>")),l=(c.type="checkbox",c.id=n[1],c.name=i,c.setAttribute("data-attr-value",n[1]),document.createElement("label"));l.style="margin-left:14px",s.setAttribute("aria-label",n[1]),s.setAttribute("tabindex",e),l.innerHTML=i,o?((e=document.createElement("span")).style="display:flex;align-items:center;",e.appendChild(c),e.appendChild(l),s.appendChild(e)):s.innerHTML=i,s.addEventListener("click",function(e){r.value=null==(t=e.target)||null==(t=t.closest("div"))?void 0:t.innerText,o||(r.style="",r.setAttribute("data-attr-value",r.getAttribute("data-attr-value")&&o?"".concat(r.getAttribute("data-attr-value"),",").concat(e.target.ariaLabel):e.target.ariaLabel));var t=document.getElementById("rud-error-".concat((0,S.t5)((0,u.LS)().RUD_NODE)));t&&t.classList.add("engt-hidden"),(0,S.AM)(d(d({},n),{},{title:n[0]}))()}),t.appendChild(s)}},{key:"mutiFormSelectUpdate",value:function(e,t,n){Object.values(e).forEach(function(e){document.getElementById(e).checked=t})}},{key:"initComponents",value:function(){var t=this,e=this.data,n=e.options,r=e.isMultiselect,i=e.attribute_id,o=e.attribute_type,a=e.id,e=e.inputWithSelect,s=Object.entries(JSON.parse(n)),c="true"===r.toString(),l=this,r=document.createElement("div"),u=document.createElement("div"),d=document.createElement("input"),p=document.createElement("input"),f=(p.type="text",p.className="engt-dropdown-search-input",document.createElement("div")),h=(f.className="engt-dropdown-options-container",document.createElement("div")),g=document.createElement("button"),m=document.createElement("button"),y=document.createElement("span");function v(e){return e?"engt-form-active-multiselect-dropdown-z-index":"engt-form-active-dropdown-z-index"}function b(){var e,t;"up-arrow"!==h.className&&(e=c,(t=null==l||null==(t=l.html)?void 0:t.closest(".engt-form-field-wrapper"))&&((0,S.IV)(t,"engt-form-field-z-index"),(0,S.cn)(t,v(e))),u.style.display="block",d.style.borderBottomLeftRadius="0px",d.style.borderBottomRightRadius="0px",h.className="up-arrow",c?(d.innerHTML="",d.appendChild(g),d.appendChild(y),d.appendChild(m)):(u.prepend(p),p.focus(),u.appendChild(f)),(0,k.Lp)(!1,0))}function _(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];c&&(t=0,document.querySelectorAll(".dropdown input[type=checkbox]").forEach(function(e){e.checked&&(t++,d.innerHTML="<div class='selectOptions-clear'>".concat(t," ").concat(1<t?"items":"item"," selected</div>"))})),setTimeout(function(){var e,t;d.style="",u.style.display="none",h.className="down-arrow",p&&u.contains(p)&&u.removeChild(p),e=c,(t=null==l||null==(t=l.html)?void 0:t.closest(".engt-form-field-wrapper"))&&((0,S.cn)(t,"engt-form-field-z-index"),(0,S.IV)(t,v(e)))},!0===e?0:300)}function w(e){function t(e,r){return e.filter(function(e){var t=null==r?void 0:r.toLowerCase(),n=null==e||null==(n=e[0])?void 0:n.toLowerCase(),e=null==(e=e.text)?void 0:e.toLowerCase();return!t||-1<(null==n?void 0:n.indexOf(t))||-1<(null==e?void 0:e.indexOf(t))})}function n(e,n){n.innerHTML="",e.forEach(function(e,t){l.generateDropdownOption(t,e,d,n,a,c)})}function r(e,t){var n;e.length?(b(),e=0,n=(c?u:f).children,0<=e&&e<n.length&&(n[e].className="active")):t.innerHTML='<div class="no-options">No result</div>'}var i,o,a=(null==e||null==(o=e.target)||null==(o=o.value)||null==(i=o.toLowerCase)?void 0:i.call(o))||"";c?(n(i=t(s,a),u),i.length&&(a.length||e)?b():_(!0)):(n(o=t(s,a),f),r(o,f))}function E(e){var t,n=e.which||e.keyCode;if(13!==n||e.shiftKey||(t=c?null==u||null==(t=u.querySelector)?void 0:t.call(u,".active"):null==f||null==(t=f.querySelector)?void 0:t.call(f,".active"))&&(t.click(),_(!0)),40===n&&function(){for(var e=(c?u:f).children,t=0;t<e.length;t++){var n=e[t];if((0,S.pv)(n,"active"))return n.className="",n=t<e.length-1?t+1:0,(n=e[n]).className="active",n.scrollIntoView({behavior:"smooth",block:"nearest"})}}(),38===n)for(var r=(c?u:f).children,i=0;i<r.length;i++){var o=r[i];if((0,S.pv)(o,"active"))return void(o.className="",o=0<i?i-1:r.length-1,(o=r[o]).className="active",o.scrollIntoView({behavior:"smooth",block:"center"}))}}c&&((d=document.createElement("div")).className="multiselect",g.className="selectOptions",g.addEventListener("click",function(e){e.stopPropagation(),b(),t.mutiFormSelectUpdate(JSON.parse(n),!0)}),m.addEventListener("click",function(e){e.stopPropagation(),b(),t.mutiFormSelectUpdate(JSON.parse(n),!1)}),m.className="selectOptions-clear",g.innerHTML="Select All",y.innerHTML="|",y.style.paddingLeft="4px",y.style.paddingRight="4px",m.innerHTML="Clear All",d.appendChild(g),d.appendChild(y),d.appendChild(m)),r.className="engt-select-container",r.classList.add(this.data.overrideOptions),r.setAttribute("data-form-attrid",i),r.setAttribute("data-form-type",o),u.className="dropdown",d.id=i,d.setAttribute("data-form-id","engt-select-container-".concat(a)),d.classList.add(this.data.overrideInputClass),h.className="down-arrow";d.setAttribute("placeholder",(null==(o=O.r.get("GENERIC_STRINGS"))?void 0:o["SETTINGS.PLACEHOLDER.SELECT"])||"Select"),p.setAttribute("placeholder",(null==(o=O.r.get("GENERIC_STRINGS"))?void 0:o["SETTINGS.PLACEHOLDER.SEARCH"])||"Search"),p.addEventListener("input",w),d.addEventListener("input",w),d.classList.add("engt-multiselect"),d.classList.add("engt-form-input-".concat(i)),(c?(d.addEventListener("click",b),r.classList.add("engt-multiselect"),d):(d.addEventListener("click",b),d.addEventListener("focus",function(){b(),p.focus()}),p.addEventListener("focusout",_),d.setAttribute("data-field-role","input"),p)).addEventListener("keydown",E),r.appendChild(d),r.appendChild(h),r.appendChild(u);o=document.createElement("div"),o.id="engt-select-error-".concat(a),a=document.createElement("div");a.className="engt-error",a.id="engt-error-".concat(i),o.appendChild(a),e||r.appendChild(o),w(),_(!0),(0,S.z_)(this.html.querySelector("form-select"),r)}},{key:"setter",value:function(e){this.data=d(d({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},9342:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var p=n(7410),i=n(9914),o={className:"",label:"",onClick:"",type:"",id:"",borderColor:"",style:"",tabIndex:0,themeColor:"",themeTextColor:"",applyOnHover:!1};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var u=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=o,this.setter({className:e.className,disabled:e.disabled,label:e.label,onClick:e.onClick,type:e.type,id:e.id,size:e.size,style:e.style,tabIndex:e.tabIndex,applyOnHover:e.applyOnHover,radius:e.radius,dataInteractiveField:e.dataInteractiveField,dataQa:e.dataQa,dataTrackingId:e.dataTrackingId})}},{key:"initWrapper",value:function(){var e=this.data,t=e.id,n=e.label,r=e.type,i=e.className,i=void 0===i?"":i,o=e.style,o=void 0===o?"":o,a=e.disabled,a=void 0!==a&&a,s=e.size,s=(void 0===s&&p.iY.SMALL,e.tabIndex),c=e.radius,c=void 0===c?8:c,l=e.dataInteractiveField,u=e.dataQa,e=e.dataTrackingId,d=document.createElement("button");i&&d.classList.add(i),d.classList.add("engt-button"),d.classList.add("engt-button-radius-".concat(c)),d.classList.add("engt-button-".concat(r.toLowerCase())),void 0!==s&&d.setAttribute("tabindex",s),t&&(d.id=t),o&&(d.style=o),l&&d.setAttribute("data-interactive-field",""),e&&d.setAttribute("data-tracking-id",e),d.disabled=a,d.innerHTML=n,u&&d.setAttribute("data-qa",u),this.html=d}},{key:"initEventHandlers",value:function(){var e=this.data||{},t=e.onClick,n=e.applyOnHover,r=e.type;"string"!=typeof t&&(this.html.addEventListener("click",t),this.html.addEventListener("keydown",function(e){return i.r.get("onEnterPress")(t)})),n&&(this.html.addEventListener("mouseover",function(e){this.classList.add("engt-button-".concat(r.toLowerCase(),"-hover"))}),this.html.addEventListener("mouseout",function(e){this.classList.remove("engt-button-".concat(r.toLowerCase(),"-hover"))}))}},{key:"setter",value:function(e){this.data=s(s({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},2382:(N,B,R)=>{"use strict";function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){return e[e.length-1]}function w(t,...e){return e.forEach(e=>{t.includes(e)||t.push(e)}),t}function l(e,t){return e?e.split(t):[]}function u(e,t,n){return(void 0===t||t<=e)&&(void 0===n||e<=n)}function G(e,t,n){return e<t?t:n<e?n:e}function a(e,t,r={},i=0,n=""){n+=`<${Object.keys(r).reduce((e,t)=>{let n=r[t];return`${e} ${t}="${n="function"==typeof n?n(i):n}"`},e)}></${e}>`;var o=i+1;return o<t?a(e,t,r,o,n):n}function e(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function i(e){return new Date(e).setHours(0,0,0,0)}function d(){return(new Date).setHours(0,0,0,0)}function E(...e){switch(e.length){case 0:return d();case 1:return i(e[0])}var t=new Date(0);return t.setFullYear(...e),t.setHours(0,0,0,0)}function p(e,t){e=new Date(e);return e.setDate(e.getDate()+t)}function f(e,t){e=new Date(e),t=e.getMonth()+t;let n=t%12;n<0&&(n+=12);t=e.setMonth(t);return e.getMonth()!==n?e.setDate(0):t}function h(e,t){var e=new Date(e),n=e.getMonth(),t=e.setFullYear(e.getFullYear()+t);return 1===n&&2===e.getMonth()?e.setDate(0):t}function F(e,t){return(e-t+7)%7}function o(e,t,n=0){var r=new Date(e).getDay();return p(e,F(t,n)-F(r,n))}function g(e,t){e=new Date(e).getFullYear();return Math.floor(e/t)*t}function S(e,t,n){return 1!==t&&2!==t?e:(e=new Date(e),1===t?n?e.setMonth(e.getMonth()+1,0):e.setDate(1):n?e.setFullYear(e.getFullYear()+1,0,0):e.setMonth(0,1),e.setHours(0,0,0,0))}R.d(B,{f:()=>Ae});const O=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,U=/[\s!-/:-@[-`{-~\u5e74\u6708\u65e5]+/;let n={};const H={y(e,t){return new Date(e).setFullYear(parseInt(t,10))},m(e,t,n){e=new Date(e);let r=parseInt(t,10)-1;if(isNaN(r)){if(!t)return NaN;const i=t.toLowerCase();t=e=>e.toLowerCase().startsWith(i);if((r=(r=n.monthsShort.findIndex(t))<0?n.months.findIndex(t):r)<0)return NaN}return e.setMonth(r),e.getMonth()!==function e(t){return-1<t?t%12:e(t+12)}(r)?e.setDate(0):e.getTime()},d(e,t){return new Date(e).setDate(parseInt(t,10))}},q={d(e){return e.getDate()},dd(e){return t(e.getDate(),2)},D(e,t){return t.daysShort[e.getDay()]},DD(e,t){return t.days[e.getDay()]},m(e){return e.getMonth()+1},mm(e){return t(e.getMonth()+1,2)},M(e,t){return t.monthsShort[e.getMonth()]},MM(e,t){return t.months[e.getMonth()]},y(e){return e.getFullYear()},yy(e){return t(e.getFullYear(),2).slice(-2)},yyyy(e){return t(e.getFullYear(),4)}};function t(e,t){return e.toString().padStart(t,"0")}function W(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in n)return n[e];const o=e.split(O),i=e.match(new RegExp(O,"g"));if(0===o.length||!i)throw new Error("Invalid date format.");const t=i.map(e=>q[e]),a=Object.keys(H).reduce((e,t)=>{return i.find(e=>"D"!==e[0]&&e[0].toLowerCase()===t)&&e.push(t),e},[]);return n[e]={parser(e,n){const r=e.split(U).reduce((e,t,n)=>{return 0<t.length&&i[n]&&("M"===(n=i[n][0])?e.m=t:"D"!==n&&(e[n]=t)),e},{});return a.reduce((e,t)=>{t=H[t](e,r[t],n);return isNaN(t)?e:t},d())},formatter(r,i){return t.reduce((e,t,n)=>e+(""+o[n]+t(r,i)),"")+s(o)}}}function k(e,t,n){var r;return e instanceof Date||"number"==typeof e?(r=i(e),isNaN(r)?void 0:r):e?"today"===e?d():t&&t.toValue?(r=t.toValue(e,t,n),isNaN(r)?void 0:i(r)):W(t).parser(e,n):void 0}function r(e,t,n){return isNaN(e)||!e&&0!==e?"":(e="number"==typeof e?new Date(e):e,t.toDisplay?t.toDisplay(e,t,n):W(t).formatter(e,n))}const V=document.createRange();function T(e){return V.createContextualFragment(e)}function z(e){return e.parentElement||(e.parentNode instanceof ShadowRoot?e.parentNode.host:void 0)}function m(e){return e.getRootNode().activeElement===e}function c(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function y(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function v(e){e.firstChild&&(e.removeChild(e.firstChild),v(e))}const b=new WeakMap,{addEventListener:K,removeEventListener:Y}=EventTarget.prototype;function J(e,t){let n=b.get(e);n||(n=[],b.set(e,n)),t.forEach(e=>{K.call(...e),n.push(e)})}if(!Event.prototype.composedPath){const Pe=(e,t=[])=>{t.push(e);let n;return e.parentNode?n=e.parentNode:e.host?n=e.host:e.defaultView&&(n=e.defaultView),n?Pe(n,t):t};Event.prototype.composedPath=function(){return Pe(this.target)}}function X(e,t){var n="function"==typeof t?t:e=>e instanceof Element&&e.matches(t);return function e(t,n,r){var[t,...i]=t;return n(t)?t:t!==r&&"HTML"!==t.tagName&&0!==i.length?e(i,n,r):void 0}(e.composedPath(),n,e.currentTarget)}const C={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}};const I={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"\xbb",orientation:"auto",pickLevel:0,prevArrow:"\xab",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},{language:L,format:Z,weekStart:Q}=I;function $(e,t){return e.length<6&&0<=t&&t<7?w(e,t):e}function ee(e){return(e+6)%7}function te(e,t,n,r){e=k(e,t,n);return void 0!==e?e:r}function A(e,t,n=3){e=parseInt(e,10);return 0<=e&&e<=n?e:t}function ne(t,n){const r=Object.assign({},t),i={};var e,t=n.constructor.locales;const o=n.rangeSideIndex;let{format:a,language:s,locale:c,maxDate:l,maxView:u,minDate:d,pickLevel:p,startView:f,weekStart:h}=n.config||{};if(r.language){let e;r.language!==s&&(t[r.language]?e=r.language:void 0===t[e=r.language.split("-")[0]]&&(e=!1)),delete r.language,e&&(s=i.language=e,n=c||t[L],c=Object.assign({format:Z,weekStart:Q},t[L]),s!==L&&Object.assign(c,t[s]),i.locale=c,a===n.format&&(a=i.format=c.format),h===n.weekStart)&&(h=i.weekStart=c.weekStart,i.weekEnd=ee(c.weekStart))}r.format&&(t="function"==typeof r.format.toDisplay,n="function"==typeof r.format.toValue,e=O.test(r.format),(t&&n||e)&&(a=i.format=r.format),delete r.format);let g=p,m=(void 0!==r.pickLevel&&(g=A(r.pickLevel,2),delete r.pickLevel),g!==p&&(g>p&&(void 0===r.minDate&&(r.minDate=d),void 0===r.maxDate)&&(r.maxDate=l),r.datesDisabled||(r.datesDisabled=[]),p=i.pickLevel=g),d),y=l,v=(void 0!==r.minDate&&(t=E(0,0,1),(m=null===r.minDate?t:te(r.minDate,a,c,m))!==t&&(m=S(m,p,!1)),delete r.minDate),void 0!==r.maxDate&&(void 0!==(y=null===r.maxDate?void 0:te(r.maxDate,a,c,y))&&(y=S(y,p,!0)),delete r.maxDate),y<m?(d=i.minDate=y,l=i.maxDate=m):(d!==m&&(d=i.minDate=m),l!==y&&(l=i.maxDate=y)),r.datesDisabled&&(i.datesDisabled=r.datesDisabled.reduce((e,t)=>{t=k(t,a,c);return void 0!==t?w(e,S(t,p,o)):e},[]),delete r.datesDisabled),void 0!==r.defaultViewDate&&(void 0!==(n=k(r.defaultViewDate,a,c))&&(i.defaultViewDate=n),delete r.defaultViewDate),void 0!==r.weekStart&&(e=Number(r.weekStart)%7,isNaN(e)||(h=i.weekStart=e,i.weekEnd=ee(e)),delete r.weekStart),r.daysOfWeekDisabled&&(i.daysOfWeekDisabled=r.daysOfWeekDisabled.reduce($,[]),delete r.daysOfWeekDisabled),r.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=r.daysOfWeekHighlighted.reduce($,[]),delete r.daysOfWeekHighlighted),void 0!==r.maxNumberOfDates&&(0<=(t=parseInt(r.maxNumberOfDates,10))&&(i.maxNumberOfDates=t,i.multidate=1!==t),delete r.maxNumberOfDates),r.dateDelimiter&&(i.dateDelimiter=String(r.dateDelimiter),delete r.dateDelimiter),u),b=(void 0!==r.maxView&&(v=A(r.maxView,u),delete r.maxView),(v=p>v?p:v)!==u&&(u=i.maxView=v),f);if(void 0!==r.startView&&(b=A(r.startView,b),delete r.startView),b<p?b=p:b>u&&(b=u),b!==f&&(i.startView=b),r.prevArrow&&(0<(n=T(r.prevArrow)).childNodes.length&&(i.prevArrow=n.childNodes),delete r.prevArrow),r.nextArrow&&(0<(e=T(r.nextArrow)).childNodes.length&&(i.nextArrow=e.childNodes),delete r.nextArrow),void 0!==r.disableTouchKeyboard&&(i.disableTouchKeyboard="ontouchstart"in document&&!!r.disableTouchKeyboard,delete r.disableTouchKeyboard),r.orientation&&(t=r.orientation.toLowerCase().split(/\s+/g),i.orientation={x:t.find(e=>"left"===e||"right"===e)||"auto",y:t.find(e=>"top"===e||"bottom"===e)||"auto"},delete r.orientation),void 0!==r.todayBtnMode){switch(r.todayBtnMode){case 0:case 1:i.todayBtnMode=r.todayBtnMode}delete r.todayBtnMode}return Object.keys(r).forEach(e=>{void 0!==r[e]&&_(I,e)&&(i[e]=r[e])}),i}const re=e(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        <button type="button" class="%buttonClass% prev-btn"></button>
        <button type="button" class="%buttonClass% view-switch"></button>
        <button type="button" class="%buttonClass% next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        <button type="button" class="%buttonClass% today-btn"></button>
        <button type="button" class="%buttonClass% clear-btn"></button>
      </div>
    </div>
  </div>
</div>`),ie=e(`<div class="days">
  <div class="days-of-week">${a("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${a("span",42)}</div>
</div>`),oe=e(`<div class="calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${a("span",6,{class:"week"})}</div>
</div>`);class ae{constructor(e,t){Object.assign(this,t,{picker:e,element:T('<div class="datepicker-view"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}init(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}performBeforeHook(e,t,n){let r=this.beforeShow(new Date(n));switch(typeof r){case"boolean":r={enabled:r};break;case"string":r={classes:r}}var i;r&&(!1===r.enabled&&(e.classList.add("disabled"),w(this.disabled,t)),r.classes&&(n=r.classes.split(/\s+/),e.classList.add(...n),n.includes("disabled"))&&w(this.disabled,t),r.content)&&(i=e,n=r.content,v(i),n instanceof DocumentFragment?i.appendChild(n):"string"==typeof n?i.appendChild(T(n)):"function"==typeof n.forEach&&n.forEach(e=>{i.appendChild(e)}))}}class se extends ae{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){t&&(t=T(ie).firstChild,this.dow=t.firstChild,this.grid=t.lastChild,this.element.appendChild(t)),super.init(e)}setOptions(e){let t;var n;_(e,"minDate")&&(this.minDate=e.minDate),_(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale&&(n=this.locale=e.locale,this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,t=!0),void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks&&(e.calendarWeeks&&!this.calendarWeeks?(n=T(oe).firstChild,this.calendarWeeks={element:n,dow:n.firstChild,weeks:n.lastChild},this.element.insertBefore(n,this.element.firstChild)):this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null)),void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(y(this.dow),this.calendarWeeks&&y(this.calendarWeeks.dow)):(c(this.dow),this.calendarWeeks&&c(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach((e,t)=>{t=(this.weekStart+t)%7;e.textContent=this.dayNames[t],e.className=this.daysOfWeekDisabled.includes(t)?"dow disabled":"dow"})}updateFocus(){var e=new Date(this.picker.viewDate),t=e.getFullYear(),e=e.getMonth(),n=E(t,e,1),r=o(n,this.weekStart,this.weekStart);this.first=n,this.last=E(t,e+1,0),this.start=r,this.focused=this.picker.viewDate}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){this.today=this.todayHighlight?d():void 0,this.disabled=[...this.datesDisabled];var e=r(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(e),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){const n=o(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((e,t)=>{e.textContent=(e=n,t,e=o(e=p(e,7*t),4,1),t=o(new Date(e).setMonth(0,4),4,1),Math.round((e-t)/6048e5)+1)})}Array.from(this.grid.children).forEach((e,t)=>{var n=e.classList,t=p(this.start,t),r=new Date(t),i=r.getDay();e.className="datepicker-cell "+this.cellClass,e.dataset.date=t,e.textContent=r.getDate(),t<this.first?n.add("prev"):t>this.last&&n.add("next"),this.today===t&&n.add("today"),(t<this.minDate||t>this.maxDate||this.disabled.includes(t))&&n.add("disabled"),this.daysOfWeekDisabled.includes(i)&&(n.add("disabled"),w(this.disabled,t)),this.daysOfWeekHighlighted.includes(i)&&n.add("highlighted"),this.range&&([r,i]=this.range,r<t&&t<i&&n.add("range"),t===r&&n.add("range-start"),t===i)&&n.add("range-end"),this.selected.includes(t)&&n.add("selected"),t===this.focused&&n.add("focused"),this.beforeShow&&this.performBeforeHook(e,t,t)})}refresh(){const[n,r]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(e=>{e.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach(e=>{var t=Number(e.dataset.date),e=e.classList;t>n&&t<r&&e.add("range"),t===n&&e.add("range-start"),t===r&&e.add("range-end"),this.selected.includes(t)&&e.add("selected"),t===this.focused&&e.add("focused")})}refreshFocus(){var e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function ce(e,t){if(e&&e[0]&&e[1]){var[[e,n],[r,i]]=e;if(!(t<e||r<t))return[e===t?n:-1,r===t?i:12]}}class le extends ae{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(T(a("span",12,{"data-month":e=>e})))),super.init(e)}setOptions(e){var t;e.locale&&(this.monthNames=e.locale.monthsShort),_(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minMonth=this.minDate=void 0:(t=new Date(e.minDate),this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1))),_(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxMonth=this.maxDate=void 0:(t=new Date(e.maxDate),this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=E(this.maxYear,this.maxMonth+1,0))),this.isMinView?e.datesDisabled&&(this.datesDisabled=e.datesDisabled):this.datesDisabled=[],void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}updateFocus(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((e,t)=>{var t=new Date(t),n=t.getFullYear(),t=t.getMonth();return void 0===e[n]?e[n]=[t]:w(e[n],t),e},{}),t&&t.dates&&(this.range=t.dates.map(e=>{e=new Date(e);return isNaN(e)?void 0:[e.getFullYear(),e.getMonth()]}))}render(){this.disabled=this.datesDisabled.reduce((e,t)=>{t=new Date(t);return this.year===t.getFullYear()&&e.push(t.getMonth()),e},[]),this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);const a=this.selected[this.year]||[],s=this.year<this.minYear||this.year>this.maxYear,c=this.year===this.minYear,l=this.year===this.maxYear,u=ce(this.range,this.year);Array.from(this.grid.children).forEach((e,t)=>{var n,r,i=e.classList,o=E(this.year,t,1);e.className="datepicker-cell "+this.cellClass,this.isMinView&&(e.dataset.date=o),e.textContent=this.monthNames[t],(s||c&&t<this.minMonth||l&&t>this.maxMonth||this.disabled.includes(t))&&i.add("disabled"),u&&([n,r]=u,n<t&&t<r&&i.add("range"),t===n&&i.add("range-start"),t===r)&&i.add("range-end"),a.includes(t)&&i.add("selected"),t===this.focused&&i.add("focused"),this.beforeShow&&this.performBeforeHook(e,t,o)})}refresh(){const n=this.selected[this.year]||[],[r,i]=ce(this.range,this.year)||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(e=>{e.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach((e,t)=>{e=e.classList;t>r&&t<i&&e.add("range"),t===r&&e.add("range-start"),t===i&&e.add("range-end"),n.includes(t)&&e.add("selected"),t===this.focused&&e.add("focused")})}refreshFocus(){this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}class ue extends ae{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow"+[...this.cellClass].reduce((e,t,n)=>e+(n?t:t.toUpperCase()),""),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(T(a("span",12)))),super.init(e)}setOptions(e){_(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=g(e.minDate,this.step),this.minDate=E(this.minYear,0,1))),_(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=g(e.maxDate,this.step),this.maxDate=E(this.maxYear,11,31))),this.isMinView?e.datesDisabled&&(this.datesDisabled=e.datesDisabled):this.datesDisabled=[],void 0!==e[this.beforeShowOption]&&(e=e[this.beforeShowOption],this.beforeShow="function"==typeof e?e:void 0)}updateFocus(){var e=new Date(this.picker.viewDate),t=g(e,this.navStep),n=t+9*this.step;this.first=t,this.last=n,this.start=t-this.step,this.focused=g(e,this.step)}updateSelection(){var{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((e,t)=>w(e,g(t,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(e=>{if(void 0!==e)return g(e,this.step)}))}render(){this.disabled=this.datesDisabled.map(e=>new Date(e).getFullYear()),this.picker.setViewSwitchLabel(this.first+"-"+this.last),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{var n,r=e.classList,i=this.start+t*this.step,o=E(i,0,1);e.className="datepicker-cell "+this.cellClass,this.isMinView&&(e.dataset.date=o),e.textContent=e.dataset.year=i,0===t?r.add("prev"):11===t&&r.add("next"),(i<this.minYear||i>this.maxYear||this.disabled.includes(i))&&r.add("disabled"),this.range&&([t,n]=this.range,t<i&&i<n&&r.add("range"),i===t&&r.add("range-start"),i===n)&&r.add("range-end"),this.selected.includes(i)&&r.add("selected"),i===this.focused&&r.add("focused"),this.beforeShow&&this.performBeforeHook(e,i,o)})}refresh(){const[n,r]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(e=>{e.classList.remove("range","range-start","range-end","selected","focused")}),Array.from(this.grid.children).forEach(e=>{var t=Number(e.textContent),e=e.classList;t>n&&t<r&&e.add("range"),t===n&&e.add("range-start"),t===r&&e.add("range-end"),this.selected.includes(t)&&e.add("selected"),t===this.focused&&e.add("focused")})}refreshFocus(){var e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(e=>{e.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}function P(e,t){var n={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:n}))}function x(e,t){var{minDate:n,maxDate:r}=e.config,{currentView:i,viewDate:o}=e.picker;let a;switch(i.id){case 0:a=f(o,t);break;case 1:a=h(o,t);break;default:a=h(o,t*i.navStep)}a=G(a,n,r),e.picker.changeFocus(a).render()}function de(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function pe(e){e.config.updateOnBlur?e.update({revert:!0}):e.refresh("input"),e.hide()}function fe(e,t){var e=e.picker,n=new Date(e.viewDate),r=e.currentView.id,t=1===r?f(n,t-n.getMonth()):h(n,t-n.getFullYear());e.changeFocus(t).changeView(r-1).render()}function he(e){e.preventDefault()}const ge=["left","top","right","bottom"].reduce((e,t)=>(e[t]="datepicker-orient-"+t,e),{}),me=e=>e&&e+"px";function ye(e,t){if(void 0!==t.title&&(t.title?(e.controls.title.textContent=t.title,y):(e.controls.title.textContent="",c))(e.controls.title),t.prevArrow){const i=e.controls.prevBtn;v(i),t.prevArrow.forEach(e=>{i.appendChild(e.cloneNode(!0))})}if(t.nextArrow){const o=e.controls.nextBtn;v(o),t.nextArrow.forEach(e=>{o.appendChild(e.cloneNode(!0))})}var n,r;t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),void 0!==t.todayBtn&&(t.todayBtn?y:c)(e.controls.todayBtn),(_(t,"minDate")||_(t,"maxDate"))&&({minDate:n,maxDate:r}=e.datepicker.config,e.controls.todayBtn.disabled=!u(d(),n,r)),void 0!==t.clearBtn&&(t.clearBtn?y:c)(e.controls.clearBtn)}function ve(e){var{dates:e,config:t}=e;return G(0<e.length?s(e):t.defaultViewDate,t.minDate,t.maxDate)}function be(e,t){var n=new Date(e.viewDate),r=new Date(t),{id:i,year:o,first:a,last:s}=e.currentView,c=r.getFullYear();switch(e.viewDate=t,c!==n.getFullYear()&&P(e.datepicker,"changeYear"),r.getMonth()!==n.getMonth()&&P(e.datepicker,"changeMonth"),i){case 0:return t<a||s<t;case 1:return c!==o;default:return c<a||s<c}}function _e(e){return window.getComputedStyle(e).direction}class we{constructor(e){var t=(this.datepicker=e)["config"],n=re.replace(/%buttonClass%/g,t.buttonClass),n=this.element=T(n).firstChild,[r,i,o]=n.firstChild.children,a=r.firstElementChild,[r,s,c]=r.lastElementChild.children,[o,l]=o.firstChild.children,a={title:a,prevBtn:r,viewSwitch:s,nextBtn:c,todayBtn:o,clearBtn:l},r=(this.main=i,this.controls=a,e.inline?"inline":"dropdown");n.classList.add("datepicker-"+r),ye(this,t),this.viewDate=ve(e),J(e,[[n,"mousedown",he],[i,"click",function(e,t){var n,r;(t=X(t,".datepicker-cell"))&&!t.classList.contains("disabled")&&({id:n,isMinView:r}=e.picker.currentView,r?e.setDate(Number(t.dataset.date)):fe(e,1===n?Number(t.dataset.month):Number(t.dataset.year)))}.bind(null,e)],[a.viewSwitch,"click",function(e){de(e)}.bind(null,e)],[a.prevBtn,"click",function(e){x(e,-1)}.bind(null,e)],[a.nextBtn,"click",function(e){x(e,1)}.bind(null,e)],[a.todayBtn,"click",function(e){var t=e.picker,n=d();if(1===e.config.todayBtnMode){if(e.config.autohide)return void e.setDate(n);e.setDate(n,{render:!1}),t.update()}t.viewDate!==n&&t.changeFocus(n),t.changeView(0).render()}.bind(null,e)],[a.clearBtn,"click",function(e){e.setDate({clear:!0})}.bind(null,e)]]),this.views=[new se(this),new le(this),new ue(this,{id:2,name:"years",cellClass:"year",step:1}),new ue(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):e.inputField.after(this.element)}setOptions(t){ye(this,t),this.views.forEach(e=>{e.init(t,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){var e,t,n;this.active||({datepicker:e,element:t}=this,e.inline?t.classList.add("active"):((n=_e(e.inputField))!==_e(z(t))?t.dir=n:t.dir&&t.removeAttribute("dir"),t.style.visiblity="hidden",t.classList.add("active"),this.place(),t.style.visiblity="",e.config.disableTouchKeyboard&&e.inputField.blur()),this.active=!0,P(e,"show"))}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,P(this.datepicker,"hide"))}place(){var{classList:e,offsetParent:t,style:n}=this.element,{config:r,inputField:i}=this.datepicker,{width:o,height:a}=this.element.getBoundingClientRect(),{left:s,top:c,right:l,bottom:u,width:d,height:p}=i.getBoundingClientRect();let{x:f,y:h}=r.orientation,g=s,m=c;t!==document.body&&t?(r=t.getBoundingClientRect(),g-=r.left-t.scrollLeft,m-=r.top-t.scrollTop):(g+=window.scrollX,m+=window.scrollY);r=function e(t){t=z(t);if(t!==document.body&&t)return"visible"!==window.getComputedStyle(t).overflow?t:e(t)}(i);let y=0,v=0,{clientWidth:b,clientHeight:_}=document.documentElement,w=(r&&(0<(t=r.getBoundingClientRect()).top&&(v=t.top),0<t.left&&(y=t.left),t.right<b&&(b=t.right),t.bottom<_)&&(_=t.bottom),0);"auto"===f&&(s<y?(f="left",w=y-s):s+o>b?(f="right",b<l&&(w=b-l)):f="rtl"!==_e(i)||l-o<y?"left":"right"),"right"===f&&(g+=d-o),g+=w,"top"===(h="auto"===h?c-a>v&&u+a>_?"top":"bottom":h)?m-=a:m+=p,e.remove(...Object.values(ge)),e.add(ge[f],ge[h]),n.left=me(g),n.top=me(m)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevBtnDisabled(e){this.controls.prevBtn.disabled=e}setNextBtnDisabled(e){this.controls.nextBtn.disabled=e}changeView(e){var t=this.currentView,e=this.views[e];return e.id!==t.id&&(this.currentView=e,this._renderMethod="render",P(this.datepicker,"changeView"),this.main.replaceChild(e.element,t.element)),this}changeFocus(e){return this._renderMethod=be(this,e)?"render":"refreshFocus",this.views.forEach(e=>{e.updateFocus()}),this}update(){var e=ve(this.datepicker);return this._renderMethod=be(this,e)?"render":"refresh",this.views.forEach(e=>{e.updateFocus(),e.updateSelection()}),this}render(e=!0){e=e&&this._renderMethod||"render";delete this._renderMethod,this.currentView[e]()}}function D(e,t,n,r){e=e.picker;const i=e.currentView,o=i.step||1;let a=e.viewDate,s,c;switch(i.id){case 0:a=r?p(a,7*n):(t.ctrlKey||t.metaKey?h:p)(a,n),s=p,c=e=>i.disabled.includes(e);break;case 1:a=f(a,r?4*n:n),s=f,c=e=>{var e=new Date(e),{year:t,disabled:n}=i;return e.getFullYear()===t&&n.includes(e.getMonth())};break;default:a=h(a,n*(r?4:1)*o),s=h,c=e=>i.disabled.includes(g(e,o))}void 0!==(a=function e(t,n,r,i,o,a){if(u(t,o,a))return i(t)?e(n(t,r),n,r,i,o,a):t}(a,s,n<0?-o:o,c,i.minDate,i.maxDate))&&e.changeFocus(a).render()}function Ee(e,t){return e.map(e=>r(e,t.format,t.locale)).join(t.dateDelimiter)}function Se(e,t,n=!1){const{config:r,dates:i,rangeSideIndex:o}=e;if(0===t.length)return n?[]:void 0;let a=t.reduce((e,t)=>{t=k(t,r.format,r.locale);return void 0===t||!u(t=S(t,r.pickLevel,o),r.minDate,r.maxDate)||e.includes(t)||r.datesDisabled.includes(t)||!(0<r.pickLevel)&&r.daysOfWeekDisabled.includes(new Date(t).getDay())||e.push(t),e},[]);return 0!==a.length?(r.multidate&&!n&&(a=a.reduce((e,t)=>(i.includes(t)||e.push(t),e),i.filter(e=>!a.includes(e)))),r.maxNumberOfDates&&a.length>r.maxNumberOfDates?a.slice(-1*r.maxNumberOfDates):a):void 0}function M(e,t=3,n=!0){var r,{config:i,picker:o,inputField:a}=e;2&t&&(r=o.active?i.pickLevel:i.startView,o.update().changeView(r).render(n)),1&t&&a&&(a.value=Ee(e.dates,i))}function Oe(e,t,n){let{clear:r,render:i,autohide:o,revert:a}=n;(i=void 0===i?!0:i)?void 0===o&&(o=e.config.autohide):o=!1;n=Se(e,t,r);(n||a)&&(n&&n.toString()!==e.dates.toString()?(e.dates=n,M(e,i?3:1),P(e,"changeDate")):M(e,1),o)&&e.hide()}class ke{constructor(e,t={},n=void 0){(e.datepicker=this).element=e;var r=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:d(),maxDate:void 0,minDate:void 0},ne(I,this)),i=this.inline="INPUT"!==e.tagName;let o;if(i?r.container=e:(t.container&&(r.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container)),(o=this.inputField=e).classList.add("datepicker-input")),n){const c=n.inputs.indexOf(o);var a=n.datepickers;if(c<0||1<c||!Array.isArray(a))throw Error("Invalid rangepicker object.");a[c]=this,Object.defineProperty(this,"rangepicker",{get(){return n}}),Object.defineProperty(this,"rangeSideIndex",{get(){return c}})}this._options=t,Object.assign(r,ne(t,this));let s;i?(s=l(e.dataset.date,r.dateDelimiter),delete e.dataset.date):s=l(o.value,r.dateDelimiter),this.dates=[];a=Se(this,s),a&&0<a.length&&(this.dates=a),o&&(o.value=Ee(this.dates,r)),t=this.picker=new we(this);i?this.show():(e=function(e,t){const{element:n,picker:r}=e;if(r.active||m(n)){const i=r.element;X(t,e=>e===n||e===i)||pe(e)}}.bind(null,this),J(this,[[o,"keydown",function(e,t){var n=t.key;if("Tab"===n)pe(e);else{var r=e.picker,{id:i,isMinView:o}=r.currentView;if(r.active){if(e.editMode)return void("Enter"===n?e.exitEditMode({update:!0,autohide:e.config.autohide}):"Escape"===n&&r.hide());if("ArrowLeft"===n)if(t.ctrlKey||t.metaKey)x(e,-1);else{if(t.shiftKey)return void e.enterEditMode();D(e,t,-1,!1)}else if("ArrowRight"===n)if(t.ctrlKey||t.metaKey)x(e,1);else{if(t.shiftKey)return void e.enterEditMode();D(e,t,1,!1)}else if("ArrowUp"===n)if(t.ctrlKey||t.metaKey)de(e);else{if(t.shiftKey)return void e.enterEditMode();D(e,t,-1,!0)}else if("ArrowDown"===n){if(t.shiftKey&&!t.ctrlKey&&!t.metaKey)return void e.enterEditMode();D(e,t,1,!0)}else{if("Enter"!==n)return void("Escape"===n?r.hide():"Backspace"!==n&&"Delete"!==n&&(1!==n.length||t.ctrlKey||t.metaKey)||e.enterEditMode());if(o)return void e.setDate(r.viewDate);r.changeView(i-1).render()}}else{if("ArrowDown"!==n)return void("Enter"===n?e.update():"Escape"===n&&r.show());r.show()}t.preventDefault()}}.bind(null,this)],[o,"focus",function(e){e.config.showOnFocus&&!e._showing&&e.show()}.bind(null,this)],[o,"mousedown",function(e,t){const n=t.target;(e.picker.active||e.config.showOnClick)&&(n._active=m(n),n._clicking=setTimeout(()=>{delete n._active,delete n._clicking},2e3))}.bind(null,this)],[o,"click",function(e,t){(t=t.target)._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&e.enterEditMode(),delete t._active,e.config.showOnClick)&&e.show()}.bind(null,this)],[o,"paste",function(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}.bind(null,this)],[document,"mousedown",e],[document,"touchstart",e],[window,"resize",t.place.bind(t)]]))}static formatDate(e,t,n){return r(e,t,n&&C[n]||C.en)}static parseDate(e,t,n){return k(e,t,n&&C[n]||C.en)}static get locales(){return C}get active(){return!(!this.picker||!this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){var t=this.picker,n=ne(e,this);Object.assign(this._options,e),Object.assign(this.config,n),t.setOptions(n),M(this,3)}show(){if(this.inputField){if(this.inputField.disabled)return;m(this.inputField)||this.config.disableTouchKeyboard||(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}hide(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}destroy(){var e,t;return this.hide(),e=this,(t=b.get(e))&&(t.forEach(e=>{Y.call(...e)}),b.delete(e)),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}getDate(t=void 0){var e=t?e=>r(e,t,this.config.locale):e=>new Date(e);return this.config.multidate?this.dates.map(e):0<this.dates.length?e(this.dates[0]):void 0}setDate(...e){var t=[...e],n={},e=s(e),e=("object"!=typeof e||Array.isArray(e)||e instanceof Date||!e||Object.assign(n,t.pop()),Array.isArray(t[0])?t[0]:t);Oe(this,e,n)}update(e=void 0){this.inline||(e=Object.assign(e||{},{clear:!0,render:!0}),Oe(this,l(this.inputField.value,this.config.dateDelimiter),e))}refresh(e=void 0,t=!1){e&&"string"!=typeof e&&(t=e,e=void 0);let n;M(this,n="picker"===e?2:"input"===e?1:3,!t)}enterEditMode(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit"))}exitEditMode(e=void 0){!this.inline&&this.editMode&&(e=Object.assign({update:!1},e),delete this.editMode,this.inputField.classList.remove("in-edit"),e.update)&&this.update(e)}}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ce(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Te(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Le(e){e=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===j(e)?e:String(e)}var Ae=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data={},this.setter(e),this.setCssLink()}},{key:"setCssLink",value:function(){var e;document.getElementById("engt-calendar-css")||((e=document.createElement("link")).href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css",e.type="text/css",e.id="engt-calendar-css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e))}},{key:"initWrapper",value:function(){var e=this.data,t=e.id,n=e.label,e=e.errorId,r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),a=document.createElement("error-msg");n&&(o.classList.add("engt-form-label","engt-date-label"),o.innerHTML=n,r.appendChild(o)),i.setAttribute("data-field-role","input"),i.setAttribute("data-selected-date",(new Date).toLocaleDateString()),a.id=e||"engt-error-".concat(t),a.classList.add("engt-error"),a.style.marginTop="4px",i.id=t,this.datepicker=new ke(i,{maxView:2}),r.appendChild(i),r.appendChild(a),this.html=r}},{key:"onClick",value:function(){var e=this.datepicker.getDate("dd/mm/yyyy"),t=document.getElementById(this.data.id);null!=t&&t.setAttribute("data-selected-date",e)}},{key:"initEventHandlers",value:function(){this.html.addEventListener("click",this.onClick.bind(this))}},{key:"setter",value:function(e){this.data=Ce(Ce({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Ie(e.prototype,n),r&&Ie(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},5466:(N,B,e)=>{"use strict";e.d(B,{l:()=>ye});var R=e(9415),y=e(7410),v=e(4769),o=e(1102),G=e(3308),F=e(5212),U=e(1623),H=e(2566),u=e(9342),l=e(9914);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){e=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===d(e)?e:String(e)}function q(e){function t(e){return null!=l&&l[e]?"".concat(e,"-ellipsis-").concat(l[e]):""}var n=(e=e||{}).id,r=e.imageAlt,i=void 0===(i=e.style)?"":i,o=e.subtitle,a=void 0===(a=e.type)?y.WK.SMALL:a,s=e.image,c=e.title,l=void 0===(e=e.ellipsis)?{}:e,e=0===n,u=1===n,c=c?'<span class="title '.concat(t("title"),'" dir="auto">').concat(c,"</span>"):"",o=o?'<span class="description '.concat(t("description"),'" dir="auto">\n\t\t\t\t').concat(o.replaceAll("\n","<br/>"),"\n\t\t\t</span>"):"",s=s?'<img src="'.concat(s,'" alt="').concat(r,'" loader="lazy" />'):"";return'\n\t\t<div class="engt-card engt-card-'.concat(a,'" id="').concat(n,'" data-active="').concat(e,'" data-next="').concat(u,'"\n\t\t  ').concat(i?'style="'.concat(i,'"'):"",' dir="auto">\n\t\t\t<div class="engt-card-clickable">\n\t\t\t\t').concat(s,'\n\t\t\t\t<div class="engt-card-info" style="').concat(s?"":"width: 100%",'">\n\t\t\t\t\t').concat(c,"\n\t\t\t\t\t").concat(o,'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="engt-card-dropdowns">\n\t\t\t\t<dropdowns></dropdowns>\n\t\t\t</div>\n\t\t\t<div class="engt-card-btns">\n\t\t\t\t<buttons></buttons>\n\t\t\t</div>\n\t\t</div>\n    ')}var W=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data={},this.setter(p(p({},e),{},{label:e.title,id:e.id,name:e.name,options:e.options,payload:e.payload}))}},{key:"initWrapper",value:function(){var e=this.data,t=e.id,e=e.label,n=document.createElement("div"),r=(n.classList.add("engt-dropdown"),document.createElement("span"));r.classList.add("engt-dropdown-label"),r.innerHTML=e,n.appendChild(r),this.addDropdownOptions(n,this.data),t&&(n.id=t),this.html=n}},{key:"initEventHandlers",value:function(){var e=this.html.querySelectorAll(".engt-dropdown-options-wrapper");null!=e&&e.length&&Array.from(e).map(function(n){n.addEventListener("change",function(e){var t=p({},l.r.get("carouselDropdowns"))||{};t["".concat(n.name)]=e.target.value,l.r.set("carouselDropdowns",t)})})}},{key:"addDropdownOptions",value:function(e,t){var n=t.id,r=t.options,t=t.name;try{var i,o,a,s,c=r;null!=(i=c)&&i.length&&((a=document.createElement("select")).setAttribute("name","".concat(this.data.msgId,"-").concat(n,"-").concat(t)),a.setAttribute("id","".concat(this.data.msgId,"-").concat(n,"-").concat(t)),a.classList.add("engt-dropdown-options-wrapper"),s=p({},l.r.get("carouselDropdowns"))||{},(c="object"!==d(c[0])?c.map(function(e){return{id:e,label:e}}):c).map(function(e){var t=document.createElement("option");t.value=e.id,t.innerHTML=e.label,a.appendChild(t)}),s["".concat(this.data.msgId,"-").concat(n,"-").concat(t)]=null==(o=c[0])?void 0:o.id,l.r.set("carouselDropdowns",s),e.appendChild(a))}catch(e){console.error("JSON processing error in dropdown options: ",e)}}},{key:"setter",value:function(e){this.data=p(p({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s=e(8039),V={};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function z(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?c(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var K=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers(),this.initPopover()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=V,this.setter(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.innerHTML=q(this.data),this.html=e.children[0]}},{key:"initComponents",value:function(){var i=this,e=this.data,t=e.buttons,n=e.buttonStyle,o=void 0===n?"":n,n=e.buttonType,a=void 0===n?y.JB.SECONDARY:n,s=e.dropdowns,c=document.createDocumentFragment(),r=document.createDocumentFragment(),l=[];null!=(n=l=null!=s&&s.title&&null!=s&&s.payload&&s.title?z(JSON.parse(s.title)||[]):l)&&n.length&&l.map(function(e,t){var n=e.label,e=e.options;r.appendChild(new W({id:i.data.id,msgId:i.data.msgId,title:n,payload:null==s?void 0:s.payload,options:e,name:"dropdown-".concat(t)}).render())}),t&&t.length&&t.map(function(e){var t,n=e.title,r=null==(t=e.type)||null==(r=t.toUpperCase)?void 0:r.call(t);r===y.lB.PHONE_NUMBER?n='<span class="engt-btn-start-enhancer">'.concat((0,U.m)(),"</span>").concat(n):r===y.lB.WEB_URL&&(n='<span class="engt-btn-start-enhancer">'.concat((0,H.H)(),"</span>").concat(n)),c.appendChild(new u.z({style:"".concat(o),size:y.iY.SMALL,type:a,label:n,applyOnHover:!0,tabIndex:0,dataQa:G.$,onClick:(0,v.AM)(f(f({},e),{},{dropdowns:{data:l,payload:null==s?void 0:s.payload},index:i.data.id,msgId:"".concat(i.data.msgId,"-").concat(i.data.id,"-dropdown"),otherChannelsData:i.data.otherChannelsData}))}).render())}),null!=(e=l)&&e.length?(0,v.z_)(this.html.querySelector("dropdowns"),r):(0,v.bX)(this.html.querySelector(".engt-card-dropdowns")),null!=t&&t.length?(0,v.z_)(this.html.querySelector("buttons"),c):(0,v.bX)(this.html.querySelector(".engt-card-btns"))}},{key:"initEventHandlers",value:function(){function e(e){(e.which||e.keyCode)===o.nx.ENTER&&r(e)}var t=this.data,n=t.onClick,r=t.onImgClick,t=this.html.querySelector(".engt-card-clickable"),i=this.html.querySelector("img");n&&t&&(t.addEventListener("click",n),t.addEventListener("keydown",function(e){(e.which||e.keyCode)===o.nx.ENTER&&n()}),t.style.cursor="pointer"),r&&i&&(i.setAttribute("tabindex",0),i.addEventListener("click",r),i.addEventListener("keydown",e)),i&&i.addEventListener("error",function(){this.src=F,this.removeEventListener("click",r),this.removeEventListener("keydown",e)})}},{key:"initPopover",value:function(){var e,t=this.data,n=t.readMoreColor,n=void 0===n?"":n,t=t.popoverRole,r=this,i=this.html.querySelector(".title"),o=this.html.querySelector(".description");o&&(e=o.cloneNode(!0),new s.J({parent:o,child:e,role:t,textBgColor:n,onClick:function(){r.html.style.height="100%"}}).render()),i&&(o=i.cloneNode(!0),new s.J({parent:i,child:o,role:t,textBgColor:n,onClick:function(){r.html.style.height="100%"}}).render())}},{key:"setter",value:function(e){this.data=f(f({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),m=y.e7.STACKED_SEPARATED_DOT,b=y.e7.HORIZONTAL;function _(e){var t;return parseInt((null==(e=e.style.transform)||null==(t=e.split)||null==(t=t.call(e,"translate3d("))||null==(e=t[1])||null==(t=e.split)||null==(t=t.call(e,"px,"))?void 0:t[0])||0)}function w(e,t){0<e||!t.style||(t.style.transform="translate3d(".concat(e,"px, 0px, 0px)"))}var Y={},J=e(7329),X=e(5987);const Z=e.p+"assets/left.svg",Q=e.p+"assets/right.svg";function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach(function(e){T(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function T(e,t,n){(t=$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function $(e){e=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===E(e)?e:String(e)}var ee=function(){function t(e){var s=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");T(this,"initComponents",function(){var e=s.data.cardImgs,e=void 0===e?[]:e,i=s,o={},a=document.createElement("div");a.className="engt-popup-carousel-imgs",e.map(function(e,t){var n=e.url,e=e.id,t=(o[e]=t,document.createElement("div")),r=document.createElement("img");r.src=n,r.id="carousel-preview-".concat(e+1),r.alt="img-".concat(e+1),r.addEventListener("error",function(){i.removeErrorImg(this)}),t.className="engt-popup-carousel-img-wrapper",t.appendChild(r),a.appendChild(t)}),s.setter({idMap:o,idReverseMap:(0,v.bP)(o)}),(0,v.z_)(s.html.querySelector("list-of-imgs"),a)}),T(this,"initEventHandlers",function(){var n=s,e=s.data.cardImgs,t=s.html.querySelector(".engt-popup-carousel-left"),r=s.html.querySelector(".engt-popup-carousel-right"),i=n.html.querySelector(".engt-popup-carousel-imgs");s.html.querySelector(".engt-preview-close").addEventListener("click",s.onClose.bind(s)),s.html.addEventListener("keydown",s.listenForEscape.bind(s)),e.length<=1?(t.style.display="none",r.style.display="none"):(t.addEventListener("click",function(){var e=n.data.currentSelected;n.setter({currentSelected:e-1<=0?0:e-1}),n.scrollToActiveImg()}),r.addEventListener("click",function(){var e=n.data.currentSelected,t=i.children.length;n.setter({currentSelected:t-1<=e+1?t-1:e+1}),n.scrollToActiveImg()}))}),T(this,"initResizer",function(){var r=s;new J.Z(function(e){try{e.forEach(function(e){var t=e.target.children;r.setter({carouselViewArea:e.contentRect.width});for(var n=0;n<t.length;n++)t[n].style.width="".concat(e.contentRect.width,"px"),t[n].style.minWidth="".concat(e.contentRect.width,"px");r.scrollToActiveImg()})}catch(e){console.error("Resizing error in popover carousel -> ",e)}}).observe(s.html.querySelector(".engt-popup-carousel-imgs"))}),T(this,"initImgToShowOnOpen",function(){var e=s,t=e.data,n=t.idMap,n=void 0===n?{}:n,t=t.currentSelected,r=s.html.querySelector(".engt-popup-carousel-imgs");e.setter({currentSelected:n[t]||0}),r.style.scrollBehavior="unset",setTimeout(function(){r.style.scrollBehavior="smooth"},200)}),T(this,"removeErrorImg",function(e){var t,n;e&&(null!=(t=(n=(e=e.parentNode).parentNode).removeChild)&&t.call(n,e),s.toggleArrows())}),T(this,"onClose",function(){var e,t;(0,v.bX)(s.html),null!=(e=s.previousFocusElement)&&null!=(t=e.focus)&&t.call(e)}),T(this,"listenForEscape",(0,v.AT)(this.onClose)),T(this,"scrollToActiveImg",function(){var e=s.data||{},t=e.carouselViewArea,n=e.currentSelected,r=e.idReverseMap,e=e.onCardChange;s.html.querySelector(".engt-popup-carousel-imgs").scrollLeft=t*n,s.toggleArrows(),e(r[n])}),T(this,"disableArrow",function(e){e.setAttribute("disabled",!0)}),T(this,"enableArrow",function(e){e.removeAttribute("disabled")}),this.initData(e),this.deletePrevInstance(),this.initWrapper(),this.initComponents(),this.initEventHandlers(),this.initResizer(),this.initImgToShowOnOpen()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data={currentSelected:0,carouselViewArea:0,idMap:{},idReverseMap:{},onCardChange:function(){}},this.setter(e)}},{key:"deletePrevInstance",value:function(){var e=document.getElementById("engtMediaOverlay");e&&(0,v.bX)(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.className="engt-media-preview engt-media-controls-wrapper engt-open-preview",e.id="engtMediaOverlay",e.setAttribute("tabindex",2),e.innerHTML=(this.data,'\n\t\t<div \n            class="engt-preview-close engt-tab-selectable" \n            id="engtPreviewClose"\n            onkeydown="ENGT_CHAT.onEnterPress()"\n\t\t\ttabindex="2"\n\t\t\t>\n\t\t\t\t'.concat((0,X.W)("#403f42"),'\n        </div>\n\t\t<div class="engt-popup-carousel" dir="auto">\n\t\t\t<button class="engt-popup-carousel-arrow engt-popup-carousel-left" tabindex="2">\n\t\t\t\t<img src="').concat(Z,'" width="12" height="16" alt="preview-img-left" style="margin-right: 2px" loader="lazy"/>\n\t\t\t</button>\n\t\t\t<list-of-imgs></list-of-imgs>\n\t\t\t<button class="engt-popup-carousel-arrow engt-popup-carousel-right" tabindex="2">\n\t\t\t\t<img src="').concat(Q,'" width="12" height="16" alt="preview-img-right" style="margin-left: 2px" loader="lazy"/>\n\t\t\t</button>\n\t\t</div>\n        ')),this.previousFocusElement=document.activeElement,this.html=e}},{key:"setter",value:function(e){this.data=O(O({},this.data),e)}},{key:"toggleArrows",value:function(){var e=this.data.currentSelected,t=this.html.querySelector(".engt-popup-carousel-left"),n=this.html.querySelector(".engt-popup-carousel-right"),r=this.html.querySelector(".engt-popup-carousel-imgs").children.length;0===e?(this.disableArrow(t),this.enableArrow(n)):e===r-1?(this.disableArrow(n),this.enableArrow(t)):(this.enableArrow(t),this.enableArrow(n))}},{key:"render",value:function(){return document.getElementById("engtWrapper").appendChild(this.html),this.html.focus(),this.html}}])&&k(e.prototype,n),r&&k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach(function(e){I(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ie(r.key),r)}}function I(e,t,n){(t=ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function ie(e){e=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===C(e)?e:String(e)}var oe=function(){function t(e){var a=this;if(this instanceof t)return I(this,"initComponents",function(){var t,n,e=a.data,r=e.headerBtns,i=e.footerBtns,o=e.parentHTML,e=e.carouselId;null!=r&&r.length?(t=document.createDocumentFragment(),r.map(function(e){t.appendChild(new u.z({type:y.JB.BASE,size:y.iY.SMALL,label:e.title,applyOnHover:!0,onClick:(0,v.AM)(e),style:"width: calc( 100% - 16px); margin: 4px 8px 0 8px;"}).render())}),(0,v.z_)(a.html.querySelector("header-button"),t)):(0,v.z_)(a.html.querySelector("header-button"),""),(0,v.z_)(a.html.querySelector("list-cards"),o.querySelector("#".concat(e))),null!=i&&i.length&&(n=document.createDocumentFragment(),i.map(function(e){n.appendChild(new u.z({type:y.JB.PRIMARY,size:y.iY.SMALL,label:e.title,applyOnHover:!0,onClick:(0,v.AM)(e),style:"border-radius: 0 0 8px 8px;padding: 10px 8px 10px 8px;"}).render())}),a.html.appendChild(n))}),I(this,"initPopover",function(){var e=a.html.querySelector(".title"),t=a.html.querySelector(".sub-title"),n=(null==e?void 0:e.parentNode)||(null==t?void 0:t.parentNode);t&&new s.J({parent:t,child:t.cloneNode(!0),role:y.iX.EXPANDABLE,onClick:function(){n&&(n.style.height="".concat(n.clientHeight+t.scrollHeight-t.clientHeight,"px"),t.style.height="unset")}}).render(),e&&new s.J({parent:e,child:e.cloneNode(!0),role:y.iX.EXPANDABLE,onClick:function(){n&&(n.style.height="".concat(n.clientHeight+e.scrollHeight-e.clientHeight,"px"),e.style.height="unset")}}).render()}),this.initData(e),this.initWrapper(),this.initComponents(),this.initPopover(),this.html;throw new TypeError("Cannot call a class as a function")}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data={},this.setter(e),this.setter({headerColor:this.data.header_image?"#fff":"#403F42"})}},{key:"initWrapper",value:function(){var e,t,n,r,i,o,a=document.createElement("div");a.classList.add("engt-carousel-list"),a.innerHTML=(e=this.data,t=e.alignment,n=e.header,r=e.header_text_color,i=e.header_image,o=e.sub_header,e=e.headerColor,n||o||i?'\n        <div class="engt-carousel-list-header" \n            style="background-image: url(\''.concat(i,"');background-repeat: no-repeat;background-size: cover;text-align: ").concat(t,"; color: ").concat(e,'">\n            <span class="title" style="color: ').concat(r,';">\n                ').concat(n,'\n            </span>\n            <span class="sub-title" >\n                ').concat(o,"\n            </span>\n            <header-button></header-button>\n        </div>\n        <list-cards></list-cards>\n    "):"\n            <list-cards></list-cards>\n        "),this.html=a}},{key:"setter",value:function(e){this.data=ne(ne({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&re(e.prototype,n),r&&re(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?P(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach(function(e){D(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function D(e,t,n){(t=ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function ce(e){e=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===L(e)?e:String(e)}var le=y.e7.SINGLE_INLINE_DOT,ue=y.e7.STACKED_SEPARATED_DOT,M=(y.e7.VERTICAL_LIST,y.e7.VERTICAL_CONTINUOUS_SCROLL_SEAMLESS),j=y.e7.VERTICAL_SHOW_ONE_SEAMLESS,de=y.e7.VERTICAL_SHOW_ONE_LIST,pe=y.e7.VERTICAL_SHOW_ONE_SEPARATE,fe=y.e7.VERTICAL_CONTINUOUS_SCROLL_SEPARATE,he=y.e7.HORIZONTAL_SHOW_ONE_SEAMLESS,ge=y.e7.HORIZONTAL,me=y.e7.VERTICAL,ye=function(){function t(e){var a=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");D(this,"setActiveSlide",function(e,i,o){var t=document.getElementById(a.dotsId);e.querySelectorAll(".engt-card").forEach(function(e,t){var n="".concat(o*t,"px"),r=t===i,t=t===i+1;e.setAttribute("data-active",r),e.setAttribute("data-next",t),e.style.left=r?n:""}),a.setActiveDotAndArrow(t,i)}),D(this,"setActiveDotAndArrow",function(e,n){var t,r=null==e||null==(t=e.querySelectorAll)?void 0:t.call(e,".dot"),i=e.querySelector(".arrow-left"),o=e.querySelector(".arrow-right");null!=r&&r.length&&r.forEach(function(e,t){(t===n?(0,v.cn):(0,v.IV))(e,"dot-active"),t===n&&((0!==t||a.isCircular?(0,v.IV):(0,v.cn))(i,"arrow-left-disabled"),(t!==r.length-1||a.isCircular?(0,v.IV):(0,v.cn))(o,"arrow-right-disabled"))})}),D(this,"onCarouselPrevious",function(e,t){var n;t&&(e.stopPropagation(),e=parseInt(t.getAttribute("data-active-slide")),n=parseInt(t.getAttribute("data-slide-length")),t.setAttribute("data-active-slide",n=0===e?n:e-1),a.showCard(t,n))}),D(this,"onCarouselNext",function(e,t){t&&(e.stopPropagation(),e=parseInt(t.getAttribute("data-active-slide"))+1,t.setAttribute("data-active-slide",e),a.showCard(t,e))}),D(this,"onStackClick",function(e,t){parseInt(e.target.getAttribute("id"))!==parseInt(t.getAttribute("data-active-slide")||"0")&&a.onCarouselNext(e,t)}),D(this,"onCarouselDotClick",function(e,t){e=document.getElementById(e);e&&(e.setAttribute("data-active-slide",parseInt(t)),a.showCard(e,parseInt(t)))}),D(this,"showCard",function(e,t){var n,r,i,o;null!=e&&null!=(n=e.children)&&n.length&&(n=parseInt(e.getAttribute("data-slide-length")),r=a.isCircular?2*n-1:t,o=i=null,o=a.isCircular?(i=e.querySelectorAll(".engt-card")[r].clientWidth,(0,v.pv)(e,"engt-carousel-".concat(ge.toLowerCase()))||(0,v.pv)(e,"engt-carousel-".concat(ue.toLowerCase()))?i*t:t&&i*t+8*t-4):i=e.querySelectorAll(".engt-card")[r].offsetLeft,e.style.transition="transform 0.4s linear",e.style.transform="translate3d(-".concat(o,"px, 0, 0)"),a.setActiveSlide(e,t,i),t===n)&&a.isCircular&&setTimeout(function(){a.setActiveSlide(e,0,i),e.setAttribute("data-active-slide",0),e.style.transition="unset",e.style.transform="translate3d(0px, 0, 0)"},400)}),D(this,"getCardImages",function(){var e=(this.data||{}).cards,n=[];return(void 0===e?[]:e).map(function(e,t){return e.image&&n.push({url:e.image,id:t})}),n}),D(this,"onCarouselImgClick",function(e,t){var n=a,r=a.getCardImages();t.preventDefault(),t.stopPropagation(),new ee({currentSelected:e,cardImgs:r,onCardChange:function(e){n.bindDragListeners&&1<r.length&&n.onCarouselDotClick(n.carouselId,e)}}).render()}),this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.id=null!=e&&e.id?null==e?void 0:e.id:(0,v.zJ)(),this.data=Y,this.setter(x(x({},e),{},{id:this.id})),this.dotsId="engtCarouselDots-".concat(this.id),this.carouselId="engtCarousel-".concat(this.id)}},{key:"initWrapper",value:function(){var e,t,n,r,i,o=this.data,a=o.type,s=o.cards,o=o.shouldWrap,o=void 0===o||o,c=document.createElement("div");c.innerHTML=(i=this.data,t=this.carouselId,n=void 0===(n=(i=i||{}).style)?"":n,r=i.cards,i=void 0===(i=i.type)?y.WK.SMALL:i,'\n\t\t<div class="engt-carousel-'.concat(i.toLowerCase(),'" id="').concat(t,'"\n\t\t\tstyle="').concat(n||""," --slide-count: ").concat(r.length,';"\n\t\t\tdata-active-slide="0" data-slide-length=').concat(r.length,' data-id-no="').concat(t,'">\n\t\t\t  \t<cards></cards>\n\t\t\t\t<div class="engt-carousel-overlay"></div>\n\t\t</div>\n    ')),c.className="engt-carousel-wrapper engt-msg-border-bot",c.setAttribute("dir","ltr"),-1<[M,fe].indexOf(a)&&(e="padding-right: 0px"),this.html=o?new R.e(x(x({},this.data),{},{message:"carousel",innerHTML:c.outerHTML},e&&{style:e})):c,1<(null==s?void 0:s.length)&&((i=document.createElement("div")).innerHTML=function(e){e=(e||{}).cards.map(function(e,t){return'<div class="dot '.concat(0===t?"dot-active":"",'"></div>')}).join("");return'\n\t\t<div class="arrow-left arrow-left-disabled">\n\t\t\t'.concat('<svg width="5" height="8" viewBox="0 0 5 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M0.533761 4.5546C0.235709 4.24486 0.235709 3.75495 0.53376 3.4452L3.12354 0.753826C3.62288 0.234891 4.5 0.588359 4.5 1.30853L4.5 6.69128C4.5 7.41145 3.62289 7.76491 3.12354 7.24598L0.533761 4.5546Z" fill="inherit"/>\n</svg>\n',"\n\t\t</div>\n\t\t").concat(e,'\n\t\t<div class="arrow-right ').concat(e.length<=1?"arrow-rigth-disabled":"",'">\n\t\t\t').concat('<svg width="5" height="8" viewBox="0 0 5 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.46624 3.4454C4.76429 3.75514 4.76429 4.24505 4.46624 4.5548L1.87646 7.24617C1.37712 7.76511 0.5 7.41164 0.5 6.69147L0.5 1.30872C0.5 0.588552 1.37711 0.235085 1.87646 0.754021L4.46624 3.4454Z" fill="inherit"/>\n</svg>\n',"\n\t\t</div>\n    ")}(this.data,(this.carouselId,this.dotsId)),i.classList.add("engt-carousel-dots"),i.id=this.dotsId,this.dots=i)}},{key:"initComponents",value:function(){var a=this,e=this.data||{},t=e.cards,n=e.type,n=void 0===n?j:n,r=e.ellipsis,s=void 0===r?{}:r,i=e.config,o=e.footerBtns,c=e.headerBtns,l=e.popoverRole,u=e.otherChannelsData,r=i||{},e=r.alignment,r=(r.width,r.arrangement),d=y.JB.BASE,p=y.WK.SMALL,f="",h=[],g=(this.isCircular=!1,this.onWrapperClick=null,this.bindDragListeners=!1,this.showInlineDot=!1,this.showInlineDotArrow=!1,this);switch(i&&(e&&(f+="text-align: ".concat(e,";")),r)&&"flexible"===r.toLowerCase()&&this.html.querySelector("#".concat(this.carouselId)).classList.add("engt-carousel-flexible"),-1<[M,j,he].indexOf(n)&&(d=y.JB.MINI),n){case le:p=y.WK.SMALL,h=1<(null==t?void 0:t.length)?[].concat(A(t),A(t)):A(t);break;case ue:case ge:p=y.WK.SMALL,f="",h=1<(null==t?void 0:t.length)?[].concat(A(t),A(t)):A(t),this.isCircular=!0,this.bindDragListeners=!0,this.onWrapperClick=function(e){g.onStackClick(e,this.parentElement)};break;case me:p=y.WK.MEDIUM,h=A(t),f="margin-bottom: 8px;";break;case M:case fe:p=y.WK.THIN,h=1<(null==t?void 0:t.length)?[].concat(A(t),A(t)):A(t),f=1<(null==t?void 0:t.length)?"margin-bottom: 8px;":"",this.isCircular=!0,this.bindDragListeners=!0,this.showInlineDot=!0,this.showInlineDotArrow=!0;break;case j:case he:case pe:p=y.WK.THIN,h=A(t),this.bindDragListeners=!0,this.showInlineDot=!0,this.showInlineDotArrow=!0,this.html.querySelector(".engt-carousel-wrapper").style.width="226px";break;case de:var m=this.html.querySelector(".engt-carousel-wrapper"),p=y.WK.THIN,h=A(t);this.showInlineDot=!1,this.showInlineDotArrow=!1,m.style.boxShadow="0px 0px 12px rgba(64, 63, 66, 0.08)",m.appendChild(new oe(x({parentHTML:this.html,carouselId:this.carouselId,footerBtns:o,headerBtns:c},i)));break;default:p=y.WK.SMALL,h=A(t)}h.map(function(e,t){var n=e||{},r=n.gradient_bottom_color,i=n.gradient_top_color,o=n.default_action,n=(n.image_aspect_ratio,null);r&&i&&(f+="background-image: linear-gradient(to top,".concat(r,",").concat(i,");")),f+="color: ".concat((0,v.Qg)(r||"#ffffff",i||"#ffffff"),";"),o&&(n=function(){window.open(o,"_blank")}),a.html.querySelector("cards").appendChild(new K(x(x({},e),{},{id:e.id||t,msgId:a.id,ellipsis:x({},s),style:f,type:p,buttonStyle:"",buttonType:d,popoverRole:l,readMoreColor:r===i?i:"",onClick:n,onImgClick:a.onCarouselImgClick.bind(g,t),otherChannelsData:u})).render())}),(0,v.DZ)(this.html.querySelector("cards")),this.showInlineDot&&this.dots&&((e=document.createElement("div")).classList.add("engt-carousel-inline-dot"),e.appendChild(this.dots),this.html.querySelector(".engt-carousel-wrapper").appendChild(e))}},{key:"initEventHandlers",value:function(){var n=this,e=n.onWrapperClick,t=n.showInlineDotArrow,r=(n.cards,n.data.type,this.html.querySelector(".engt-carousel-overlay"));e&&r?r.addEventListener("click",e):r&&(r.style.display="none"),this.dots&&(e=this.dots.querySelector(".arrow-left"),r=this.dots.querySelector(".arrow-right"),this.dots.querySelectorAll(".dot").forEach(function(e,t){e.addEventListener("click",function(){n.onCarouselDotClick(n.carouselId,t)})}),this.bindDragListeners&&function(){var o=this,e=this.data,a=e.id,s=e.type,c=this.html.querySelector("#engtCarousel-".concat(a)),l=parseInt(c.getAttribute("data-slide-length"));function t(e){try{if("touchstart"===e.type?this.initialX=e.touches[0].clientX-this.xOffset:this.initialX=e.clientX-this.xOffset,!o.maxCarouselLength)for(var t=o.html.querySelector("#engtCarousel-".concat(a)).children,n=0;n<t.length;n++)o.maxCarouselLength+=t[n].scrollWidth;this.whenStartX=this.currentX,this.isDragActive=!0}catch(e){console.error("Got error handling carousel drag start event",e)}}function n(e){if(0<this.currentX)this.isDragActive=!1,this.whenStartX=this.xOffset=this.currentX=0;else if(this.whenStartX===this.currentX)this.isDragActive=!1;else try{this.initialX=this.currentX,this.isDragActive=!1;var t,n=o.html.querySelector("#engtCarousel-".concat(a,">div[data-active='true']")).scrollWidth,r=l*n+8*l-8,i=Math.abs(this.currentX);s===b||s===m?(30<i-Math.abs(this.whenStartX)?o.onCarouselNext(e,o.html.querySelector("#engtCarousel-".concat(a))):30<Math.abs(i-Math.abs(this.whenStartX))&&o.onCarouselPrevious(e,o.html.querySelector("#engtCarousel-".concat(a))),this.whenStartX=this.xOffset=this.currentX=_(c)):i<n/4?(o.onCarouselDotClick(o.carouselId,0),this.whenStartX=this.xOffset=0):n<i&&i<r?(t=Math.round(i/n))===l?o.isCircular&&(o.onCarouselDotClick(o.carouselId,l),this.whenStartX=this.xOffset=0):(o.onCarouselDotClick(o.carouselId,t),this.whenStartX=this.xOffset=_(c)):r<i?o.isCircular&&(o.onCarouselDotClick(o.carouselId,l),this.whenStartX=this.xOffset=0):(o.onCarouselDotClick(o.carouselId,1),this.whenStartX=this.xOffset=_(c))}catch(e){console.error("Got error handling carousel drag end event",e)}}function r(e){e.preventDefault(),e.stopPropagation();try{this.isDragActive&&("touchmove"===e.type?this.currentX=e.touches[0].clientX-this.initialX:this.currentX=e.clientX-this.initialX,this.xOffset=this.currentX,s!==b)&&s!==m&&(o.isCircular?Math.abs(this.currentX)<=o.maxCarouselLength&&w(this.currentX,c):Math.abs(this.currentX)<=o.maxCarouselLength-190&&w(this.currentX,c))}catch(e){console.error("Got error handling carousel dragging event",e)}}this.isDragActive=!1,this.currentX=0,this.initialX,this.xOffset=0,this.whenStartX=0,this.maxCarouselLength=0,c.addEventListener("touchstart",t,!1),c.addEventListener("touchend",n,!1),c.addEventListener("touchcancel",n,!1),c.addEventListener("touchmove",r,!1),c.addEventListener("mousedown",t,!1),c.addEventListener("mouseup",n,!1),c.addEventListener("mouseleave",n,!1),c.addEventListener("mousemove",r,!1),c.addEventListener("mouseover",function(){this.whenStartX=this.xOffset=this.currentX=_(c)},!1)}.call(this),t?(e.addEventListener("click",function(e){n.onCarouselPrevious(e,document.getElementById(n.carouselId))}),r.addEventListener("click",function(e){n.onCarouselNext(e,document.getElementById(n.carouselId))})):(e.style.display="none",r.style.display="none"))}},{key:"setter",value:function(e){this.data=x(x({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&se(e.prototype,n),r&&se(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},5062:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var i=n(4769),o=n(9914);var a={wrapperId:"",contentId:"",content:""},s=n(5987);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function d(e,t,n){(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function p(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var f=function(){function t(e){var n=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");d(this,"open",function(){var e;document.addEventListener("keydown",n.listenForEscape.bind({wid:n.wid,cid:n.cid})),null!=(e=o.r.get("hideMinimizedCallout"))&&e(),(0,i.cn)(document.getElementById(n.wid),"engt-modal-open"),(0,i.cn)(document.getElementById(n.cid),"engt-modal-animate")}),d(this,"close",function(e,t){(e&&e.target.id===n.wid||t)&&(document.removeEventListener("keydown",n.listenForEscape),(0,i.IV)(document.getElementById("".concat(n.wid)),"engt-modal-open"),(0,i.IV)(document.getElementById("".concat(n.cid)),"engt-modal-animate"))}),d(this,"listenForEscape",(0,i.AT)(function(e){n.close(e,!0)})),this.wid=e.wrapperId,this.cid=e.contentId,this.initData(e),this.initWrapper(),this.initComponents(),this.initEvents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){var t;this.data=l(l({},a),{},{closeable:null==(t=null==e?void 0:e.closeable)||t}),this.setter(e)}},{key:"initWrapper",value:function(){var e,t,n=this.data||{},r=n.wrapperCss,n=n.wrapperId,i=document.createElement("div");i.id=n,i.className="engt-modal",i.style=r||"",i.setAttribute("tabindex",-1),i.addEventListener("click",this.close),i.innerHTML=(n=this.data,r=(n=n||{}).wrapperId,e=n.contentId,t=void 0===(t=n.contentCss)?"":t,n=void 0===(n=n.closeable)||n?'<span \n\t\t\ttabindex="0"\n\t\t\tclass="engt-modal-close tab-selectable"\n\t\t\tdata-wid="'.concat(r,'" data-cid="').concat(e,'">\n\t\t\t').concat((0,s.W)("#000"),"\n\t\t\t</span>"):"",'\n\t\t<div id="'.concat(e,'" class="engt-modal-content" style="').concat(t,'">\n\t\t\t').concat(n,"\n\t\t\t<modal-content></modal-content>\n\t\t</div>\n    ")),this.html=i}},{key:"initComponents",value:function(){var e=(this.data||{}).content;(0,i.z_)(this.html.querySelector("modal-content"),e)}},{key:"initEvents",value:function(){var t=this;this.data.closeable&&(this.html.querySelector(".engt-modal-close").addEventListener("click",function(e){t.close(e,!0)}),this.html.querySelector(".engt-modal-close").addEventListener("keydown",function(e){o.r.get("onEnterPress")(t.close.bind(t,e,!0))}))}},{key:"setter",value:function(e){this.data=l(l({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},8039:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var t=n(7410),S=n(4769),a=n(9914),i=n(7329);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var u=t.iX.EXPANDABLE,d=t.iX.ELLIPSIS,p=t.iX.TOOLTIP,f=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e);e=this.data.role;e===d||e===u?this.initReadMore():(this.initWrapper(),this.initEventHandlers())}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.engtPopoverInstance=document.getElementById("engtPopover"),this.engtPopoverOverlay=document.getElementById("engtPopoverOverlay"),this.data={role:u},this.setter(e)}},{key:"initReadMore",value:function(){var e=this,t=this.data,n=t.parent,t=t.role;t!==d&&t!==u||new i.Z(function(){try{e.initWrapper(),e.initEventHandlers()}catch(e){console.error("Resizing error in text ellipsiser -> ",e)}}).observe(n)}},{key:"initWrapper",value:function(){var e=this.data,t=e.parent,n=e.role,r=e.textBgColor;switch(this.isEllipsisActive=(0,S.Rj)(t),n){case d:case u:var i,o=t&&t.querySelector(".engt-read-more"),o=(o&&o.parentNode.removeChild(o),'... <span class="engt-read-more-text">'.concat((null==(o=a.r.get("GENERIC_STRINGS"))?void 0:o.READ_MORE)||"Read More","</span>"));this.isEllipsisActive&&((i=document.createElement("button")).innerHTML=o,i.className="engt-read-more engt-tab-selectable",i.setAttribute("tabindex",0),r&&(i.style.backgroundColor=r),this.html=i,t.style.position="relative",t.appendChild(this.html));break;case p:this.html=t}}},{key:"initEventHandlers",value:function(){var e=this.data.role;this.isEllipsisActive&&e===d||e===p?(this.html.addEventListener("click",this.onReadMoreEllipsisClick.bind(this)),this.engtPopoverInstance.addEventListener("click",this.onPopoverClick.bind(this)),this.engtPopoverOverlay.addEventListener("click",this.onClickOutside.bind(this)),this.html.style.cursor="pointer"):this.isEllipsisActive&&e===u&&this.html.addEventListener("click",this.onReadMoreExpandable.bind(this))}},{key:"onReadMoreExpandable",value:function(e){var t,n;e.stopPropagation(),e.preventDefault(),this.data.parent.style.maxHeight="100%",null!=(t=this.data)&&null!=(n=t.onClick)&&n.call(t,e,this),this.html.innerHTML=""}},{key:"onReadMoreEllipsisClick",value:function(e){var t,n,r,i=this,o=this.data,a=o.child,o=o.role;try{e.stopPropagation(),e.preventDefault(),null!=(s=this.data)&&null!=(c=s.onClick)&&c.call(s,e,this),this.engtPopoverInstance.appendChild(a);var s,c,l,u,d=e.target,p=d.getBoundingClientRect(),f=document.getElementById("engtWrapper").getBoundingClientRect(),h=(0,S.yP)(this.engtPopoverInstance.cloneNode(!0),this.engtPopoverOverlay),g=p.left-f.left+d.scrollWidth/2,m=p.top-f.top,y=h.offsetHeight,v=h.offsetWidth,b=y<m?"top":"bottom",_="middle",w=g-v/2<0?g:g-v/2,E=(w+v-10>f.width&&(_="right",w=f.width-v),"top"==b?m-y:m+d.scrollHeight);t=_,n=b,(r=document.createElement("div")).className="arrow-".concat(t," arrow-").concat(n),i.engtPopoverInstance.appendChild(r),this.engtPopoverInstance.style.transform="translate3d(".concat(w,"px, ").concat(E,"px, 0px)"),this.engtPopoverInstance.style.visibility="visible",this.engtPopoverOverlay.style.display="block",(0,S.cn)(this.engtPopoverInstance,"engt-popover-".concat(o.toLowerCase())),null!=(l=this.engtPopoverInstance.querySelector("a"))&&null!=(u=l.focus)&&u.call(l)}catch(e){console.error("Error fetching popover coords",e)}}},{key:"onPopoverClick",value:function(e){e.stopPropagation()}},{key:"onClickOutside",value:function(e){var t=this.data.role;this.engtPopoverInstance.innerHTML="",this.engtPopoverInstance.style="",this.engtPopoverOverlay.style.display="none",(0,S.IV)(this.engtPopoverInstance,"engt-popover-".concat(t.toLowerCase()))}},{key:"setter",value:function(e){this.data=s(s({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},3343:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});const i=n.p+"assets/copy.svg",o=n.p+"assets/globe.svg";var a=n(8039),s=n(1102),c=n(7410),l=n(4769),u=n(9914);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===d(e)?e:String(e)}(r.key),r)}}var h=function(){function n(e){var t=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.initData(e),setTimeout(function(){t.initialisePopover()},0)}var e,t,r;return e=n,(t=[{key:"initData",value:function(e){this.data={};var t=e.msg,n=e.message_id,e=e.is_iframe;this.data={msg:t,message_id:n},this.html=e?(t=this.data,n=document.getElementById("engtIframe"),null!=(e=null==n?void 0:n.parentElement)&&e.removeChild(n),e=t.msg,n=t.message_id,t=(t=(t=e.match(s.v6))?t[1]:null)?e.replace(/<a /g,' <iframe class="engt-iframe" id="engtIframe" src='.concat(t,'></iframe>\n\t\t<a target="_blank" class="engt-link" data-link-preview-id=').concat(n," ")):e.replace(/<a /g,'<a target="_blank" class="engt-tab-selectable" data-link-preview-id='.concat(n," ")),'<div class="engt-msg engt-msg-bot engt-msg-border-bot engt-msg-iframe">\n        <span class="engt-link">'.concat(t,"</span>\n</div> ")):(e=this.data,n=e.msg,e=e.message_id,n=n.replace(/<a /g,'<a target="_blank" class="engt-tab-selectable" data-link-preview-id='.concat(e," ")),'<span class="engt-link">'.concat(n,"</span>"))}},{key:"displayCopiedPopover",value:function(e){var e=null==e||null==(e=e.parentNode)?void 0:e.parentNode,t=null==e?void 0:e.querySelector(".engt-copied-popover");null!=t&&t.style&&(t.style.display="block",setTimeout(function(){t.style.display="none"},2e3))}},{key:"createCopiedPopover",value:function(){var e=document.createElement("span");return e.innerHTML="Copied",(0,l.cn)(e,"engt-copied-popover"),e}},{key:"copyContent",value:function(e,t){var n;n=(n=null==t||null==(n=t.target)||null==(n=n.dataset)?void 0:n.linkPreviewCopy).replace("mailto:",""),(0,l.vQ)(n),e.displayCopiedPopover(null==t?void 0:t.target)}},{key:"getCopyIcon",value:function(e){var t=this,e="<img data-link-preview-copy=".concat(null==e?void 0:e.href,' src="').concat(i,'" alt="copy-icon" tabindex="0" style="cursor: pointer;" width="24" height="24"></img>'),n=document.createElement("span");return n.innerHTML=e,n.addEventListener("click",t.copyContent.bind(this,t)),n.addEventListener("keydown",function(e){(e.which||e.keyCode)===s.nx.ENTER&&t.copyContent.call(this,t,e)}),n}},{key:"getChildComponent",value:function(e){var t=this.getCopyIcon(e),n='<img src="'.concat(o,'" alt="globe-icon" width="24" height="24"></img>'),e='<span style="display:flex;"><a class="engt-popover-preview-content" target="_blank" href="'.concat(null==e?void 0:e.href,'">').concat(null==e?void 0:e.href,"</a></span>"),n='<span class="engt-popover-globe-icon">'.concat(n).concat(e,"</span>"),e=document.createRange().createContextualFragment(n),n=document.createElement("span");return(0,l.cn)(n,"engt-popover-preview"),n.appendChild(e),n.appendChild(t),n.appendChild(this.createCopiedPopover()),n}},{key:"initialisePopover",value:function(){var i=this;p(document.querySelectorAll('[data-link-preview-id="'.concat(this.data.message_id,'"]'))).filter(function(e){return e}).map(function(e){var t=e.getAttribute("href"),n=t.includes("document/viewer.html"),r=u.r.get("config.isPdfLinkPreviewEnabled")&&n,n=u.r.get("config.isWebLinkPreviewEnabled")&&!n;r||n?e.addEventListener("click",function(e){e.preventDefault(),u.r.get("onMaximizeScreen")(),u.r.get("showSourcePreviewScreen")(t)}):new a.J({parent:e,child:i.getChildComponent(e),role:c.iX.TOOLTIP}).render()})}},{key:"render",value:function(){return this.html}}])&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}()},6854:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>a,gS:()=>o,jz:()=>c,uG:()=>i});var r=n(4769),s=n(9914),i=function(e,t,n){var r=document.getElementById("engt-play-".concat(n)),n=document.getElementById("engt-pause-".concat(n));("pause"===t?(e.play(),r.classList.add("engt-hidden"),n):(e.pause(),n.classList.add("engt-hidden"),r)).classList.remove("engt-hidden")},o=function(e,t,n){var r=document.getElementById("engt-style-".concat(n,"-").concat(t)),i=null==(i=r)||i,o=((r=null!=(o=r)?o:document.createElement("style")).id="engt-style-".concat(n,"-").concat(t),"control"===t?"#fff":s.r.get("config.botResponseTextColor")),a="control"===t?"#403F42":"#C4C4C4";r.textContent="#".concat(n,"-").concat(t,"::-webkit-slider-runnable-track{ background-image: linear-gradient(\n\t\t\t\t90deg, ").concat(o,", ").concat(o," ").concat(e,"%, ").concat(a," ").concat(e,"%, ").concat(a,") !important}\n\t\t\t\t#").concat(n,"-").concat(t,"::-moz-range-track{ background-image: linear-gradient(\n\t\t\t\t\t90deg, ").concat(o,", ").concat(o," ").concat(e,"%, ").concat(a," ").concat(e,"%, ").concat(a,") !important}"),i&&document.body.appendChild(r)},a=function(e,t,n){t&&(t.pause(),e.currentTime=t.currentTime,e.playbackRate=t.playbackRate,e.volume=t.volume,document.getElementById("engtVolProgress-".concat(n)).value=e.volume,document.getElementById("engtRateText-".concat(n)).innerHTML="".concat(e.playbackRate,"x")),o(100*e.volume,n,"engtVolProgress"),"control"!==n&&0===e.currentTime||i(e,"pause",n)},c=function(){document.querySelectorAll("audio").forEach(function(e){return(0,r.pv)(e,"engt-audio-msg")&&e.pause()}),document.querySelectorAll("video").forEach(function(e){return(0,r.pv)(e,"engt-video-msg")&&e.pause()})}},9415:(e,t,n)=>{"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}n.d(t,{e:()=>p});var l={id:"",img:"",size:"",altText:""},g=n(7410),m=n(9914);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(r.key),r)}}var y=function(){function s(e){var t,n,r,i,o,a;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");e={id:e.id,img:e.img,size:e.size,altText:e.altText,title:e.title},l=c(c({},l),e),this.html=(t=(e=l).id,n=e.img,r=e.size,i=e.altText,e=e.title,o="engt-avatar-wrapper-animation",(a=null==(a=m.r.get("lastMessageDetails"))?void 0:a.sender)!==g.Qd.BOT&&a!==g.Qd.AGENT||(o="engt-avatar-wrapper-animation-bot"),a=n&&'<img src="'.concat(n,'" alt="').concat(i,'" class="engt-avatar-icon" width="100%" height="100%" loader="lazy"></img>'),'<div class="engt-avatar-wrapper '.concat(o,'" data-avatar-id=').concat(t,' style="width: ').concat(r,"; height: ").concat(r,"; min-width: ").concat(r,'">').concat(a,"<span>").concat(e,"</span></div>"))}var e,t,n;return e=s,(t=[{key:"render",value:function(){return this.html}}])&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(),v=n(4769);const b=n.p+"assets/botAvatar.svg";function s(){return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="inherit" xmlns="http://www.w3.org/2000/svg">\n<path d="M18 14V16.6667C18 17.0203 17.8595 17.3594 17.6095 17.6095C17.3594 17.8595 17.0203 18 16.6667 18H7.33333C6.97971 18 6.64057 17.8595 6.39052 17.6095C6.14048 17.3594 6 17.0203 6 16.6667V14" stroke="inherit" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M8.66699 10.6667L12.0003 14L15.3337 10.6667" stroke="inherit" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M12 14V6" stroke="inherit" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>'}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===u(e)?e:String(e)}(r.key),r)}}var p=function(){function t(e){if(this instanceof t)return this.init(e);throw new TypeError("Cannot call a class as a function")}var e,n,r;return e=t,(n=[{key:"addDownloadData",value:function(e,t){var n=document.createElement("span");return n.classList.add("engt-btn-icons"),n.style.height="24px",n.innerHTML=s(),n.setAttribute("tabindex",0),n.onclick=function(){return(0,v.Sv)(e,t)},n.addEventListener("keydown",function(e){return m.r.get("onEnterPress")(n.onclick)}),n}},{key:"addDownloadPdfData",value:function(e){var t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("aria-label","download media button"),t.setAttribute("download","media-".concat((0,v.zJ)(),".png")),t.setAttribute("target","_blank"),t.setAttribute("tabindex",0),t.classList.add("engt-btn-icons"),t.style.height="24px",t.innerHTML=s(),t}},{key:"init",value:function(e){var t=g.Qd.AGENT,n=g.Qd.BOT,r=e.agent_avatar,i=e.timestamp,o=e.message,a=e.id,s=e.innerHTML,c=e.sender,l=e.style,u=e.download,d=e.downloadLink,p=e.message_id,f=e.agent_name,h=m.r.get("config.bot_avatar_image_url"),h=new y({id:"avatar-".concat(p||a),img:r||h||b,size:"36px",altText:r?"agent-avatar":"bot-avatar",title:-1<[t].indexOf(c)?f:m.r.get("config.bot_name")}),r="string"==typeof o?o:(null==o?void 0:o.text)||"",f=document.createElement("div"),i=new Date(i?"".concat(i):(new Date).toISOString());return f.id=p||a,f.classList.add("engt-msg-container"),f.style.alignItems="flex-end",f.setAttribute("data-message",null==r||null==(p=r.substring)||null==(a=p.call(r,0,70))||null==(p=a.replaceAll)?void 0:p.call(a,"\n"," ")),f.setAttribute("data-msg-clock-time",(0,v.hK)(i)),f.setAttribute("data-msg-sender",c),-1<[t,n].indexOf(c)&&(f.innerHTML=h.render()),f.innerHTML+=s,u&&d&&(o===g.C7.IMAGE?(r=this.addDownloadData(d,"png"),f.appendChild(r)):o===g.C7.VIDEO?(p=this.addDownloadData(d,"mp4"),null!=e&&e.platform&&f.appendChild(p)):o===g.C7.AUDIO?(a=this.addDownloadData(d,"mp3"),f.appendChild(a)):o===g.C7.FILE&&(i=this.addDownloadPdfData(d),f.appendChild(i))),l&&(f.style=l),f}}])&&d(e.prototype,n),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},3316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(8684),o=n(4739),m=n(9342),y=n(2382),v=n(7702),b=n(1451),s=n(5062),a=n(9415),_=n(1102),w=n(7410),h=n(1042),E=n(536),S=n(4769),O=n(9914),u={id:"",attributes:[],confirmationButton:{affirmativeText:"Yes",confirmationMessage:"Are you sure you want to submit the form?",confirmationText:"Submit",negativeText:"No"},identificationType:"NO_AUTH",skipButton:null,skipLogin:null,subtitle:"",title:"",showConfirmationBox:!0};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t,n){(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function d(e){e=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===k(e)?e:String(e)}var p=function(){function t(e){var f=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");l(this,"validateFormNode",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=f.data,r=t.id,n=t.message_id,t=t.skipLogin,i=e.login_success,i=void 0!==i&&i;if(document.querySelectorAll("#formFields-".concat(r,' [data-field-role="input"]')).forEach(function(e){e.style.borderColor=_.UW.ENGT_BORDER_COLOR}),document.querySelectorAll("[data-form-id=engt-select-container-".concat(r,"]")).forEach(function(e){e.style.borderColor=_.UW.ENGT_BORDER_COLOR}),document.querySelectorAll("#engt-input-".concat(r," span[class=engt-error]")).forEach(function(e){e.innerHTML=""}),document.querySelectorAll("#engt-select-error-".concat(r," span")).forEach(function(e){e.innerHTML=""}),null!=e&&e.attribute_error_message_mapping){for(var o=document.querySelectorAll("#formFields-".concat(r," .engt-error")),a=0;a<(null==o?void 0:o.length);a++){var s=document.createElement("error-msg");s.id=o[a].id,o[a].parentNode.replaceChild(s,o[a])}Object.entries(e.attribute_error_message_mapping).map(function(e){document.getElementById(e[0]).style.borderColor=_.UW.ENGT_RED,document.querySelectorAll(".engt-form-input-".concat(e[0])).forEach(function(e){e.style.borderColor=_.UW.ENGT_RED});var t=document.createElement("span"),n=document.querySelector("#formFields-".concat(r," #engt-error-").concat(e[0]));n.innerText="",t.innerHTML=e[1],t.id="engt-error-".concat(e[0]),t.className="engt-error",(0,S.z_)(n,t)})}else{var e=document.getElementById("engt-form-".concat(r)),c=JSON.parse((0,S.t5)("engt-submittedFormValues-".concat(f.data.id)))||{},l=c.attributes,u=c.values,d={},p=(l.forEach(function(e){var t;u[e.attribute_id]?e.attribute_type===w.KG.PASSWORD?(t=u[e.attribute_id],d["".concat(e.display_name)]="*".repeat(t.length)):d["".concat(e.display_name)]=u[e.attribute_id]:d["".concat(e.display_name)]="-"}),e.querySelector(".engt-form-fields"));p.innerHTML="",Object.entries(d).map(function(e,t){var n=document.createElement("div"),r=document.createElement("div"),i=e[1];n.innerText=e[0];try{var o,a=JSON.parse(i);null!=a&&null!=(o=a.value)&&o.length&&(i=a.value.join(", "))}catch(e){console.error("couldnt parse object value",e)}r.innerHTML="<strong>".concat(i,"</strong>"),0<t&&(n.style.marginTop="10px"),p.appendChild(n),p.appendChild(r)}),null!=(c=document.getElementById("confirmBtn-".concat(n)))&&c.remove(),t&&null!=(l=document.getElementById("skipBtn-".concat(n)))&&l.remove(),(0,S.p4)("engt-submittedFormValues-".concat(f.data.id)),O.r.get("enableAllInput")()}i&&204<document.getElementById("engt-form-".concat(r)).scrollHeight&&(document.getElementById("engt-form-".concat(r)).classList.add("engt-msg-formnode-shrink","engt-msg-formnode-shrinks"),f.appendToggle()),i&&setTimeout(function(){(0,S.fN)((0,h.LS)().TAB_MESSAGES,JSON.stringify({action:"update_form_msg",selectedValue:document.getElementById("engt-form-".concat(r)).innerHTML,toggleBtnId:"engt-form-toggle-".concat(r),id:"engt-form-".concat(r),tabId:O.r.get("socketId")}))},600)}),this.initData(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.data=u,e.otherChannelsData),n=null==(n=e.message)?void 0:n.data,r=n.attributes,i=n.enable_confirmation_section,o=n.confirmation_button,a=n.identification_type,s=n.skip_button,c=n.skip_login,l=n.subtitle,n=n.title;this.data.id=e.id||e.message_id||"formnode-message-".concat((0,S.zJ)()),this.setter(T(T({},e),{},{attributes:r,showConfirmationBox:null==i||i,confirmationButton:o,identificationType:a,skipButton:s,skipLogin:c,subtitle:l&&"null"!==l?l:"",title:n,otherChannelsData:t})),O.r.set("validateFormNode",this.validateFormNode.bind(this))}},{key:"setter",value:function(e){this.data=T(T({},this.data),e)}},{key:"initWrapper",value:function(){var e,t,n;this.html=new a.e(T(T({},this.data),{},{innerHTML:(e=this.data,t=e.title,n=e.subtitle,e=e.id,'\n    <div class="engt-msg engt-msg-bot engt-msg-formnode engt-msg-border-bot" id="engt-form-'.concat(e,'">\n         <p class="form-heading">').concat(t,'</p>\n         <p class="form-description">').concat(n,'</p>\n         <div id="formFields-').concat(e,'" class="engt-form-fields">\n         </div>\n         <confirm-btn></confirm-btn>\n         <skip-btn></skip-btn>\n    </div>'))}))}},{key:"disableInputFields",value:function(){var e=this.html.querySelectorAll("#formFields-".concat(this.data.id,' [data-field-role="input"]')),t=this.html.querySelectorAll("#engt-select-".concat(this.data.id));e.forEach(function(e){e.disabled=!0,e.style.cursor="not-allowed"}),t.length&&t.forEach(function(e){e.querySelector(".dropdown").innerHTML="",e.addEventListener("click",function(e){e.stopPropagation()},!0),e.style.cursor="not-allowed"})}},{key:"dialogBoxClose",value:function(){var e;this.modal.close("",!0),null!=(e=document.querySelector("#formDialogBox-".concat(this.data.id)))&&e.remove()}},{key:"submitForm",value:function(){for(var n=this,e=this.html.querySelectorAll("#formFields-".concat(this.data.id,' [data-field-role="input"]')),t=this.html.querySelectorAll(".engt-select-container"),r={},i={},o={},a=0;a<t.length;a++){for(var s=[],c={},l=t[a].querySelectorAll(".engt-select-container input"),u=0;u<l.length;u++)if(l[u].checked)s.push(l[u].id);else if("checkbox"!==l[u].type){try{if(-1<Array.from(l[u].classList).indexOf("engt-select-override")&&(c.isCountryCode=!0,null===l[u].getAttribute("data-attr-value"))){s.push(l[u].value);continue}}catch(e){console.error("DOM element doesnt have class")}s.push(l[u].getAttribute("data-attr-value"))}c.value=s;var d=t[a].getAttribute("data-form-attrid"),p=t[a].getAttribute("data-form-type");o[d]=p,r[d]=s.length?"SINGLE_SELECT"===p?null!=(d=null==s?void 0:s[0])?d:"":JSON.stringify(c):""}for(var f,h,g,m,y,v,b,_=0;_<e.length;_++)i[e[_].id]=e[_].value||e[_].getAttribute("data-selected-date"),e[_].setAttribute("data-form-value",i[e[_].id]);(Object.keys(i).length||Object.keys(r).length)&&(Object.keys(r).forEach(function(t){if(null===i[t])i[t]="";else try{var e="SINGLE_SELECT"===o[t]?r[t]:JSON.parse(r[t]);e.isCountryCode?i[t]="".concat(e.value[0],"-").concat(i[t]):i[t]=r[t]}catch(e){i[t]=""}}),(0,S.fN)("engt-submittedFormValues-".concat(this.data.id),JSON.stringify({values:i,attributes:this.data.attributes})),f={type:"identity",params:i,action:{}},null!=(v=this.data.otherChannelsData)&&v.bot&&null!=(v=this.data.otherChannelsData)&&v.platform?(h=(v=this.data.otherChannelsData).bot,g=v.platform,m=v.user,y=v.nodeType,v="validateAndSubmitFormResponse",b={request:JSON.stringify(T(T({},f),{},{userId:m})),params:i,attributes:this.data.otherChannelsData.attributes,userId:m},y===w.kL.IDENTITY&&(v="submitFormResponse",b=T(T({},f),{},{userId:m})),(0,E.h)("POST","".concat(window.location.origin,"/").concat(g,"/").concat(v,"/").concat(h),{payload:JSON.stringify(b)}).then(function(e){e&&y===w.kL.IDENTITY&&((t=document.getElementById("engt-popup")).innerHTML="<div>Thanks for the input. Please close this web view to return to the chat.</div>",t.classList.add("engt-redirect-open"),window.top.close());var t=(0,S.JT)(e);t&&(t.status?((e=document.getElementById("engt-popup")).innerHTML='<div style="color: red;">Thanks for the input. Please close this web view to return to the chat.</div>',e.classList.add("engt-redirect-open"),window.top.close()):n.validateFormNode(t))}).catch(function(e){(0,S.fF)(e)})):O.r.get("sendMessage")("",{message:f,skipAppendToDom:!0}))}},{key:"skipForm",value:function(){var e=this,t=(this.onSkip(),this.disableInputFields(),document.getElementById(this.data.id).children[1]);t.querySelectorAll(".engt-button").forEach(function(e){t.removeChild(e)}),setTimeout(function(){(0,S.fN)((0,h.LS)().TAB_MESSAGES,JSON.stringify({action:"update_form_msg",selectedValue:"skip",toggleBtnId:"engt-form-toggle-".concat(e.data.id),id:e.data.id,tabId:O.r.get("socketId")}))},300),(0,S.v8)(),O.r.get("enableAllInput")()}},{key:"showConfirmationBox",value:function(e){var t=document.createElement("div"),n=(t.classList.add("engt-form-dialog"),this),r=new m.z({type:w.JB.PRIMARY,label:(null==e?void 0:e.affirmativeText)||(null==(r=O.r.get("GENERIC_STRINGS"))?void 0:r.YES)||"Yes",size:w.iY.MEDIUM,style:"margin-top: 16px; margin-bottom: 8px;",onClick:function(){null!=e&&e.skipMessage?n.skipForm():n.submitForm(),n.dialogBoxClose()},radius:18}),i=new m.z({type:w.JB.SECONDARY,label:(null==e?void 0:e.negativeText)||(null==(i=O.r.get("GENERIC_STRINGS"))?void 0:i.NO)||"No",size:w.iY.MEDIUM,onClick:function(){n.dialogBoxClose()},radius:18}),o=(null==e?void 0:e.confirmationMessage)||(null==(o=O.r.get("GENERIC_STRINGS"))?void 0:o.FORM_SUBMIT)||"Are you sure you want to submit the form?",a=(null==e?void 0:e.skipMessage)||(null==(a=O.r.get("GENERIC_STRINGS"))?void 0:a.FORM_SKIP)||"Are you sure you want to skip the form?",a=(t.innerHTML='<p style="text-align: center;">'.concat(null!=e&&e.skipMessage?a:o,"</p>"),t.appendChild(r.render()),t.appendChild(i.render()),document.getElementById("engtChatContent")),o=getComputedStyle(a);this.modal=new s.u({wrapperId:"formDialogBox-".concat(this.data.id),contentId:"formDialogBoxContent-".concat(this.data.id),content:t,wrapperCss:"display: flex; justify-content: center; align-items:center;",contentCss:"max-width: ".concat(a.offsetWidth-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight),"px;"),closeable:!1}),document.querySelector("#engt-popup").appendChild(this.modal.render()),this.modal.open()}},{key:"initComponents",value:function(){var c=this,e=this.data,t=e.attributes,n=e.skipLogin,r=e.confirmationButton,i=e.id,o=e.message_id,a=e.skipButton,s=e.message,l=e.identificationType,u=e.showConfirmationBox,d=s.data.node_type,p=this,f=this.html.querySelector("#formFields-".concat(i)),h="object"===k(a)?a:JSON.parse(a),g="object"===k(r)?r:JSON.parse(r),e=this.data.isOldMessage;null!=t&&t.map(function(e,t){var n,r;if("object"===e.attribute_type||"SINGLE_SELECT"===e.attribute_type){var i,o=T({},e);if(o.message_id=t,null!=(s=p.data)&&s.otherChannelsData&&(i={},null!=e&&null!=(s=e.options)&&s.map(function(e){i[e.text]=e.postback}),o.options=JSON.stringify(i),o.isMultiselect=(null==e?void 0:e.is_multiselect_enabled)||!1),"SINGLE_SELECT"===e.attribute_type)try{var a={};("string"==typeof(null==e?void 0:e.options)?JSON.parse(null==e?void 0:e.options):(null==e?void 0:e.options)||[]).map(function(e){a[e.option]=e.value}),o.options=JSON.stringify(a)}catch(e){console.error(e)}var s=new b.Z(o).render(),o=document.createElement("div");o.id="engt-select-".concat(c.data.id),o.style.animationDelay="".concat(.2*t,"s"),o.classList.add("engt-form-field-wrapper","engt-form-field-z-index"),o.appendChild(s),f.appendChild(o)}else"date"===e.attribute_type&&"true"===(null==(s=e.show_date_picker)?void 0:s.toString())?((o=new y.f({id:e.attribute_id,label:e.display_name}).render()).style.animationDelay="".concat(.2*t,"s"),o.classList.add("engt-form-field-wrapper","engt-form-field-z-index"),f.appendChild(o)):("date"===e.attribute_type&&(e.attribute_type="text"),"mobile"!==e.attribute_type||"true"!==(null==(s=e.show_country_code)||null==(o=s.toString)?void 0:o.call(s))||O.r.get("config.isRudRespondBoxEnabled")||(e.inputWithSelect=!0,o=Array.isArray(O.r.get("config.customCountryCodes"))?(n=O.r.get("config.customCountryCodes"),r={},n.forEach(function(e){_.Qd[e]&&(r[e]=_.Qd[e])}),Object.keys(_.Qd).forEach(function(e){n.includes(e)||(r[e]=_.Qd[e])}),r):_.Qd,e.selectOptions=JSON.stringify(o),e.overrideOptionsClass="engt-override-dropdowns"),s=new v.Z(e).render(),(o=document.createElement("div")).className="engt-text-sign-in-fields",o.id="engt-input-".concat(t),o.style.animationDelay="".concat(.2*t,"s"),o.classList.add("engt-form-field-wrapper","engt-form-field-z-index"),o.appendChild(s),f.appendChild(o))});a=e?"":new m.z({type:w.JB.PRIMARY,label:d===w.kL.IDENTITY?"API_BASED_AUTH"===l?"Sign In":(null==(s=O.r.get("GENERIC_STRINGS"))?void 0:s.CONTINUE)||"Continue":(null==g?void 0:g.confirmationText)||(null==(i=O.r.get("GENERIC_STRINGS"))?void 0:i.SUBMIT)||"Submit",id:"confirmBtn-".concat(o),style:"margin-top:20px",applyOnHover:!0,dataInteractiveField:!0,onClick:function(){d===w.kL.FORM_NODE&&u?p.showConfirmationBox(g):p.submitForm()},radius:18}).render(),t=e?"":new m.z({type:w.JB.MINI,label:(null==h?void 0:h.skipText)||(null==(r=O.r.get("GENERIC_STRINGS"))?void 0:r.SKIP)||"Skip",id:"skipBtn-".concat(o),style:"margin-top: 12px;",applyOnHover:!0,dataInteractiveField:!0,onClick:function(){d===w.kL.FORM_NODE?p.showConfirmationBox(h):p.skipForm()}}).render();(0,S.z_)(this.html.querySelector("confirm-btn"),a),n&&(0,S.z_)(this.html.querySelector("skip-btn"),t),e&&p.disableInputFields()}},{key:"generateToggle",value:function(){var e=this,t=e.data.id,n=document.createElement("div"),r=document.createElement("img");return n.className="engt-toggle-size",n.id="engt-form-toggle-".concat(t),n.setAttribute("data-open",!1),n.innerHTML="<span>Show more</span>",r.className="engt-show-more-icon",r.src=i,n.appendChild(r),n.addEventListener("click",function(){("false"===this.getAttribute("data-open")?e.showMore:e.showLess).call(this,e.html.querySelector("#engt-form-".concat(t)))}),n}},{key:"appendToggle",value:function(){var e=this.data.id;this.setter({toggleBtn:this.generateToggle()}),this.html.querySelector("#engt-form-".concat(e)).appendChild(this.data.toggleBtn)}},{key:"showMore",value:function(e){e.classList.remove("engt-msg-formnode-shrink"),this.setAttribute("data-open",!0),this.querySelector("span").innerText="Show less",this.querySelector(".engt-show-more-icon").src=o}},{key:"showLess",value:function(e){e.classList.add("engt-msg-formnode-shrink"),this.setAttribute("data-open",!1),this.querySelector("span").innerText="Show more",this.querySelector(".engt-show-more-icon").src=i}},{key:"onSkip",value:function(){O.r.get("sendMessage")("skip",{message:{action:{skip_login:!0},type:"identity"},skipAppendToDom:!0,tab_msg_action:"skip"})}},{key:"render",value:function(){return this.html}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},2661:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var i=n(4769),o=n(9914),a=n(1181),s={value:new Date};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var p=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEvent()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=l(l({},s),{},{id:e.id||(0,i.zJ)(),value:(0,i.n6)(e.date)})}},{key:"initWrapper",value:function(){var e=this.data,t=e.firstStamp,e=e.id,t=t?"2px":"8px",n=document.createElement("span");n.id="timestamp-".concat(e),n.classList.add("engt-timestamp"),n.setAttribute("data-messagetype","divider"),n.stye="margin-top: ".concat(t),n.innerHTML=(e=this.data,"\n        ".concat(e.value,"\n    ")),this.html=n}},{key:"initEvent",value:function(){window.ENGT_CHAT.timeStampTimer&&window.clearInterval(window.ENGT_CHAT.timeStampTimer),window.ENGT_CHAT.timeStampTimer=setInterval(function(){var e=document.getElementById("engtChatContent"),e=Array.from(e.children),e=e[e.length-1];o.r.get("config.isChatOpened")&&!e.hasAttribute("data-messagetype")&&(0,a.iD)({})},9e5),window.addEventListener("beforeunload",function(e){window.clearInterval(window.ENGT_CHAT.timeStampTimer)})}},{key:"render",value:function(){return this.html}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1366:(e,t,n)=>{"use strict";n.d(t,{a$:()=>u,f4:()=>l,sR:()=>c});function r(){var e=(0,a.t5)((0,o.LS)().USER_LOCALE)||s.r.get("config.botLanguage")||"default";return"".concat(s.r.get("config.bot_key"),"?branding_key=").concat(s.r.get("config.branding_key"),"&lang_code=").concat(e)}var i=n(7410),o=n(1042),a=n(4769),s=n(9914),c=function(){return"".concat((0,a.RG)()?"".concat(window.location.origin,"/").concat(s.r.get("config.bot_mode")===i.Z_.WIDGET?"widget":"standalone"):"".concat(s.r.get("config.brandedServer"),"/static/").concat(s.r.get("config.bot_mode")===i.Z_.WIDGET?"js/widget":"standalone/standalone"),".css")},l=function(){var e=(0,a.t5)((0,o.LS)().USER_LOCALE)||s.r.get("config.botLanguage")||"default",t=window.location.href,n={ATTACHMENTS:"/v1.0/customer/attachment",INSTANCE:"/webchat_parameters/instance",BRANDING_KEY:"/portal/branding_element?url=".concat(t),WIDGET_CONFIG:"/web/config/widget/".concat(r()),CHAT_CONFIG:"/web/config/chat/".concat(r()),GENERIC_STRING:"/web/generic-strings/".concat(s.r.get("config.bot_key"),"/?lang_code=").concat(e),DOWNLOAD_URL:"/web/config/download-media/"};return Object.keys(n).map(function(e){n[e]=s.r.get("config.brandedServer")+n[e]}),n},u=function(){return{IP_ADDRESS:"https://api.ipify.org/?format=json",ATTACHMENTS:"".concat(s.r.get("fileUploadBaseURL"),"/v1.0/customer/attachment"),CART:"".concat(window.location.origin,"/cart/"),FAQ_AUTOCOMPLETE_PATH:"".concat(s.r.get("faqAutocompleteBaseUrl"),"/autocomplete/"),VOICE_LLM_STT_PATH:"".concat(s.r.get("voiceLLMBaseUrl"),"/api/v1.0/vls/speech-to-text/").concat(s.r.get("config.botRef"))}}},1102:(N,e,t)=>{"use strict";t.d(e,{JX:()=>v,GJ:()=>m,UG:()=>b,aE:()=>y,Je:()=>_,Q5:()=>T,IG:()=>C,Qd:()=>z,UW:()=>g,eG:()=>P,ev:()=>S,Ff:()=>d,$5:()=>p,Wz:()=>h,gd:()=>W,ns:()=>M,Gk:()=>F,wR:()=>I,kC:()=>L,Oc:()=>k,Fb:()=>A,l0:()=>u,nx:()=>B,ZI:()=>O,Y3:()=>f,LC:()=>x,Sv:()=>G,mX:()=>j,aO:()=>w,v6:()=>U,Ru:()=>R,Qf:()=>K,Jn:()=>E,yS:()=>D,d5:()=>V,Mf:()=>H,Hf:()=>q});var e=t.p+"assets/csvIcon.svg",n=t.p+"assets/docIcon.svg",r=t.p+"assets/fileIcon.svg",i=t.p+"assets/jpgIcon.svg",o=t.p+"assets/pdfIcon.svg",a=t.p+"assets/pngIcon.svg",s=t.p+"assets/pptIcon.svg",c=t.p+"assets/txtIcon.svg",l=t.p+"assets/xlsIcon.svg",t=t.p+"assets/zipIcon.svg",u="https://app.engati.com",d="https://s3.ap-south-1.amazonaws.com/branding-resources/images/engt.gif",p="https://bit.ly/3P4ODFp",f={RECORDER:"https://s3.ap-south-1.amazonaws.com/branding-resources/bot_files/prod/1.0.0/mediaStreamRecoder/1.0.0/mediaStreamRecoder.js"},h={UNREAD_COUNT_BADGE:"unreadCountLaunchScreen",UNREAD_NOTIFICATION_BADGE:"unreadNotificationBadge"},g={THEME_COLOR:"var(--engt-theme-color)",THEME_TEXT_COLOR:"var(--engt-theme-text-color)",ENGT_RED:"var(--engt-red)",ENGT_BORDER_COLOR:"var(--engt-input-border-color)"},m=".doc, .docx, .xls, .xlsx, .ppt, .pptx, .xps, .pdf, .ai, .psd, .dxf, .eps, .ps, .svg, .ttf, .zip, .rar, .tar, .gzip, .mp3, .mpeg, .wav, .ogg, .jpeg, .jpg, .png, .gif, .bmp, .tif, .webm, .mp4, .mpeg4, .3gpp, .mov, .avi, .mpegps, .wmv, .flv, .txt, .csv, .tsv, image/jpg;capture=camera",y=".doc, .docx, .pdf, .jpg, .jpeg, .png, .zip",v=26214400,b=5242880,_="https://branding-resources.s3.ap-south-1.amazonaws.com/default/portal/bot-icons",w="".concat(_,"/engt_file.svg"),E=12e5,S=.6,O="https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",k="https://img.freepik.com/free-vector/businessman-character-avatar-isolated_24877-60111.jpg?w=2000",T=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,C=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,I={SELECT_AN_OPTION:"Select an option...",BROWSE_FILE_TO_UPLOAD:"Browse and select a file",CHAT_CLOSURE_MESSAGE:"Oops! Session timed out!",SUBMIT:"Submit",GO_BACK_TO_CONVERSATION:"Go back to conversation",CONTINUE:"Continue",INVALID_INPUT:"Invalid Input",SEND_A_MESSAGE:"Send a Message",OK:"Ok",CANCEL:"Cancel",DID_THIS_ANSWER_HELP:"Did this answer help?",DEFAULT_ERROR_MESSAGE:"Something went wrong. Please try again or get in touch with the administrator",YES:"Yes",NO:"No",PLACE_HOLDER_START_TYPING_TO_FILTER:"Start typing to filter..",PLACE_HOLDER_PICK_A_DATE:"Pick a Date",PLACE_HOLDER_WRITE_A_REPLY:"Write a reply...",FEEDBACK_NODE_SELECTION_MESSAGE:"You Selected :",START_CALL_BUTTON:"Start the call",START_CALL_TEXT:"Start call with",VIDEO_JOINING_TEXT:"You are joining as",VIDEO_CHAT_CLOSE_TOOLTIP:"Chat with everyone",VIDEO_CHAT_OPEN_TOOLTIP:"Close chat",VIDEO_MICROPHONE_OFF_TOOLTIP:"Turn on microphone",VIDEO_MICROPHONE_ON_TOOLTIP:"Turn off microphone",VIDEO_CAMERA_OFF_TOOLTIP:"Turn on camera",VIDEO_CAMERA_ON_TOOLTIP:"Turn off camera",VIDEO_SCREENSHARE_ON_TOOLTIP:"Stop presenting",VIDEO_SCREENSHARE_OFF_TOOLTIP:"Present now",VIDEO_SCREENSHARE_DISABLE_TOOLTIP:"is presenting",VIDEO_LEAVE_CALL_TOOLTIP:"Leave call",VIDEO_REJOIN:"Rejoin",VIDEO_LEFT_CALL:"You have left the video call.",VIDEO_END_CALL:"Your video call has ended.",VIDEO_CLOSE:"Close",CHARACTER_LIMIT_EXCEEDED:"Character limit of 15000 exceeded",HTML_TAG_NOT_ALLOWED:"ERROR: No HTML Tag Allowed"},L=["SETTINGS.SELECT_AN_OPTION","SETTINGS.BROWSE_FILE_TO_UPLOAD","SETTINGS.LAUNCH.AGENT_ARE_ONLINE","SETTINGS.LAUNCH.AGENT_IS_ONLINE","SETTINGS.LAUNCH.START_A_NEW_CONVO","SETTINGS.LAUNCH.PREVIEW_HEADER","SETTINGS.SUBMIT","SETTINGS.CONTINUE","SETTINGS.INVALID_INPUT","SETTINGS.PICK_A_DATE","SETTINGS.START_TYPING_TO_FILTER","SETTINGS.WRITE_A_REPLY","SETTINGS.SEND_A_MESSAGE","SETTINGS.OK","SETTINGS.CANCEL","SETTINGS.DID_THIS_ANSWER_HELP","SETTINGS.DEFAULT_ERROR_MESSAGE","SETTINGS.YES","SETTINGS.NO","SETTINGS.GO_BACK_TO_CONVERSATION","SETTINGS.FEEDBACK_NODE_SELECTION_MESSAGE","SETTINGS.CHAT_CLOSURE_MESSAGE","SETTINGS.START_CALL_BUTTON","SETTINGS.START_CALL_TEXT","SETTINGS.VIDEO_JOINING_TEXT","SETTINGS.VIDEO_CHAT_CLOSE_TOOLTIP","SETTINGS.VIDEO_CHAT_OPEN_TOOLTIP","SETTINGS.VIDEO_MICROPHONE_OFF_TOOLTIP","SETTINGS.VIDEO_MICROPHONE_ON_TOOLTIP","SETTINGS.VIDEO_CAMERA_OFF_TOOLTIP","SETTINGS.VIDEO_CAMERA_ON_TOOLTIP","SETTINGS.VIDEO_SCREENSHARE_ON_TOOLTIP","SETTINGS.VIDEO_SCREENSHARE_OFF_TOOLTIP","SETTINGS.VIDEO_SCREENSHARE_DISABLE_TOOLTIP","SETTINGS.VIDEO_LEAVE_CALL_TOOLTIP","SETTINGS.VIDEO_REJOIN","SETTINGS.VIDEO_LEFT_CALL","SETTINGS.VIDEO_END_CALL","SETTINGS.VIDEO_CLOSE","SETTINGS.POP_UP_MESSAGE","SETTINGS.LAUNCH.GO_BACK_TO_CONVERSATION","SETTINGS.CHAT_SETTINGS","SETTINGS.CLEAR_CHAT_HISTORY","SETTINGS.READ_MORE","SETTINGS.EXPLORE_MORE","SETTINGS.CONFIRM","SETTINGS.CHOOSE_LANGUAGE","SETTINGS.START_CONVERSATION_PROMPT","SETTINGS.CONTINUE_CONVERSATION","SETTINGS.SESSION_TIMEOUT","SETTINGS.TYPING","SETTINGS.CLEAR_CHAT_HISTORY","SETTINGS.FONT_SIZE","SETTINGS.LANGUAGE_PREFERENCE","SETTINGS.SELECT_FONT","SETTINGS.SMALL_FONT","SETTINGS.DEFAULT_FONT","SETTINGS.MEDIUM_FONT","SETTINGS.LARGE_FONT","SETTINGS.CLOSE_CHAT_PROMPT","SETTINGS.CLOSE_CHAT","SETTINGS.START_NEW_CONVERSATION","SETTINGS.CONTINUE_CONVERSATION","SETTINGS.EXIT_AGENT_CONVERSATION","SETTINGS.SKIP","SETTINGS.EDIT","SETTINGS.UPLOAD","SETTINGS.PLACEHOLDER.FILL_DETAILS","SETTINGS.PLACEHOLDER.SELECT","SETTINGS.PLACEHOLDER.ENTER","SETTINGS.CHARACTER_LIMIT_EXCEEDED","SETTINGS.HTML_TAG_NOT_ALLOWED","SETTINGS.FORM_SUBMIT","SETTINGS.FORM_SKIP","SETTINGS.DROP_YOUR_FILES","SETTINGS.FILE_SIZE","SETTINGS.FILE_BROWSE"],A=["typing_indicator","ASK_USER_NAME","UPDATE_LIVECHAT_STATUS"],P="I want to change the answer",x=10,D=["divider"],M={DOCX:n,FILE:r,CSV:e,JPG:i,PNG:a,PDF:o,PPT:s,XLS:l,TXT:c,ZIP:t},j=new Audio("https://branding-resources.s3.ap-south-1.amazonaws.com/default/bot/bot-livechat.mp3"),B={ENTER:13,ESC:27,UP:38,DOWN:40,TAB:9},R=/<!DOCTYPE html>|<\/?[a-zA-Z][^>]*>|<(?=[a-zA-Z])[^>\s]*[^>]*(on\w+\s*=\s*["'][^"']*["']|javascript:|$)|(\&(?:[\w\d]+|#\d+|#x[a-f\d]+);)/,G=15e3,F={AUDIO:"audio",VIDEO:"video"},U=/<a[^>]+href="([^"]+)"/,H=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,q=/^http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/watch\?v=|\.be\/)([\w\-\_]*)(&(amp;)?\u200c\u200b[\w\?\u200c\u200b=]*)?/gm,W=/(?:https?:\/\/)?(?:www.|web.|m.)?(facebook|fb).(com|watch)\/(?:video.php\?v=\d+|(\S+)|photo.php\?v=\d+|\?v=\d+)|\S+\/videos\/((\S+)\/(\d+)|(\d+))\/?/,V=/^(http[s]?:\/\/)?([^:\/\s]+)(:([^\/]*))?(\/\w+\.)*([^#?\s]+)(\?([^#]*))?(\.[mM][pP]4|\.[mM][kK][vV])$/gm,z={"+1":"+1","+7":"+7","+20":"+20","+27":"+27","+30":"+30","+31":"+31","+32":"+32","+33":"+33","+34":"+34","+36":"+36","+39":"+39","+40":"+40","+41":"+41","+43":"+43","+44":"+44","+45":"+45","+46":"+46","+47":"+47","+48":"+48","+49":"+49","+51":"+51","+52":"+52","+53":"+53","+54":"+54","+55":"+55","+56":"+56","+57":"+57","+58":"+58","+60":"+60","+61":"+61","+62":"+62","+63":"+63","+64":"+64","+65":"+65","+66":"+66","+81":"+81","+82":"+82","+84":"+84","+86":"+86","+90":"+90","+91":"+91","+92":"+92","+94":"+94","+95":"+95","+98":"+98","+212":"+212","+213":"+213","+216":"+216","+218":"+218","+220":"+220","+221":"+221","+222":"+222","+223":"+223","+224":"+224","+226":"+226","+227":"+227","+228":"+228","+229":"+229","+231":"+231","+232":"+232","+233":"+233","+234":"+234","+236":"+236","+237":"+237","+238":"+238","+239":"+239","+240":"+240","+241":"+241","+242":"+242","+244":"+244","+245":"+245","+248":"+248","+249":"+249","+250":"+250","+251":"+251","+252":"+252","+253":"+253","+254":"+254","+256":"+256","+257":"+257","+258":"+258","+260":"+260","+261":"+261","+262":"+262","+263":"+263","+264":"+264","+265":"+265","+266":"+266","+267":"+267","+268":"+268","+269":"+269","+290":"+290","+291":"+291","+297":"+297","+298":"+298","+299":"+299","+350":"+350","+351":"+351","+352":"+352","+353":"+353","+354":"+354","+356":"+356","+357":"+357","+358":"+358","+359":"+359","+370":"+370","+371":"+371","+372":"+372","+373":"+373","+374":"+374","+375":"+375","+376":"+376","+377":"+377","+378":"+378","+379":"+379","+380":"+380","+381":"+381","+385":"+385","+386":"+386","+387":"+387","+389":"+389","+417":"+417","+420":"+420","+421":"+421","+500":"+500","+501":"+501","+502":"+502","+503":"+503","+504":"+504","+505":"+505","+506":"+506","+507":"+507","+509":"+509","+590":"+590","+591":"+591","+592":"+592","+593":"+593","+594":"+594","+595":"+595","+596":"+596","+597":"+597","+598":"+598","+670":"+670","+671":"+671","+672":"+672","+673":"+673","+674":"+674","+675":"+675","+676":"+676","+677":"+677","+678":"+678","+679":"+679","+680":"+680","+681":"+681","+682":"+682","+683":"+683","+686":"+686","+687":"+687","+688":"+688","+689":"+689","+691":"+691","+692":"+692","+850":"+850","+852":"+852","+853":"+853","+855":"+855","+856":"+856","+880":"+880","+886":"+886","+960":"+960","+961":"+961","+962":"+962","+963":"+963","+964":"+964","+965":"+965","+966":"+966","+967":"+967","+968":"+968","+969":"+969","+971":"+971","+972":"+972","+973":"+973","+974":"+974","+975":"+975","+976":"+976","+977":"+977","+992":"+992","+993":"+993","+994":"+994","+996":"+996","+998":"+998","+1242":"+1242","+1246":"+1246","+1264":"+1264","+1268":"+1268","+1345":"+1345","+1441":"+1441","+1473":"+1473","+1649":"+1649","+1664":"+1664","+1758":"+1758","+1787":"+1787","+1809":"+1809","+1868":"+1868","+1869":"+1869","+1876":"+1876","+7880":"+7880"},K={"+91":"+91","+1":"+1","+7":"+7","+20":"+20","+27":"+27","+30":"+30","+31":"+31","+32":"+32","+33":"+33","+34":"+34","+36":"+36","+39":"+39","+40":"+40","+41":"+41","+43":"+43","+44":"+44","+45":"+45","+46":"+46","+47":"+47","+48":"+48","+49":"+49","+51":"+51","+52":"+52","+53":"+53","+54":"+54","+55":"+55","+56":"+56","+57":"+57","+58":"+58","+60":"+60","+61":"+61","+62":"+62","+63":"+63","+64":"+64","+65":"+65","+66":"+66","+81":"+81","+82":"+82","+84":"+84","+86":"+86","+90":"+90","+92":"+92","+94":"+94","+95":"+95","+98":"+98","+212":"+212","+213":"+213","+216":"+216","+218":"+218","+220":"+220","+221":"+221","+222":"+222","+223":"+223","+224":"+224","+226":"+226","+227":"+227","+228":"+228","+229":"+229","+231":"+231","+232":"+232","+233":"+233","+234":"+234","+236":"+236","+237":"+237","+238":"+238","+239":"+239","+240":"+240","+241":"+241","+242":"+242","+244":"+244","+245":"+245","+248":"+248","+249":"+249","+250":"+250","+251":"+251","+252":"+252","+253":"+253","+254":"+254","+256":"+256","+257":"+257","+258":"+258","+260":"+260","+261":"+261","+262":"+262","+263":"+263","+264":"+264","+265":"+265","+266":"+266","+267":"+267","+268":"+268","+269":"+269","+290":"+290","+291":"+291","+297":"+297","+298":"+298","+299":"+299","+350":"+350","+351":"+351","+352":"+352","+353":"+353","+354":"+354","+356":"+356","+357":"+357","+358":"+358","+359":"+359","+370":"+370","+371":"+371","+372":"+372","+373":"+373","+374":"+374","+375":"+375","+376":"+376","+377":"+377","+378":"+378","+379":"+379","+380":"+380","+381":"+381","+385":"+385","+386":"+386","+387":"+387","+389":"+389","+417":"+417","+420":"+420","+421":"+421","+500":"+500","+501":"+501","+502":"+502","+503":"+503","+504":"+504","+505":"+505","+506":"+506","+507":"+507","+509":"+509","+590":"+590","+591":"+591","+592":"+592","+593":"+593","+594":"+594","+595":"+595","+596":"+596","+597":"+597","+598":"+598","+670":"+670","+671":"+671","+672":"+672","+673":"+673","+674":"+674","+675":"+675","+676":"+676","+677":"+677","+678":"+678","+679":"+679","+680":"+680","+681":"+681","+682":"+682","+683":"+683","+686":"+686","+687":"+687","+688":"+688","+689":"+689","+691":"+691","+692":"+692","+850":"+850","+852":"+852","+853":"+853","+855":"+855","+856":"+856","+880":"+880","+886":"+886","+960":"+960","+961":"+961","+962":"+962","+963":"+963","+964":"+964","+965":"+965","+966":"+966","+967":"+967","+968":"+968","+969":"+969","+971":"+971","+972":"+972","+973":"+973","+974":"+974","+975":"+975","+976":"+976","+977":"+977","+992":"+992","+993":"+993","+994":"+994","+996":"+996","+998":"+998","+1242":"+1242","+1246":"+1246","+1264":"+1264","+1268":"+1268","+1345":"+1345","+1441":"+1441","+1473":"+1473","+1649":"+1649","+1664":"+1664","+1758":"+1758","+1787":"+1787","+1809":"+1809","+1868":"+1868","+1869":"+1869","+1876":"+1876","+7880":"+7880"}},3308:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,F:()=>r});var r="XPATH_BUTTONS",i="CARD_BUTTON"},7410:(e,t,n)=>{"use strict";n.d(t,{C7:()=>v,JB:()=>l,KG:()=>b,K_:()=>o,Kt:()=>u,Nc:()=>c,Q4:()=>S,Qd:()=>y,WK:()=>p,Wh:()=>_,Z_:()=>k,bC:()=>r,bf:()=>i,e7:()=>f,iQ:()=>O,iX:()=>m,iY:()=>d,jn:()=>C,kL:()=>w,kw:()=>g,lB:()=>h,st:()=>T,vH:()=>E,wo:()=>s,xe:()=>a});var r={CLOSED:"CLOSED",NORMAL:"NORMAL",MINIMIZED:"MINIMIZED"},i={VIDEO:"VIDEO",IMAGE:"IMAGE",GRADIENT:"GRADIENT",SOLID:"SOLID"},o={MINI:"MINI",SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE"},a={LAUNCH:"LAUNCH",CHAT:"CHAT"},s={PATH:"postback",URL:"web_url",CALLBACK:"callback"},c={TEXT_WITH_IMAGE:"TEXT_WITH_IMAGE",IMAGE:"IMAGE"},l={BASE:"base",PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",MINI:"mini"},u={SMALL:"sm",MEDIUM:"md",LARGE:"lg"},d={SMALL:"small",MEDIUM:"medium",LARGE:"large"},p={THIN:"thin",SMALL:"small",MEDIUM:"medium"},f={SINGLE_INLINE_DOT:"SINGLE_INLINE_DOT",STACKED_INLINE_DOT:"STACKED_INLINE_DOT",STACKED_SEPARATED_DOT:"STACKED_SEPARATED_DOT",VERTICAL_LIST:"VERTICAL_LIST",VERTICAL_CONTINUOUS_SCROLL_SEAMLESS:"VERTICAL_CONTINUOUS_SCROLL_SEAMLESS",VERTICAL_SHOW_ONE_SEAMLESS:"VERTICAL_SHOW_ONE_SEAMLESS",VERTICAL_SHOW_ONE_LIST:"VERTICAL_SHOW_ONE_LIST",VERTICAL_SHOW_ONE_SEPARATE:"VERTICAL_SHOW_ONE_SEPARATE",VERTICAL_CONTINUOUS_SCROLL_SEPARATE:"VERTICAL_CONTINUOUS_SCROLL_SEPARATE",HORIZONTAL_SHOW_ONE_SEAMLESS:"HORIZONTAL_SHOW_ONE_SEAMLESS",HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},h={FAQ:"FAQ",PATH:"PATH",URL:"URL",WEB_URL:"WEB_URL",POSTBACK:"POSTBACK",PHONE_NUMBER:"PHONE_NUMBER"},g={IS_HOVERED:"data-rating-hover",IS_SELECTED:"data-rating-selected",SELECTED_INDEX:"data-rating-index",IS_DISABLED:"data-rating-disabled"},m={ELLIPSIS:"ELLIPSIS",TOOLTIP:"TOOLTIP",EXPANDABLE:"EXPANDABLE"},y={BOT:"bot",USER:"user",AGENT:"agent"},v={AUTOCOMPLETE:"autocomplete",TEXT:"text",TIMESTAMP:"time",AGENT_PARTICIPATION_STATUS:"AGENT_PARTICIPATION_STATUS",CAROUSEL:"CAROUSEL",OPTIONS:"options",IDENTITY:"identity",FEEDBACK:"feedback",STATUS_DIVIDER:"divider",IMAGE:"image",FILE:"file",VIDEO:"video",AUDIO:"audio",TYPING_INDICATOR:"typing_indicator",SLIDER:"SLIDER",MAINTENANCE:"MAINTENANCE",COPY_TO_CLIPBOARD:"COPY_TO_CLIPBOARD",CALL_REQUEST:"CALL_REQUEST",WEB_VIEW:"WEB_VIEW",FILE_RECEIVED:"file_received",SKIP:"skip",UPDATE_LIVECHAT_STATUS:"UPDATE_LIVECHAT_STATUS",CUSTOM_CARD:"CARD"},b={DATE:"date",FILE:"file",PASSWORD:"password"},_={TYPING_ON:"typing_on"},w={IDENTITY:"IDENTITY_NODE",FEEDBACK_NODE:"FEEDBACK_NODE",RCV_INP:"RCV_INP",FORM_NODE:"FORM_NODE",SEND_CAROUSEL:"SEND_CAROUSEL"},E={docx:"DOCX",doc:"DOCX",txt:"TXT",ppt:"PPT",pptx:"PPT",csv:"CSV",zip:"ZIP",pdf:"PDF",xls:"XLS",jpg:"JPG",jpeg:"JPG",png:"PNG"},S={INPUT:"input",LISTENING:"listening",PROCESS_INPUT:"processing_input",WAIT_FOR_RESPONSE:"waiting_for_response",SPEAKING:"speaking",EXISTING_VOICE:"exiting_voice"},O={PERCENTAGE:"PERCENTAGE",NUMBER:"NUMBER",RATING:"RATING"},k={WIDGET:"WIDGET",STANDALONE:"STANDALONE"},T={FONT_SIZE:"engtFontSize",LANGUAGE_PREFERENCE:"engtLanguagePreference"},C={VIMEO:"vimeo",YOUTUBE:"youtube",FACEBOOK:"facebook",VIDEO:"video"}},1042:(e,t,n)=>{"use strict";n.d(t,{LS:()=>o});var r=n(9914),i="engt_",o=function(){return{USER_LOCALE:"".concat(i,"user_language-").concat(r.r.get("config.bot_key"),"userLanguage"),USER_PREFERENCE:"".concat(i,"user_preference_").concat(r.r.get("config.bot_key")),IP_ADDRESS:"".concat(i).concat(r.r.get("config.bot_key"),"ipAddress"),NEW_SESSION:"".concat(i).concat(r.r.get("config.bot_key"),"newSessionKey"),MESSAGE_MAP:"".concat(i).concat(r.r.get("config.bot_key"),"messageMap"),LIVECHAT:"".concat(i,"livechat-").concat(r.r.get("config.bot_key"),"-").concat(r.r.get("status.sessionKey")),PREV_MESSAGES:"".concat(i,"messages-").concat(r.r.get("config.bot_key"),"-").concat(r.r.get("status.sessionKey")),IS_NOTIFED:"notified-".concat(r.r.get("config.bot_key"),"-").concat(r.r.get("status.sessionKey")),FONT_SETTING:"".concat(i).concat(r.r.get("config.bot_key"),"-font-setting"),GOT_UID:"".concat(i,"gotUid-").concat(r.r.get("config.bot_key")),TAB_MESSAGES:"".concat(i,"tabbed_msg-").concat(r.r.get("config.bot_key"),"-").concat(r.r.get("status.sessionKey")),TAB_COUNTER:"".concat(i,"tab-counter-").concat(r.r.get("config.bot_key"),"-").concat(r.r.get("status.sessionKey")),RUD_NODE:"".concat(i,"currentRUDNode-").concat(r.r.get("config.bot_key")),STOP_AUDIO_RECORDING:"".concat(i,"_stop_audio_recording_").concat(r.r.get("config.bot_key"))}}},536:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,u:()=>i});var l=n(4769),r=function(e,i){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=t.payload,a=t.headers,t=t.allowRejects,s=void 0===t||t;return new Promise(function(t,n){var r=(0,l.Wz)();r.open(e,i),r.onreadystatechange=function(e){4==this.readyState&&(!s||200==this.status?t:(console.error("api.js: rejecting the api"),n))(r)},a&&Object.keys(a).map(function(e){r.setRequestHeader(e,a[e])}),r.setRequestHeader("Content-type","application/json"),o?r.send(o):r.send()})},i=function(r,i,e){var o=e.async,a=e.payload,s=e.headers,c=e.responseType;return new Promise(function(t,e){var n=(0,l.Wz)();n.open(r,i,o),c&&(n.responseType=c),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(e){4==this.readyState&&200==this.status&&t(n)},s&&Object.keys(s).map(function(e){n.setRequestHeader(e,s[e])}),a?n.send(a):n.send()})}},4769:(k,e,t)=>{"use strict";t.d(e,{$U:()=>W,AM:()=>ve,AT:()=>de,C5:()=>ce,DO:()=>z,DZ:()=>v,Ds:()=>xe,FW:()=>h,H3:()=>ge,IV:()=>F,JT:()=>f,JY:()=>Be,Ji:()=>Ee,K9:()=>P,N1:()=>Oe,NB:()=>le,No:()=>Ae,OB:()=>Ce,QT:()=>q,Qf:()=>me,Qg:()=>R,RG:()=>E,RT:()=>x,Rj:()=>U,Sv:()=>De,TF:()=>Ge,TS:()=>B,Tr:()=>ye,Wq:()=>Ie,Wz:()=>A,X5:()=>Te,XT:()=>O,YI:()=>He,YO:()=>Ne,ZR:()=>N,Zq:()=>he,_A:()=>re,b3:()=>H,bP:()=>Se,bX:()=>ne,bZ:()=>ie,cg:()=>Re,cn:()=>G,dE:()=>j,fF:()=>g,fN:()=>p,fZ:()=>_e,fj:()=>S,fr:()=>D,hG:()=>fe,hK:()=>_,i7:()=>Ue,ic:()=>ue,k7:()=>Fe,lA:()=>be,n6:()=>we,oP:()=>Le,oQ:()=>se,oY:()=>Me,oo:()=>w,p4:()=>ee,pX:()=>M,pv:()=>y,qm:()=>je,rh:()=>pe,t5:()=>$,uE:()=>m,v8:()=>Pe,vQ:()=>ke,yP:()=>V,zJ:()=>K,z_:()=>te});var oe=t(8684),ae=t(4739),r=t(1366),o=t(1102),Y=t(7410),J=t(1042),i=t(8880),X=t(9914),Z=t(1181),d=t(536);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?l(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){(X.r.get("startConvoAdded")?X.r.get("startNewConversation"):O)(e)}function u(e,t){setTimeout(function(){return O(e,{},t)},300)}function C(e){X.r.get("startConvoAdded")?(re(),document.getElementById("engtChatContent").innerHTML="",p((0,J.LS)().PREV_MESSAGES,JSON.stringify([])),(0,i.Yy)(),(0,i.uX)(e)):O("",{},e)}function Q(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],t=e.querySelector("#".concat(t)),n=e.querySelector("#".concat(n));ne(t),ne(n),X.r.get("config.edit_user_input")&&!i&&(e.querySelector("#".concat(r)).style.display="block")}var I=Y.Qd.AGENT,L=Y.Qd.BOT,p=function(e,t){return localStorage.setItem(e,t)},$=function(e){return localStorage.getItem(e)},ee=function(e){return localStorage.removeItem(e)},A=function(){var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return e},f=function(e){if(4==e.readyState&&200==e.status){e=JSON.parse(e.responseText);if(e)return e}return!1},P=function(){return $((0,J.LS)().FONT_SETTING)?$((0,J.LS)().FONT_SETTING):window.innerWidth<460?"sm":"md"},x=function(e){e=e.split(".");return e[e.length-1]},D=function(e){return["txt","doc","docx","ppt","pptx","csv","zip","pdf","xls"].includes(e)?"".concat(o.Je,"/engt_").concat(e,".svg"):o.aO},M=function(e){e=f(e);return!(!e||null==e||!e.data)&&e.data},j=function(e,t){for(var n=document.getElementsByTagName("script"),r=E()?"/":"static/js/",i=0;i<n.length;i++)if(-1<n[i].src.indexOf(r+e)||-1<n[i].src.indexOf(r+t)){for(var o=n[i].src.split("?").pop().split("&"),a={},s=0;s<o.length;s++){var c=o[s].split("=");a[c[0]]=c[1]}if(null!=a&&a.config)return a}return{}},h=function(e){return decodeURIComponent((new RegExp("[?|&]".concat(e,"=")+"([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null},N=function(){var e,t="".concat(window.location.protocol,"//").concat(window.location.host);return E()&&(t="d"===(e=h("env"))||"dev"===e?"https://dev.engati.com":"p"===e?"https://app.engati.com":"l"===e?"http://localhost:5010":"qa"===e?"https://qa.engati.com":"staging"===e?"https://staging.engati.com":"op"===e?0:void 0),{config:{bot_key:h("bot_key"),launch_flow:h("launch_flow")||void 0,e:h("env"),botNameImage:h("bot_name_image"),data_attrs:h("data_attrs"),show_title:h("show_title"),debug:h("debug"),vid_sec:h("vid_sec"),set_default_brand:h("set_default_brand"),branding_key:h("branding_key")||"default",loadChatHistory:!!h("loadChatHistory"),server:h("server")||t,bot_mode:Y.Z_.STANDALONE,isChatOpened:!0}}},B=function e(t,n){for(var r in n)try{n[r].constructor==Object?t[r]=e(t[r],n[r]):t[r]=n[r]}catch(e){t[r]=n[r]}return t},g=function(e){X.r.get("config.is_debug")&&console.log(e)},m=function(e){if(e){e=e.replace("#","");for(var t=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],n=0;n<t.length;n++)t[n]=t[n]/255,t[n]=t[n]<=.03928?t[n]/12.92:Math.pow((t[n]+.055)/1.055,2.4);return.179<.2126*t[0]+.7152*t[1]+.0722*t[2]?"#403F42":"#ffffff"}},R=function(e,t){function r(e){try{var t=e.toString(16);return 1==t.length?"0".concat(t):t}catch(e){console.error("Error when converting component to hex",e)}}if(!e)return"#000000";t=t||e;try{var n=c([e,t].map(function(e){try{return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e).map(function(e){return parseInt("0x".concat(e))}).slice(1,4)}catch(e){console.error("Error when breaking down colors in hex",e)}}),2),i=n[0],o=n[1],a=[];return i.forEach(function(e,t){return a.push(parseInt((i[t]+o[t])/2))}),m(function(e){var t=(e=c(e,3))[0],n=e[1],e=e[2];try{return"#".concat(r(t)).concat(r(n)).concat(r(e))}catch(e){console.error("Error when converting rgb to hex",e)}}(a))}catch(e){return console.error("Error when generating contrasting color ",e),"#000000"}},y=function(e,t){t=new RegExp("(^|\\s)".concat(t,"(\\s|$)"));return!(null==e||!e.className)&&t.test(e.className)},G=function(e,t){!y(e,t)&&e&&(e.className+=" ".concat(t))},F=function(e,t){y(e,t)&&e&&(t=new RegExp("(\\s|^)".concat(t,"(\\s|$)")),e.className=e.className.replace(t," "))},U=function(e){return e&&e.offsetHeight+2<e.scrollHeight},H=function(){var e=document.getElementById("engtUserMessage");e&&e.setAttribute("disabled",!0)},q=function(){var e=document.getElementById("engtUserMessage");e&&e.setAttribute("disabled",!1)},W=function(){var e=document.getElementById("engtUserMessage");e&&e.focus()},V=function(e,t){e.style.visibility="hidden",e.style.position="absolute",t.style.display="block",t.appendChild(e);var n={height:e.height,width:e.width,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth,getBoundingClientRect:e.getBoundingClientRect()};return e.parentNode.removeChild(e),t.display="none",n},z=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})},K=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return(e="000".concat(e.toString(36)).slice(-3))+(t="000".concat(t.toString(36)).slice(-3))},se={messagesIn:function(){for(var e,t=null==(e=document.getElementById("engtChatContent"))?void 0:e.children,n=0;n<(null==t?void 0:t.length);n++){var r=-1<[I,L].indexOf(null==(i=t[n])||null==(r=i.getAttribute)?void 0:r.call(i,"data-msg-sender"))?"bot":"user",i=n%2==0?"0.3s":"0.2s";t[n].style.animation="message-slide-in-".concat(r," 0.5s cubic-bezier(.65,.56,.14,1.01) ").concat(i," both")}},messagesOut:function(){for(var e,t=null==(e=document.getElementById("engtChatContent"))?void 0:e.children,n=0;n<(null==t?void 0:t.length);n++)t[n].style.animation=""},launchScreenIn:function(){for(var e,t=null==(e=document.querySelector(".engt-launcher-details"))?void 0:e.children,n=document.querySelector(".engt-launch-query-input"),r=0;r<(null==t?void 0:t.length);r++)t[r].style.animation="launch-screen-animation-in 0.4s ease-out ".concat(.2*(r+1),"s both"),n.style.animation="growXFromHalf 0.3s ease-out 0.4s both"},launchScreenOut:function(){for(var e,t=null==(e=document.querySelector(".engt-launcher-details"))?void 0:e.children,n=document.querySelector(".engt-launch-query-input"),r=0;r<(null==t?void 0:t.length);r++)t[r].style.animation=null,n.style.animation=null}},ce=function(e){var t;(e="string"==typeof e?document.querySelector(e):e)&&(e.setAttribute("tabindex",-1),e.setAttribute("tabindex",0),null!=(t=(e=e).focus))&&t.call(e)},le=function(e,t){for(var n=function(){var r={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,n){r[t]=n});return r}(),r={},i=(e&&(r.url=e),t&&(r.page=t),["utm_source","utm_medium","utm_campaign","utm_content","utm_term"]),o=0;o<i.length;o++){var a=n[i[o]];a&&(r[i[o]]=a)}e={name:"user_web"};return e.value=JSON.stringify(r),e},ue=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t},de=function(t){return function(e){27!==(e.which||e.keyCode)||e.shiftKey||(e.preventDefault(),t(e,void 0))}},pe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return n.target.click()},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o.nx.ENTER,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:event;(n.which||n.keyCode)!==t||n.shiftKey||(n.preventDefault(),e())},fe=function(e,t,n){document.querySelector(e)&&(document.querySelector(e).style["".concat(t)]=n)},te=function(e,t){if(e)try{"string"==typeof t?e.innerHTML=t:e.appendChild(t),v(e)}catch(e){console.error("error in append child",e)}},v=function(e){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)},ne=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},he=function(e,t){e={message:{flow_node_key:"".concat(e,"__").concat(t),type:"trigger_flow_node"}},t=X.r.get("config.default_edit_response")||o.eG;X.r.get("sendMessage")(t,e)},ge=function(i,o,e,a,t){var n,s,r,c,l,u,d=document.querySelector("engagement-triggers"),p=document.documentElement;document.createElement("style").type="text/css",X.r.get("config.isChatOpened")||(te(d,(d=null==t?void 0:t.fontColor,'<div id="engt-triggers-wrapper" class="engt-triggers-wrapper" style="display: none">\n\t\t<div id="engt-triggers-cross-div" class="engt-triggers-cross-div">\n\t\t<svg\n\t\twidth="11"\n\t\theight="11"\n\t\tviewBox="-0.5 -0.5 9 9"\n\t\tfill="'.concat(d,'"\n\t\txmlns="http://www.w3.org/2000/svg"\n\t>\n\t\t<path\n\t\t\tfill-rule="evenodd"\n\t\t\tclip-rule="evenodd"\n\t\t\td="M0.939771 0.104663L0.0558872 0.988546L3.14943 4.08209L0.0559435 7.17557L0.939827 8.05946L4.03331 4.96597L7.12696 8.05961L8.01084 7.17573L4.9172 4.08209L8.0109 0.988389L7.12701 0.104505L4.03331 3.1982L0.939771 0.104663Z"\n\t\t/>\n\t</svg>\n\t\t</div>\n\t\t<div id="engt-triggers" class="engt-triggers">\n\t\t\t<div id="engt-triggers-message" class="engt-triggers-message"></div>\n\t\t\t<div id="engt-triggers-separator" class="engt-triggers-separator"></div>\n\t\t\t<div id="engt-triggers-button-group" class="engt-triggers-button-group">\n\t\t\t</div>\n\t\t</div>\n\t</div>'))),n=document.getElementById("engt-triggers-wrapper"),d=document.getElementById("engt-triggers-message"),s=document.getElementById("engt-triggers-button-group"),r=document.getElementById("engt-triggers-cross-div"),c=X.r.get("config.enable_trigger_analytics_config"),(l="ga"in window)&&c&&window.ga("send","event","Engagement","Popup Visible",o.name),u=d.innerHTML,d.innerHTML=i,s.innerHTML="",null!=e&&e.forEach(function(r){var e=document.createElement("button");e.className="engt-triggers-button",e.innerHTML=r.text,e.addEventListener("click",function(){l&&c&&window.ga("send","event","Conversion","Click",o.name);var e=[{type:"TEXT",text:i}],t="",n=(a.forEach(function(e){t="".concat(t+(t&&"&")+e.name,"=").concat(e.value)}),"flow_".concat(r.flow_key,"||data_").concat(t)),e={isFlowTriggeredFromTriggers:!0,flowKey:r.flow_key,attributes:a,text:r.text,botMessages:e,postback:n,triggerStartNewConversation:!1};X.r.get("triggerSessionExpired")&&(e.triggerStartNewConversation=!0),X.r.set("triggerButtonConfig",e),X.r.get("onLauncherClick")(),X.r.set("triggerButtonConfig",{isFlowTriggeredFromTriggers:!1}),X.r.set("triggerSessionExpired",!1)}),s.appendChild(e)}),n.style.display="block",X.r.get("config.autoPopupType")!==Y.bC.CLOSED||u||(d=document.getElementById("engtClosedCallout"))&&!y(d,"engt-closed-callout-hidden")&&(n.style.bottom="84px"),p.style.setProperty("--engt-triggers-background-color",null==t?void 0:t.backgroundColor),p.style.setProperty("--engt-triggers-message-color",null==t?void 0:t.fontColor),p.style.setProperty("--engt-triggers-cross-background-color",null==t?void 0:t.backgroundColor),p.style.setProperty("--engt-triggers-button-text-color",t.buttonTextColor),p.style.setProperty("--engt-triggers-button-background-color",t.buttonColor),p.style.setProperty("--engt-triggers-separator-color",w(t.fontColor,.2)),r.addEventListener("click",function(){n.style.display="none"}))},me=function(){var e=document.createElement("meta");e.id="engtMetaTag",e.name="viewport",e.content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi",document.getElementsByTagName("head")[0].appendChild(e),document.documentElement.style.setProperty("touch-action","pan-x pan-y"),document.documentElement.style.setProperty("height","100%")},ye=function(){var e,t,n=document.querySelector("#engtMetaTag");null!=n&&null!=(e=n.parentNode)&&null!=(t=e.removeChild)&&t.call(e,n),document.documentElement.style.removeProperty("touch-action"),document.documentElement.style.removeProperty("height")},ve=function(e,i){var e=e||{},o=e.dropdowns,a=(e.index,e.msgId),t=e.type,t=void 0===t?"":t,s=e.title,c=e.value,l=e.payload,n=e.url,u=e.otherChannelsData,r=function(){};switch(t.toUpperCase()){case Y.lB.FAQ:r=function(){X.r.get("sendQuery")(c||l,{tab_msg_action:i,skipAppendToDom:X.r.get("config.isCtaResponseHidden")})};break;case Y.lB.URL:case Y.lB.WEB_URL:case Y.lB.PHONE_NUMBER:r=function(){window.open(c||n||l,"_blank")};break;case Y.lB.PATH:case Y.lB.POSTBACK:r=function(){var e,t,n,r="";null!=o&&null!=(e=o.data)&&e.length&&(r+=-1<l.indexOf("||data_")?"":"||data_",o.data.map(function(e,t){(0<t||-1<l.indexOf("||data_"))&&(r+="&"),r+="".concat(o.payload,".").concat(t,"=").concat(X.r.get("carouselDropdowns.".concat(a,"-").concat(t)))})),u?(e=u.platform,t=u.bot,n=u.user,n={request:JSON.stringify({postback:c||l+r,type:"postback",text:s,userId:n}),userId:n},(0,d.h)("POST","".concat(window.location.origin,"/").concat(e,"/submitPostback/").concat(t),{payload:JSON.stringify(n)}).then(function(e){var e=f(e);e&&e.status&&((e=document.getElementById("engt-popup")).innerHTML="<div>Thanks for the input. Please close this web view to return to the chat.</div>",e.classList.add("engt-redirect-open"),window.top.close())}).catch(function(e){g(e)})):X.r.get("sendQuery")(s,{message:{postback:c||l+r,type:"postback",text:s},tab_msg_action:i,skipAppendToDom:X.r.get("config.isCtaResponseHidden")})}}return r},be=function(e){e=[new window.ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})];navigator.clipboard.write(e).then(function(){b(!0)},function(){b(!1)})},_e=function(t){try{fetch("".concat(window.location.origin,"/cart.js"),{method:"get"}).then(function(e){return e.json()}).then(function(e){return"".concat((0,r.a$)().CART+e.items.map(function(e){return"".concat(e.id,":").concat(e.quantity)}).join(","),"?discount=").concat(t)}).then(function(e){return fetch(e,{method:"get"})}).then(function(e){b(!0)}).catch(function(e){b(!1)})}catch(e){console.error(e)}},b=function(e,t){e={bot_key:X.r.get("config.bot_key"),user_id:X.r.get("status.sessionKey"),message:{type:"request_callback",success:e,response:t},key:X.r.get("config.key"),is_debug:X.r.get("config.is_debug")};(0,i.TS)("user_msg",e)},_=function(e){return e.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"})},we=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date,t=e.toLocaleDateString("en-GB",{month:"long",day:"2-digit"}),n=e.getFullYear(),e=_(e);return"".concat(t,", ").concat(n," ").concat(e)},Ee=function(e){return new RegExp("<a[^>]*>(.*?)</a>").test(e)},Se=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},Oe=function(e){var t,n=/((^|[^\/])(www\.[\S]+(\b|$)))/gim,r=e,e=(r=r.replace(/((^|[^\/])href='(www\.[\S]+(\b|$)))/gim," href='http://$3")).match(/(?!([^<]+)<\/a>)((?:https?:\/\/[A-Z]*\.)|(www\.)|(?:https?:\/\/))[-A-Z0-9+&@#\/%?=~_|!:,;]+(\.[-A-Z0-9+&@#?\/%=~_|]+)+(?=<|\s|$)/gim);return(e=e&&e.filter(function(e,t,n){return n.indexOf(e)==t}))&&e.forEach(function(e){t=e.match(n),e=(e=(e=(e=e.replace(/\//g,"\\/")).replace(/\./g,"\\.")).replace(/\?/g,"\\?")).replace(/\=/g,"\\=");e=new RegExp("(?!([^<]+)>)(^|[ ]|-|\\()(".concat(e,")"),"gim");r=t?r.replace(e,'$2<a href="http://$3" target="_blank">$3</a>'):r.replace(e,'$2<a href="$3" target="_blank">$3</a>')}),r=-1===r.indexOf("mailto:")?(r=r.replace(/(?!([^<]+)<\/a>)([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6})/gim,'<a href="mailto:$2">$2</a>')).replace(/(<[a-z]>)(<a href="mailto:(.*?)">(.*?)<\/a>)(<\/[a-z]>)/gim,'<a href="mailto:$3">$1$3$5</a>'):r},ke=function(e){navigator.clipboard.writeText(e)},Te=function(n,e,r){var i=n.scrollTop,o=e-i,a=0;(function e(){a+=20;var t=Math.easeInOutQuad(a,i,o,r);n.scrollTop=t,a<r&&setTimeout(e,20)})()},Ce=(Math.easeInOutQuad=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},function(e){var t=(e/1048576).toFixed(2);return 0===parseInt(t)?"".concat((e/1024).toFixed(2),"KB"):Number.isInteger(t)?"".concat(t,"MB"):""}),Ie=function(){document.addEventListener("visibilitychange",function(e){var t;document.hidden?X.r.set("infocus",!1):(X.r.set("infocus",!0),t=document.title.split(")").pop(),X.r.set("notificationCount",1),document.title=t)});var e=JSON.parse($((0,J.LS)().IS_NOTIFED));X.r.set("config.isNotified",e),e&&p((0,J.LS)().IS_NOTIFED,JSON.stringify(!1))},Le=function(){var e=document.getElementById("engtChatContent");e.scrollBy({top:e.scrollHeight,behavior:"smooth"})},Ae=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=$((0,J.LS)().PREV_MESSAGES);if(r){for(var i=JSON.parse(r),o=0;o<i.length;o++)if(i[o]["".concat(e)]===t){i[o]=s(s({},i[o]),n);break}p((0,J.LS)().PREV_MESSAGES,JSON.stringify(i))}},Pe=function(e){var t={agent_avatar:void 0,agent_name:void 0,message:"skip",message_id:null,messagetype:Y.C7.SKIP,sender:"user",timestamp:(new Date).getTime(),user_id:X.r.get("status.sessionKey"),bot_ref:X.r.get("config.botRef"),bot_key:X.r.get("config.bot_key")};(0,Z.QS)(t)},xe=function(r,i){var o;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(o),o=setTimeout(function(){clearTimeout(o),r.apply(void 0,t)},i)}},w=function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return"#".concat(t).concat(t).concat(n).concat(n).concat(r).concat(r)}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)});return"rgba(".concat(e,", ").concat(t,")")},De=function(e,n){(0,d.u)("GET","".concat((0,r.f4)().DOWNLOAD_URL,"?url=").concat(e),{async:!0,responseType:"blob"}).then(function(e){var t=document.createElement("a");t.setAttribute("href",URL.createObjectURL(e.response)),t.setAttribute("download","media.".concat(n)||0),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}).catch(function(e){return console.log("error",e)})},E=function(){return-1<window.location.href.indexOf("http://localhost:8080")},Me=function(e){return 999<Math.abs(e)?"".concat((Math.abs(e)/1e3).toFixed(1),"k"):Math.abs(e)},je=function(){var e=document.createElement("style");e.innerHTML="\n\t@import url('https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700&display=swap');\n\t@font-face {\n\t\tfont-family: 'Indie Flower script=all rev=2';\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tsrc: url(https://fonts.gstatic.com/l/font?kit=m8JVjfNVeKWVnh3QMuKkFcZla0GA1dOueNYET-Fmdpk-d21Aj7xnXaUjjY72D9DSIjGkU6jFp9SFiH_A_FoehJyTrQ2KzW1Rfb0c1Alj8NwWzipxiySCTbvzmJiEBuR3KG_xwB13pzmf2p7Pid2Yp5OEaOzZYZ5OFcTizpCfcjsp1NFVSJvdLaH9dvFnKdA&skey=cdda66716f19c532&v=v11)\n\t\t\tformat('woff2');\n\t}",document.head.appendChild(e)},Ne=function(){var e=document.createElement("style");e.innerHTML="\n\t@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap');\n\t@font-face {\n\t\tfont-family: 'Roboto';\n\t\tfont-style: normal;\n\t\tfont-weight: 400;\n\t\tsrc: url(https://fonts.gstatic.com/l/font?kit=KFOMCnqEu92Fr1ME7kSn66aGLdTylUAMQXC89YmC2DPNWubEbWmWggvWlkwn7X8WhBoUiaKmIpiDLU9JQ7_9&skey=a0a0114a1dcab3ac&v=v47) format('woff2');\n\t}",document.head.appendChild(e)},S=function(r,i,e){var o;document.body.getAttribute("data-isEngtListenerAdded")!==i&&(o=localStorage.setItem,localStorage.setItem=function(e,t){var n=new Event(i);n.value=t,(n.key=e)===r&&"true"===t&&document.dispatchEvent(n),o.apply(this,arguments)},i&&document.addEventListener(i,e,!1),document.body.setAttribute("data-isEngtListenerAdded",i))},O=function(e,t,n){(JSON.parse($((0,J.LS)().PREV_MESSAGES))||[]).length?(document.getElementById("engtChatContent").innerHTML="",p((0,J.LS)().PREV_MESSAGES,JSON.stringify([])),null!==X.r&&void 0!==X.r&&X.r.get("sendQuery")("Skip",{message:{postback:"SESSION_TIMEOUT_STOP_CURRENT_FLOW",type:"postback",text:"Skip",skipStoringMsg:!0,tab_msg_action:"skip"},skipAppendToDom:!0}),setTimeout(function(){e?null!==X.r&&void 0!==X.r&&X.r.get("sendQuery")(e,t):n&&((0,i.Yy)(),(0,i.uX)(n))},500)):e?null!==X.r&&void 0!==X.r&&X.r.get("sendQuery")(e,t):n&&((0,i.Yy)(),(0,i.uX)(n))},Be=function(){var e;window.EngtChat=s(s({},window.EngtChat||{}),{},{open:(null==(e=window.ENGT_CHAT)?void 0:e.onLauncherClick)||function(){},close:(null==(e=window.ENGT_CHAT)?void 0:e.onMinimize)||function(){},startFlow:function(e){"true"===$((0,J.LS)().GOT_UID)?(X.r.get("config.isChatOpened")||null!==X.r&&void 0!==X.r&&X.r.get("onLauncherClick")(),C(e)):(S((0,J.LS)().GOT_UID,"itemInserted",u.call(this,"",e)),X.r.get("config.isChatOpened")||null!==X.r&&void 0!==X.r&&X.r.get("onLauncherClick")(),X.r.get("startConvoAdded")&&(re(),(0,i.Yy)(),(0,i.uX)(e)))},sendQuery:function(e){"true"===$((0,J.LS)().GOT_UID)?(X.r.get("config.isChatOpened")||null!==X.r&&void 0!==X.r&&X.r.get("onLauncherClick")(),T(e)):(S((0,J.LS)().GOT_UID,"itemInserted",u.call(this,e)),X.r.get("config.isChatOpened")||null!==X.r&&void 0!==X.r&&X.r.get("onLauncherClick")(!1),X.r.get("startConvoAdded")&&X.r.get("startNewConversation")(e))},updateAttribute:i.tC})},re=function(){var e=null==(t=Array.from(document.querySelectorAll(".engt-status-divider-wrapper")))||null==(e=t.pop)?void 0:e.call(t),t=document.getElementById("engtChatContent"),n=document.getElementById("engtQueryInput"),r=X.r.get("onModalClose"),i=(null!=e&&null!=(i=e.remove)&&i.call(e),r&&r("",!0),X.r.set("startConvoAdded",!1),X.r.get("renderReplyInput")(),Array.from(t.children)||[]);n&&n.removeAttribute("disabled"),o.yS.includes(null==(e=i[i.length-1])?void 0:e.getAttribute("data-messagetype"))||(0,Z.iD)({})},Re=function(e){if(e.key===(0,J.LS)().TAB_MESSAGES&&$((0,J.LS)().TAB_MESSAGES))try{var t=JSON.parse($((0,J.LS)().TAB_MESSAGES)),n=t.action,r=t.skipAppendToDom,i=t.statusData,o=void 0===i?{}:i,a=t.selectedValue;if(t.tabId!==(X.r.get("socketId")||"")){switch(n){case"add_user_msg":r||(0,Z.Tx)(t,{storeMsgInLs:!1});break;case"disable_session_timeout":re();break;case"enable_session_timeout":(0,Z.fm)(o),X.r.get("renderStartConversation")();break;case"update_smo_msg":var s=t.id,c=t.selectedValue,l=document.getElementById(s);l.querySelectorAll("button:not(#editBtn-".concat(s,")")).forEach(function(e,t){e.disabled=!0,t===c&&e.classList.add("engt-button-base-hover")}),X.r.get("config.edit_user_input")&&(l.querySelector("#editBtn-".concat(s)).style.display="block");break;case"update_file_msg":var u,d,N=t.fileName,B=t.fileLink,R=t.fileType,G=t.fileSize,p=t.id,f=t.selectedValue,h=document.querySelector("#engt-file-".concat(p));"skip"!=f&&(u={name:N,src:B,type:R,size:G},d=h.querySelector(".preview-overlay"),X.r.get("showUploadedFile")(u,!0),h.querySelector(".engt-msg-file-upload-preview").classList.add("engt-msg-file-upload-complete"),h.querySelector('[data-id="inputField"]').disabled=!0,ne(d)),Q(h,"fileUploadBtn","fileSkipBtn","editBtn-".concat(p),"skip"===f);break;case"update_rud_msg":var g=t.rudId,F=t.selectedValue,m=document.getElementById(g),y=m.querySelector("#rud-error-".concat(g)),v=m.querySelector("#rud-input-".concat(g)),b=document.getElementById("engtDatePicker-".concat(g)),U=m.querySelector("validated-msg"),_=(null!=v&&v.remove(),b&&b.remove(),document.createElement("strong"));_.style.width="100%",_.innerHTML=F,y&&y.classList.add("engt-hidden"),Q(m,"confirmBtn-".concat(g),"rud-skipBtn","editBtn-".concat(g)),te(U,_);break;case"update_form_msg":var H=t.id,q=t.toggleBtnId,w=t.selectedValue,E=document.getElementById(H);if("skip"===w)return void E.parentNode.removeChild(E);E.innerHTML=w;var S=document.getElementById(q);S&&(E.classList.add("engt-msg-formnode-shrink"),S.addEventListener("click",function(){"false"===this.getAttribute("data-open")?(E.classList.remove("engt-msg-formnode-shrink"),this.setAttribute("data-open",!0),this.querySelector("span").innerText="Show less",this.querySelector(".engt-show-more-icon").src=ae):(E.classList.add("engt-msg-formnode-shrink"),this.setAttribute("data-open",!1),this.querySelector("span").innerText="Show more",this.querySelector(".engt-show-more-icon").src=oe)}));break;case"update_slider_msg":var O,k,T,C,I=t.id,W=t.disableLabels,V=t.percentage,L=document.querySelector("#engt-slider-input-".concat(I)),A=document.querySelector("#engtSliderMsg-".concat(I));A&&(L.disabled=!0,"skip"!=a&&(L.value=a,L.style.background="linear-gradient(90deg, ".concat(X.r.get("config.buttonSelectorColor")," ").concat(V,"%, #fff 0)")),O=A.querySelector("#confirmBtn"),k=A.querySelector("#skipBtn"),T=A.querySelector("#engtSliderLabels-".concat(I)),C=A.querySelector("#engt-slider-val-".concat(I)),W&&T&&(T.style.pointerEvents="none"),C&&(C.innerText="".concat(parseInt(a),"%")),k&&A.removeChild(k),A.removeChild(O));break;case"update_feedback_msg":var P,x=t.ratingId,z=Y.kw.IS_DISABLED,K=Y.kw.SELECTED_INDEX,D=Y.kw.IS_SELECTED,M=document.getElementById("stars-".concat(x)),j=M.parentNode;j&&(P=j.querySelector("#engFeedbackInput"),M.setAttribute(z,!0),P&&(P.disabled=!0),Q(j,"confirmBtn","skipBtn","editBtn-".concat(x),"skip"===a),"skip"!=a)&&(M.setAttribute(K,a),j.querySelectorAll(".engt-rating").forEach(function(e,t){t<=a?e.setAttribute(D,!0):e.setAttribute(D,!1)}))}X.r.get("enableAllInput")(),ee((0,J.LS)().TAB_MESSAGES)}}catch(e){ie("errored out while syncing messages across tabs: ",e)}},ie=function(e){if(X.r.get("config.is_debug")){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(r))}},Ge=function(e){var t=e.source_node_type,n=e.message;return t===Y.kL.RCV_INP&&!e.validated||!(n.type!==Y.C7.IDENTITY||null!=e&&null!=(t=e.message)&&null!=(n=t.data)&&n.hasOwnProperty("login_success"))},Fe=function(){var e,t,n,r=document.getElementById("engtUserMessage");r&&(r.focus(),t=document.createRange(),n=null==(n=(e=window).getSelection)?void 0:n.call(e),t.setStart(null==(e=r.childNodes)?void 0:e[r.childNodes.length-1],null==(e=r.childNodes)?void 0:e[r.childNodes.length-1].length),t.collapse(!0),n)&&(n.removeAllRanges(),n.addRange(t))},Ue=function(e){var t,n;e&&(p((0,J.LS)().USER_LOCALE,e),null!=(t=(n=window).onENGTLanguageChange))&&t.call(n,e)},He=function(e){var t,n;document.getElementById("botLang").innerHTML.toLowerCase()!==e&&document.getElementById(e)&&(document.getElementById("botLang").innerHTML=e.toUpperCase(),n=document.getElementById($((0,J.LS)().USER_LOCALE)),t=document.getElementById("tickForLang"),null!=n&&n.removeChild(t),null!=n&&n.classList.remove("selected-option"),n=document.getElementById(e),e=document.getElementById("option-".concat(e)),null!=n&&n.classList.add("selected-option"),null!=n)&&n.insertBefore(t,e)}},8880:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{An:()=>emitWelcomeMsg,B2:()=>updateChatEvent,CT:()=>botResponse,T:()=>socketInit,TS:()=>emitMessage,X6:()=>isOldUser,Yy:()=>emitAskUserIdEvent,eA:()=>fetchUserMessages,tC:()=>updateAttribute,uX:()=>emitInitMsgEvent,v0:()=>emitForUserCreationInLaunchScreen,w4:()=>getAttachmentTransactionId,zP:()=>disconnect});var consts_enum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7410),consts_localStorage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1042),js_bot_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9914),js_conversation__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1181),js_socket__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5473),js_speech_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5261),_js_voiceBot__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6109),_helpers__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4769);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var engtSocket=null,socketInit=function(){var e,t,n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];engtSocket?null!=(e=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig"))&&e.isFlowTriggeredFromTriggers&&((e=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig")).triggerStartNewConversation?js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("startNewConversation")():js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("sendMessage")(e.text,{message:{postback:e.postback,type:"postback",text:e.text}})):(engtSocket=new js_socket__WEBPACK_IMPORTED_MODULE_4__.Z,e=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.isLaunchScreenEnabled")||void 0,engtSocket.onAskUserId(),e&&js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.bot_mode")!==consts_enum__WEBPACK_IMPORTED_MODULE_0__.Z_.STANDALONE?null!=(t=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig"))&&t.isFlowTriggeredFromTriggers&&e?(js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("showChatScreen")(),handleTriggersCallbackClicks(!0)):engtSocket.onWelcomeMsg(!1,!0):null!=(t=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig"))&&t.isFlowTriggeredFromTriggers?handleTriggersCallbackClicks():engtSocket.onWelcomeMsg(n),engtSocket.gotUserId(),engtSocket.onLocaleChange(),engtSocket.onChatHistoryMsgs(),engtSocket.onBotResponse(),engtSocket.onAttachmentTransId(),isOldUser()&&engtSocket.changeChatStatus("chat opened",!0),engtSocket.onSocketDisconnect(),engtSocket.onWebsiteClose(),engtSocket.onSocketError(),engtSocket.onSocketConnectError(),js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("currentScreen")===consts_enum__WEBPACK_IMPORTED_MODULE_0__.xe.CHAT&&engtSocket.askUserName(),js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.loadChatHistory")&&js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("checkAndfetchMessages")(new Date))},handleTriggersCallbackClicks=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig");js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("firstTime")?t.triggerStartNewConversation?js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("startNewConversation")():engtSocket.onWelcomeMsg(!0,e,null==t?void 0:t.flowKey,null==t?void 0:t.attributes,null==t?void 0:t.text,null==t?void 0:t.botMessages):js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("sendMessage")(t.text,{message:{postback:t.postback,type:"postback",text:t.text}})},disconnect=function(){engtSocket.disconnect()},updateAttribute=function(e){engtSocket.updateAttribute(e)},emitWelcomeMsg=function emitWelcomeMsg(msgEmitJson,data){var keyResponse=eval(data),ipAddressObtained=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.userIpAddress"),isIpAddressAvailable=!!ipAddressObtained&&"string"==typeof ipAddressObtained,onSuccesfulIpFetch,_ENGT_CHAT$get$ipAddr,_ENGT_CHAT$get$ipAddr2;js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.set("config.key",keyResponse),msgEmitJson.key=keyResponse,js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.enableIpAddress")&&js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.ipAddressPromise")?(onSuccesfulIpFetch=function(e){(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().IP_ADDRESS)!==e&&(msgEmitJson.ip_address=e,(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.fN)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().IP_ADDRESS,e)),engtSocket.emitEvent("welcome_msg",msgEmitJson)},isIpAddressAvailable?onSuccesfulIpFetch(ipAddressObtained):null!=(_ENGT_CHAT$get$ipAddr=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config").ipAddressPromise)&&null!=(_ENGT_CHAT$get$ipAddr2=_ENGT_CHAT$get$ipAddr.then)&&_ENGT_CHAT$get$ipAddr2.call(_ENGT_CHAT$get$ipAddr,onSuccesfulIpFetch).catch(function(e){(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.bZ)("error while getting ip address: ",e),engtSocket.emitEvent("welcome_msg",msgEmitJson)})):engtSocket.emitEvent("welcome_msg",msgEmitJson)},emitAskUserIdEvent=function(){engtSocket.emitAskUserId(js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.isLaunchScreenEnabled")&&js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.bot_mode")===consts_enum__WEBPACK_IMPORTED_MODULE_0__.Z_.WIDGET)},emitInitMsgEvent=function(e){var t,n;null!=(t=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig"))&&t.isFlowTriggeredFromTriggers?(t=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("triggerButtonConfig"),n=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.isLaunchScreenEnabled"),engtSocket.onWelcomeMsg(!0,n,null==t?void 0:t.flowKey,null==t?void 0:t.attributes,null==t?void 0:t.text,null==t?void 0:t.botMessages)):engtSocket.onWelcomeMsg(!0,js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.isLaunchScreenEnabled"),e)},getAttachmentTransactionId=function(){engtSocket.getAttachmentTransactionId()},updateChatEvent=function(e){engtSocket.changeChatStatus(e?"chat opened":"chat closed",e)},setConfigForMsgRecieved=function(e){var e=e.message;null!=e&&e.data&&(null==e?void 0:e.type)===consts_enum__WEBPACK_IMPORTED_MODULE_0__.C7.AGENT_PARTICIPATION_STATUS&&(e.data.PARTICIPATION_MESSAGE,"JOINED"===e.data.PARTICIPATION_STATUS?((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.fN)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().LIVECHAT,"true"),null!=(e=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("showUploadBtnForLiveChat"))&&e(),null!=(e=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("showInputBox"))&&e()):((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.fN)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().LIVECHAT,"false"),null!=(e=js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("hideUploadBtnForLiveChat"))&&e(),!1===js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.showReplyArea")&&js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("hideInputBox")()),js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("reRenderHeaderOptions")())},handleAuthenticationOfIdentityNode=function(e){var t=e.message.data.login_success;if((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().PREV_MESSAGES)){var n=JSON.parse((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().PREV_MESSAGES));if(t)for(var r=0;r<n.length;r++)n[r].message_id===js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("lastIdentityNode")&&(n[r].validated=!0);(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.fN)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().PREV_MESSAGES,JSON.stringify(n))}js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("validateFormNode")(e.message.data),t&&e.message.data.user_id!==e.user_id&&((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.fN)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().NEW_SESSION,e.message.data.user_id),js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.set("status.sessionKey",(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().NEW_SESSION)),disconnect())},botResponse=function(e){var t=e.ack;if((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.bZ)("bot response --\x3e",e),e.sender||(e.sender=consts_enum__WEBPACK_IMPORTED_MODULE_0__.Qd.BOT),(0,js_conversation__WEBPACK_IMPORTED_MODULE_3__.g2)(e),js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("showTypingIndicator")(e,"engt-typing-indicator"),null!=t){if(engtSocket.emitEvent("msg_received",{user_id:e.user_id,bot_ref:e.bot_ref,bot_key:js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.bot_key"),ack:t}),e.message_id===js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("lastMsgId")&&"RCV_INP"!==(null==e?void 0:e.source_node_type))return;t=parseInt(t.substr(0,t.indexOf("__")));js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.set("lastMsgId",e.message_id),js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.set("ack",t)}e.message.type===consts_enum__WEBPACK_IMPORTED_MODULE_0__.C7.IDENTITY&&e.message.data.hasOwnProperty("login_success")&&handleAuthenticationOfIdentityNode(e),setConfigForMsgRecieved(e),e.message&&e.message.type&&(js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.isConversationalIvrEnabled")&&e.message.text?(0,_js_voiceBot__WEBPACK_IMPORTED_MODULE_6__.J)(e.message.text):(0,js_speech_js__WEBPACK_IMPORTED_MODULE_5__.p7)(e),(0,js_conversation__WEBPACK_IMPORTED_MODULE_3__.Tx)(e,{type:e.message.type}));var t=e.messageToBeDisplayed,n=!1;e.flow_key&&e.bot_ref&&e.flow_key!=="greetings_".concat(e.bot_ref)&&e.flow_key!=="default_fallback_msg_".concat(e.bot_ref)&&(n=!0),t&&"text"==e.message.type&&!n&&(0,js_conversation__WEBPACK_IMPORTED_MODULE_3__.Tx)(_objectSpread(_objectSpread({},e),{},{message:{sender:"user",text:t},sender:"user",type:"text"}),{storeMsgInLs:!0,isOldMessage:!1})},fetchUserMessages=function(e){(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)("chatMessageTimestamp")||(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.fN)("chatMessageTimestamp",new Date);e=e||new Date((0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)("chatMessageTimestamp")),e={userId:js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("status.sessionKey"),botKey:js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("config.bot_key"),conversationId:js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("status.sessionKey"),pageSize:50,to:e.getTime()-1};engtSocket.emitEvent("request_chat_history",e,function(e){js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.set("config.temporaryRoomId",e)})},emitMessage=function(e,t,n){engtSocket.emitEvent(e,t,n)},emitForUserCreationInLaunchScreen=function(){engtSocket.changeChatStatus("chat opened",!0),engtSocket.askUserName()},isOldUser=function(){return js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("currentScreen")===consts_enum__WEBPACK_IMPORTED_MODULE_0__.xe.CHAT||js_bot_model__WEBPACK_IMPORTED_MODULE_2__.r.get("currentScreen")===consts_enum__WEBPACK_IMPORTED_MODULE_0__.xe.LAUNCH&&(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.t5)((0,consts_localStorage__WEBPACK_IMPORTED_MODULE_1__.LS)().PREV_MESSAGES)}},1800:(N,e,t)=>{"use strict";t.d(e,{Hu:()=>M,E1:()=>x,gQ:()=>H,S1:()=>W,Db:()=>j,Kq:()=>q});var r=t(1366),s=t(1102),f=t(7410),m=t(1042),n=t(536),y=t(4769),i=t(8880),v=t(9914),o=t(1181),a=t(5261),c=t(6109);function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t){var n={arial:"Arial, Helvetica, Sans-serif",brushScriptMt:"Brush Script MT, Italic, Cursive",calibri:"Calibri, Arial, Sans-serif",copperplate:"Copperplate, Romanserif, Sans-serif",courierNew:"Courier New, Courier, Copperplate",garamond:"Garamond, Serif",helvetica:"Helvetica, Serif, Sans-serif",indieFlower:"Indie Flower, Cursive",nunito:"Nunito, Avenir, Sans-serif",openSans:"Open Sans, Sans-serif, Sans",raleway:"Raleway, Avenir, Sans-serif",roboto:"Roboto, Comic Sans MS, Sans",timesNewRoman:"Times New Roman, Times, Serif",verdana:"Verdana, Arial, Sans-serif",zapfChancery:"Zapf Chancery, Cursive"},r="Hind",r="helvetica"!==e&&"garamond"!==e||"LIGHT"!==t?"indieFlower"===e?((0,y.qm)(),'"Indie Flower script=all rev=2", "Adobe Blank"'):("roboto"===e&&(0,y.YO)(),n[e]):"".concat(n[e],"; font-weight: 300"),t=document.createElement("style");return t.appendChild(document.createTextNode("\n\t\t\t.engt * {\n\t\t\t\tfont-family: ".concat(r," !important;\n\t\t\t}"))),r&&document.head.appendChild(t),r},h=function(e){v.r.set("config.remove_branding",e.remove_branding),"object"===d(v.r.get("config.set_default_brand"))?Object.keys(v.r.get("config.set_default_brand")).length&&v.r.set("config.remove_branding",!1):v.r.get("config.set_default_brand")&&v.r.set("config.remove_branding",!1)},g=function(){var e=v.r.get("config"),t=e.themeColor,n=e.themeTextColor,r=e.userResponseBubbleColor,i=e.userResponseTextColor,o=e.botResponseBubbleColor,a=e.botResponseTextColor,e=e.buttonSelectorColor,s='background: url("data:image/svg+xml, '.concat((s=e.replace("#","%23"),"<svg width='19' height='31' viewBox='0 0 19 31' fill='none' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M12.6423 18.468C16.3448 17.1708 19 13.6455 19 9.5C19 4.25329 14.7467 0 9.5 0C4.25329 0 0 4.25329 0 9.5C0 13.6455 2.65522 17.1708 6.35774 18.468C6.37941 18.5634 6.41596 18.6583 6.46891 18.75L8.63398 22.5C9.01888 23.1667 9.98112 23.1667 10.366 22.5L12.5311 18.75C12.584 18.6583 12.6206 18.5634 12.6423 18.468Z' fill='".concat(s,"'/><circle cx='9.5' cy='9.5' r='7.5' fill='white'/><path d='M9.46169 9.15385C10.6087 9.15385 11.5386 8.22398 11.5386 7.07692C11.5386 5.92987 10.6087 5 9.46169 5C8.31464 5 7.38477 5.92987 7.38477 7.07692C7.38477 8.22398 8.31464 9.15385 9.46169 9.15385Z' fill='").concat(s,"'/><path d='M10.4595 9.84616H8.46358C7.81039 9.84699 7.1842 10.1069 6.72235 10.5688C6.26051 11.0307 6.00073 11.6569 6 12.3101C6.00046 12.7581 6.17865 13.1877 6.49547 13.5045C6.8123 13.8214 7.24187 13.9995 7.68992 14H11.2328C11.681 13.9995 12.1106 13.8213 12.4275 13.5044C12.7444 13.1875 12.9226 12.7579 12.9231 12.3097C12.9223 11.6566 12.6626 11.0304 12.2007 10.5685C11.7389 10.1067 11.1127 9.84689 10.4595 9.84616Z' fill='").concat(s,"'/><rect x='7' y='25' width='5' height='5' rx='2.5' fill='").concat(s,"' stroke='white' stroke-width='3'></rect></svg>")),'")'),c=!!v.r.get("config.chat_header_icon_url"),l=document.documentElement,u=document.createElement("style"),d=v.r.get("config.bot_mode")===f.Z_.STANDALONE,p=(0,y.t5)((0,m.LS)().FONT_SETTING)===f.Kt.SMALL;u.type="text/css",l.style.setProperty("--engt-mic-bg-color",(0,y.oo)(t,.1)),l.style.setProperty("--engt-theme-color",t),l.style.setProperty("--engt-theme-text-color",n),l.style.setProperty("--engt-user-bubble-color",r),l.style.setProperty("--engt-bot-bubble-color",o),l.style.setProperty("--engt-user-text-color",i),l.style.setProperty("--engt-bot-text-color",a),l.style.setProperty("--engt-button-bg-color",e),l.style.setProperty("\u2014-engt-input-border-color","#eeeecd"),l.style.setProperty("--engt-red","#ae1536"),l.style.setProperty("--engt-img-msg-height",d?"320px":"125px"),l.style.setProperty("--engt-video-msg-height",d?"180px":"125px"),u.innerHTML=".engt-slider-input::-webkit-slider-thumb { ".concat(s," }"),u.innerHTML+=".engt-slider-input::-moz-range-thumb { ".concat(s," }"),p?l.style.setProperty("--engt-launch-screen-header",c?"21.5em":"16.5em"):l.style.setProperty("--engt-launch-screen-header",c?"20em":"16em"),document.head.appendChild(u)};function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(){k=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==O(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function _(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function w(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){_(r,t,n,i,o,"next",e)}function o(e){_(r,t,n,i,o,"throw",e)}i(void 0)})}}function E(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function S(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?E(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===O(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function T(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){var n;if(e)return"string"==typeof e?I(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(){var e,t,n,r,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.Z_.WIDGET,o={},a=(i===f.Z_.WIDGET?(e=(0,y.dE)("widget","chat_widget"),(o=e.config?JSON.parse(decodeURIComponent(e.config)):{}).user_attributes=T((n=[],(t=o).initFunction&&(n=new Function(t.initFunction)()),null!=t&&null!=(a=t.user_attributes)&&a.length&&(n=[].concat(T(n),T(t.user_attributes))),[].concat(n)))):(e=(0,y.ZR)(),(o=S({},e.config)).user_attributes=T(function(){var e=[],t=(0,y.FW)("data_attrs");if(t)for(var n=t.replace(/[{}]/g,"").split("::"),r=0;r<n.length;r++){var i=n[r].split("="),i={name:i[0],value:i[1]};e.push(i)}return[].concat(e)}())),new Promise(function(e,t){r={resolve:e,reject:t}}));v.r.set("config",(0,y.TS)({user:"guest",e:"p",server:s.l0,brandedServer:o.server||s.l0,bot_name:"Engati",initFunction:"",repeatFlowOnClick:"",website_url:"",themecolor:"#19BE6E",bot_key:void 0,icon_url:void 0,chat_widget_position:"bottomright",user_attributes:null,retryInterval:5e3,maxRetry:3,remove_branding:!1,use_icon_dimensions:!1,launch_flow:void 0,launch_flow_copy:void 0,refresh_chat:!1,brand_name:"Engati",key:"",set_default_brand:!1,show_password_input:!1,textAreaPlaceholder:"Write a reply...",header_description:null,autoPopupType:"NONE",is_debug:!1,setType:1,livechatEnabled:!1,notificationCount:1,infocus:!1,agentAvatarCount:1,fontSize:"13px",enableIpAddress:!1,override_pop_up:!1,highlightColor:"E50F29",storeUserResponseInLs:!0,sessionExpired:!0,platform:"web",video_conversation_id:"",end_user_name:"",agent_name:"",video_status:"",room_name:"",access_token:"",user_id:"",isHostedBot:!1,isChatOpened:!1,chatMessageTimestamp:null,userIpAddress:null,ipAddressPromise:a,deferredIpAddressPromise:r,bot_mode:i,isFaqAcPopUpClose:!1,processingInputText:"Processing input..."},o))}function A(e){var t;0!==document.querySelector("#engtChatContent").scrollTop||v.r.get("config.launch_flow_copy")||v.r.get("refreshChat")||(t=document.getElementById("engtChatContent"),v.r.set("lastMsgScrollHeight",t.scrollHeight),(0,i.eA)(e))}var P=function(){var e=w(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=navigator.userAgent||navigator.vendor||window.opera,(s.Q5.test(t)||s.IG.test(t.substr(0,4)))&&v.r.set("isMobileOrTablet",!0);case 1:case"end":return e.stop()}var t},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){return(0,n.h)("POST",(0,r.f4)().GENERIC_STRING,{payload:JSON.stringify(s.kC)}).then(function(e){(0,y.pX)(e)&&JSON.parse(e.responseText);var t,e=JSON.parse(e.responseText);if(document.getElementById("startNewConversationBtn"),document.getElementById("engtUserMessage"),e.status){for(var n in t=e.resp){var r=n.split("SETTINGS.")[1];s.wR[r]=t[n]}v.r.set("GENERIC_STRINGS",s.wR)}else(0,y.fF)("error in genericStrings api ".concat(e));j()}).catch(function(e){(0,y.fF)(e)})},B=function(){var e=w(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.async=!0,n.defer=!0,n.rel="stylesheet",n.type="text/css",n.href=(0,r.sR)(),n.onload=e,t.appendChild(n)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=w(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,n.h)("GET",(0,r.f4)().INSTANCE).then(function(e){return(0,y.JT)(e)&&(e=(e=JSON.parse(e.responseText)).instance_domain_url,t=v.r.get("config"),o=i=r=n="",a=v.r.get("config.bot_mode")!==f.Z_.STANDALONE||(0,y.RG)()?e:"".concat(window.location.protocol,"//").concat(window.location.host),"d"===t.e?o=i=r=n=e:"p"===t.e?(r="https://upload.engati.com",o=i=n=e):"l"===t.e?(r=n="http://localhost:5010",i="https://localhost:7700/",o="https://localhost:8000/"):"qa"===t.e?o=i=r=n=e:"staging"===t.e?(r=n="https://staging.engati.com",o=i="https://qa.engati.com/"):"op"===t.e&&(n=t.server,r=t.server,i=t.server,o=t.server),v.r.set("config.server",n),v.r.set("config.brandedServer",a),v.r.set("fileUploadBaseURL",r),v.r.set("faqAutocompleteBaseUrl",i),void v.r.set("voiceLLMBaseUrl",o));var t,n,r,i,o,a}).catch(function(e){return console.error("index.js: exception in get instance api",e)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=w(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,n.h)("GET",(0,r.f4)().BRANDING_KEY).then(function(e){return(0,y.JT)(e)&&(e=JSON.parse(e.responseText),t=(e||{}).instance_domain_url,void v.r.set("config.branding_key",e.branding_key||t));var t}).catch(function(e){return console.error("index.js: exception in get branding key api",e)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=w(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,n.h)("GET",(0,r.f4)().CHAT_CONFIG).then(function(e){return(0,y.pX)(e)?JSON.parse(e.responseText).data:{}}).catch(function(e){return console.error("index.js: exception in get chat config api",e)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=w(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,n.h)("GET",(0,r.f4)().WIDGET_CONFIG).then(function(e){return(0,y.pX)(e)?JSON.parse(e.responseText).data:{}}).catch(function(e){return console.error("index.js: exception in get widget config api",e)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=w(k().mark(function e(){var n,t=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<t.length&&void 0!==t[0]&&t[0])try{(n=(0,y.Wz)()).open("GET",(0,r.a$)().IP_ADDRESS,!0),n.onreadystatechange=function(){var t,e;try{t=JSON.parse(n.responseText)}catch(e){t=n.responseText}4===this.readyState&&200===this.status&&(null!=(e=t)&&e.ip&&(e=(e=t).ip)?(v.r.get("config.deferredIpAddressPromise").resolve(e),v.r.set("config.userIpAddress",e)):v.r.get("config.deferredIpAddressPromise").reject("Unable to fetch IP Address"))},n.send()}catch(e){console.error("exception in get ip address api ",e),v.r.get("config.deferredIpAddressPromise").reject("Unable to fetch IP Address")}case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){return Promise.all([F(),D()]).then(function(t){var t=b(t||[],3),e=t[0],n=t[1],t=t[2],e=(0,y.TS)(e,n,t),n=e;if(n){var r,t=u(u(u(u({},v.r.get("config")),{},{brand_name:n.ENGATI_PLATFORM_NAME,themeColor:n.ENGATI_WEBCHAT_THEME_COLOR,poweredByBrandName:n.ENGATI_POWERED_BY_BRAND_NAME,poweredByRedirectionURL:n.ENGATI_POWERED_BY_REDIRECTION_URL,website_url:n.website_url,suggestEnabled:n.suggest_enabled,suggestEnabledForBot:n.suggest_enabled_for_bot,suggestDebounceDelayMs:n.suggest_debounce_delay_ms,suggestMinLength:n.suggest_min_length,suggestMinWords:n.suggest_min_words,suggestMaxResponses:n.suggest_max_responses,isLaunchScreenEnabled:n.is_launch_screen_enabled,isFadingMessagesEnabled:n.is_fading_messages_enabled,isCtaResponseHidden:!!n.is_cta_response_hidden,isRudRespondBoxEnabled:n.is_response_box_rud_enabled||!1,botRef:n.bot_ref,launchScreenTitle:n.launch_screen_title,launchScreenHeader:n.launch_screen_header||n.bot_name,launchCardType:n.launch_cards_type,showAgentProfiles:n.show_agent_profiles,showAgentResponsiveness:n.show_agent_responsiveness,enableFaqIframes:n.enable_faq_iframes,queryTitle:n.query_title,queryPlaceholder:n.query_placeholder,launchCards:n.launch_cards||[],enableAutoSuggestionEntitlement:n.enable_auto_suggestion_entitlement,onlineAgentList:n.online_agents&&n.online_agents.agent_details?n.online_agents.agent_details:[],is_unified_module:n.is_unified_module,chat_close_button_position:n.chat_close_button_position,ttonClass:"BOTTOM"===n.chat_close_button_position?"":"engt-visible",userResponseBubbleColor:n.chat_bubble_color||n.theme_color,botResponseBubbleColor:n.bot_response_bubble_color||"#f6f6f6",botResponseTextColor:n.bot_response_bubble_text_color||"#455a64",userResponseTextColor:n.chat_bubble_text_color||(0,y.uE)(n.chat_bubble_color||n.theme_color),buttonSelectorColor:n.button_selector_color||"#1AABED",buttonTextColor:(0,y.uE)(n.button_selector_color||"#1AABED"),textAreaColor:n.text_area_color||"#ffffff",is_agent_notifications_enabled:n.is_agent_notifications_enabled,isNotified:!1,enable_trigger_analytics_config:n.enable_trigger_analytics_config,is_crm_update:n.is_crm_update,enabledLanguages:n.enabled_languages,edit_user_input:n.edit_user_input,default_edit_response:n.default_edit_response,isAnimating:!1,icon_url:n.icon_url&&""!==n.icon_url.trim()?n.icon_url:s.Ff,launch_flow_copy:v.r.get("config.launch_flow"),bot_name:n.bot_name,header_description:n.header_description,header_alignment:n.header_alignment,blockSendMessageWithOptions:null!=(t=n.block_send_message_with_options)&&t,background_option:n.background_option,top_stop_color:n.top_stop_color||"#FFFFFF",bottom_stop_color:n.bottom_stop_color||"#FFFFFF",mid_stop_color:n.mid_stop_color||"#FFFFFF",wallpaper_image_url:n.wallpaper_image_url,autoPopupType:n.auto_pop_up_web_chat_type,autoPopupDelay:n.auto_enable_pop_up_delay,popupMessage:n.pop_up_message,themeFont:n.theme_font,headerType:n.header_type||f.Nc.TEXT_WITH_IMAGE,botLanguage:n.locale||"default",showReplyArea:null==(t=n.show_reply_area)||t,showClearConversationHistory:n.refresh_chat,enableUploadAttachment:null!=(t=n.enable_attachment_upload)&&t,isMultilingualEnabled:n.enabled_languages&&1<n.enabled_languages.length,localeForBotIsChanged:!1,isFaqAutocompleteEnabled:n.is_autocomplete_enabled,disableSmoOptions:null!=(t=n.disable_smo_options)&&t,is_debug:null!=(t=v.r.get("config.debug"))&&t,isConversationalIvrEnabled:n.is_conversational_ivr_enabled,isLLMEnabled:null!=(t=n.is_llm_enabled)&&t,isWebLinkPreviewEnabled:null!=(t=n.is_website_link_preview_enabled)&&t,isPdfLinkPreviewEnabled:null!=(t=n.is_pdf_link_preview_enabled)&&t,isVoiceLLMConfigEnabled:null!=(t=n.is_voice_llm_enabled)&&t,azureVoiceIntegrationKey:n.azure_voice_integration_key||"",azureVoiceIntegrationRegion:n.azure_voice_integration_region||""},n.chat_widget_position&&{chat_widget_position:n.chat_widget_position}),n.theme_color&&{themeColor:n.theme_color}),n.welcome_msg&&{welcome_msg:n.welcome_msg,welcomeMessageCopy:n.welcome_msg});n.custom_js_link&&!document.getElementById("engtCustomScript")&&((r=document.createElement("script")).id="engtCustomScript",r.defer=!0,r.src=n.custom_js_link,document.body.append(r)),n.custom_css_link&&!document.getElementById("engtCustomStyles")&&((r=document.createElement("link")).id="engtCustomStyles",r.rel="stylesheet",r.href=n.custom_css_link,document.head.append(r)),(0,y.t5)((0,m.LS)().GOT_UID)||(0,y.fN)((0,m.LS)().GOT_UID,"false"),(0,y.t5)((0,m.LS)().TAB_MESSAGES)&&(0,y.p4)((0,m.LS)().TAB_MESSAGES),n.header_text_color?t.themeTextColor=n.header_text_color:t.title_color?t.themeTextColor=t.title_color:t.themeTextColor=(0,y.uE)(t.themeColor),n.bot_avatar_image_url&&""!==n.bot_avatar_image_url.trim()&&(t.bot_avatar_image_url=n.bot_avatar_image_url),n.chat_header_icon_url&&""!==n.chat_header_icon_url.trim()&&(t.chat_header_icon_url=n.chat_header_icon_url),n.enable_ip_address&&(t.enableIpAddress=n.enable_ip_address),n.input_area_suggestion_text&&(t.textAreaPlaceholder=n.input_area_suggestion_text);try{t.webMenu=JSON.parse(n.web_menu)}catch(e){t.webMenu=null}v.r.set("config",t),v.r.get("config.isConversationalIvrEnabled")&&((r=document.createElement("script")).src="https://aka.ms/csspeech/jsbrowserpackageraw",r.onload=c.y,document.body.append(r)),(0,y.t5)((0,m.LS)().USER_LOCALE)||(0,y.i7)(n.locale),(0,y.t5)((0,m.LS)().NEW_SESSION)?(v.r.set("status.sessionKey",(0,y.t5)((0,m.LS)().NEW_SESSION)),v.r.set("firstTime",!1)):(v.r.set("status.sessionKey",(0,y.DO)()),(0,y.fN)((0,m.LS)().NEW_SESSION,v.r.get("status.sessionKey")),v.r.set("firstTime",!0)),v.r.set("fadingMessageQueue",[]),v.r.get("config.isFadingMessagesEnabled")&&v.r.set("fadingMessageInterval",setInterval(function(){var e,t,n;v.r.get("fadingMessageQueue").length&&(t=(n=(e=v.r.get("fadingMessageQueue")).shift()||{}).data,n=n.config,(0,o.Tx)(t,n,!1),v.r.set("fadingMessageQueue",e))},400)),p(n.theme_font,n.font_weight),(0,a.Me)(n),h(n),g(),v.r.get("config.edit_user_input")&&v.r.set("onEditResponse",y.Zq),(n.activity_tracking_config&&n.activity_tracking_config.enabled||n.engagement_triggers_config&&n.engagement_triggers_config.enabled)&&(v.r.set("config.activity_tracking_config",n.activity_tracking_config),v.r.set("config.engagement_triggers_config",n.engagement_triggers_config),n.trigger_configurations&&n.trigger_configurations.length&&v.r.set("config.trigger_configurations",n.trigger_configurations),window.EngtChat={config:v.r.get("config"),showCallout:y.H3})}else(0,y.fF)("No response came from Bot Config API");return e},function(e){console.error(e.message)})},H=function(){x(),D().then(function(e){v.r.set("config.header_description",e.header_description),v.r.set("config.bot_name",e.bot_name)})},q=function(){var e=document.getElementById("launchPreviewHeader"),t=document.getElementById("launchPreview"),n=document.getElementById("engtQueryInput");e&&((0,y.IV)(t,"engt-launch-preview-hidden"),e.innerText=s.wR.CHAT_CLOSURE_MESSAGE,n&&(n.disabled=!0),e)&&(e.innerHTML=null===s.wR||void 0===s.wR?void 0:s.wR.CHAT_CLOSURE_MESSAGE),v.r.set("triggerSessionExpired",!0),"false"===(0,y.t5)((0,m.LS)().GOT_UID)&&v.r.set("config.sessionExpired",!0),(0,o.fm)({id:"engtSessionTimeout",status:s.wR.CHAT_CLOSURE_MESSAGE}),v.r.get("renderStartConversation")(),(0,y.fN)((0,m.LS)().TAB_MESSAGES,JSON.stringify({action:"enable_session_timeout",tabId:v.r.get("socketId"),statusData:{id:"engtSessionTimeout",status:s.wR.CHAT_CLOSURE_MESSAGE}})),v.r.set("startConvoAdded",!0),v.r.set("firstTime",!0)},j=function(){var e=document.getElementById("engtUserMessage"),t=v.r.get("config.isLaunchScreenEnabled")||void 0,n=document.getElementById("engtChatScreenHeader"),r=document.querySelector(".engt-header-info-description"),i=v.r.get("GENERIC_STRINGS"),o=document.getElementById("engtHeaderBody"),a=document.getElementById("engtHeaderCloseBtn"),s=document.getElementById("exitLiveChatBtn");if(i&&(o&&(o.innerHTML=(null==i?void 0:i.CLOSE_CHAT_PROMPT)||"Close chat prompt"),a&&(a.innerHTML=(null==i?void 0:i.CLOSE_CHAT)||"Close Chat"),s)&&(s.innerHTML=null==i?void 0:i.EXIT_AGENT_CONVERSATION),t){var c=v.r.get("GENERIC_STRINGS"),o=document.getElementById("startNewConversationBtn"),a=document.getElementById("botName"),s=document.getElementById("botDescription"),i=document.getElementById("languageDropdown"),t=document.getElementById("launchQueryTitle"),l=document.getElementById("engtQueryInput"),u=document.getElementById("launchPreviewHeader"),d=document.getElementById("goBackConversation"),p=document.getElementsByClassName("engt-read-more-text"),f=document.getElementById("engtLaunchCards");if((null==f||null==(f=f.children)?void 0:f[1])&&v.r.get("reRenderLaunchScreen")(!0),u&&(u.innerText=(null==c?void 0:c["LAUNCH.PREVIEW_HEADER"])||"Here's a preview of your ongoing conversation"),o&&null!=c&&c["LAUNCH.START_A_NEW_CONVO"]&&(o.innerHTML=c["LAUNCH.START_A_NEW_CONVO"]),a&&(a.innerHTML=v.r.get("config.launchScreenHeader")),s&&(s.innerHTML=v.r.get("config.launchScreenTitle")),i&&(f=(0,y.t5)((0,m.LS)().USER_LOCALE)||v.r.get("config.botLanguage")||"en",(0,y.YI)(f),(0,y.i7)(f)),t&&(t.innerHTML=v.r.get("config.queryTitle")),l&&l.setAttribute("placeholder",v.r.get("config.queryPlaceholder")),d&&null!=c&&c["LAUNCH.GO_BACK_TO_CONVERSATION"]&&(d.innerText=(null==c?void 0:c["LAUNCH.GO_BACK_TO_CONVERSATION"])||"Go back to conversation"),(u=document.getElementById("exploreMore"))&&null!=c&&c.EXPLORE_MORE&&(u.innerText="".concat((null==c?void 0:c.EXPLORE_MORE)||"Explore more on"," ").concat(v.r.get("config.bot_name")||v.r.get("config.launchScreenHeader"))),null!=p&&p.length&&null!=c&&c.READ_MORE)for(var h,g=0;g<p.length;g++)null!=(h=p[g])&&h.innerText&&(p.innerText=(null==c?void 0:c.READ_MORE)||"Read More")}e&&e.setAttribute("data-placeholder",v.r.get("config.textAreaPlaceholder")),n&&(n.innerHTML=v.r.get("config.bot_name")),r&&(r.textContent=v.r.get("config.header_description"))},W=function(){var t=w(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==f.Z_.WIDGET||null!=(n=(0,y.dE)("widget","chat_widget"))&&n.config){e.next=2;break}return e.abrupt("return");case 2:return(0,y.Wq)(),L(t),v.r.set("onEnterPress",y.rh),v.r.set("changeElementStyleAttr",y.hG),v.r.set("checkAndfetchMessages",A),e.next=7,P();case 7:return e.next=9,B();case 9:return e.next=11,R();case 11:if(t!==f.Z_.STANDALONE||(0,y.RG)()){e.next=14;break}return e.next=14,G();case 14:return e.prev=14,e.next=17,M().then(function(){var t=w(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(t.enable_ip_address),e.next=3,x();case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),(0,y.bZ)("Bot Config apis failed",e.t0);case 22:case"end":return e.stop()}},e,null,[[14,19]])}));return function(e){return t.apply(this,arguments)}}()},9914:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var r=n(7410);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(e,t,n){(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){e=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===c(e)?e:String(e)}var d=new(s(function e(){var t,s;if(this instanceof e)return o(t={config:{},unReadMessages:[],visibleDatePicker:!1,notificationCount:1,infocus:!1,visibleFileUpload:!1,visibleAutoFill:!1,selectedDate:"",status:{current:void 0,last:void 0,sessionKey:void 0},inputMode:"input",speech:{allowSpeechRecognition:!1,allowAudioConversation:!1,allowContinuousMode:!1,allowVoiceOutput:!1,voiceQueue:[],audioObj:null,audioPlaying:!1,mediaRecorder:null,stream:null,transaction_id:null,speechRecognizing:!1,pauseAfterCurrentAudio:!1,playEmptyAudioForPermission:!1,nonVoiceTimeout:null,MIN_AUDIO_RECORDING_FILE_SIZE:2e7,SILENCE_DELAY:2e3,MIN_RECORD_TIME:4e3,MAX_RECORD_TIME:1e4,MIN_DECIBEL_VALUE:100},fileUploadBaseURL:"",mediaIndex:1,quotedMsgDetails:{},originalViewportHeight:window.innerHeight,lastMessageDetails:{},chatHistoryFirstMessageDetails:{},temporaryRoomId:null,clearTimeoutTypingOff:null,shouldNotify:!1},"quotedMsgDetails",null),o(t,"scrollIntoView",null),o(t,"isAllInputsDisabled",!1),o(t,"validateFormNode",null),o(t,"editFlowId",""),o(t,"isEditFlowUsed",!0),o(t,"ack",0),o(t,"currentScreen",r.xe.CHAT),o(t,"triggerButtonConfig",{isFlowTriggeredFromTriggers:!1}),o(t,"triggerSessionExpired",!1),o(t,"gotUid",!1),o(t,"isFaqAcPopUpClose",!1),o(t,"isFirstMessage",!0),o(t,"manualScrollOnScreens",!0),o(t,"isAnalyticsEnabled",!1),s=t,e.instance||(e.instance=this),this.set=function(e,t){for(var n=s,r=e.split("."),i=r.length,o=0;o<i-1;o++){var a=r[o];n[a]||(n[a]={}),n=n[a]}return n[r[i-1]]=t,window.ENGT_CHAT=s},this.get=function(e){if(!e)return Object.freeze(l({},s));for(var t=s,n=0,r=e.split("."),n=(r.length,0),i=r.length-1;n<i;n++){var o=t[r[n]];if(void 0===o)break;t=o}try{var a=t[r[n]];return!Array.isArray(a)&&"object"===c(a)?Object.freeze(l({},a)):a}catch(e){}},e.instance;throw new TypeError("Cannot call a class as a function")}));Object.freeze(d)},1181:(t,n,e)=>{"use strict";e.d(n,{QS:()=>er,Uu:()=>jn,wL:()=>or,fm:()=>Mn,iD:()=>Dn,Tx:()=>S,YP:()=>ar,Oc:()=>sr,Qg:()=>lr,IE:()=>cr,ZN:()=>Xn,Lp:()=>Nn,g2:()=>ir});var R=e(9342),Z=e(5466),n=e(8884),k=e.n(n),T=e(3343),o=e(9415),C={customCardContent:""};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=A(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var Q=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=C,this.setter(i({},e))}},{key:"initWrapper",value:function(){this.html=new o.e(i(i({},this.data),{},{innerHTML:function(e){e=e.message_id;return'\n        <div class="engt-custom-card-node-container" id="engt-custom-card-node-container-id'.concat(e,'" style="margin-bottom: 10px; margin-top: 10px; margin-left: 5px;"></div>\n    ')}(this.data)}));var e=this.data.message_id,e=(this.contentDiv=document.createElement("div"),this.contentDiv.id="cardPreview_".concat(e),this.contentDiv.className="card-preview-content",this.contentDiv.style.width="95%",this.contentDiv.style.overflow="auto",this.html.querySelector("#engt-custom-card-node-container-id".concat(e)));e&&e.appendChild(this.contentDiv)}},{key:"initEventHandlers",value:function(){var n=this,e=this.data.customCardContent,r=void 0===e?{html_content:"",css_content:""}:e;setTimeout(function(){var e=n.contentDiv.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=r.css_content,e.appendChild(t),e.innerHTML+=r.html_content},0)}},{key:"setter",value:function(e){this.data=i(i({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&L(e.prototype,n),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),G=e(7410),F=e(1042),U=e(4769),H=e(9914),P=function(){return'<svg width="31" height="31" viewBox="0 0 31 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<ellipse cx="15.1313" cy="20.1738" rx="8.34806" ry="3.8262" fill="url(#paint0_linear_715_5101)"/>\n<path d="M23.2293 20.1738C23.2293 21.0731 22.4231 21.9678 20.9301 22.6521C19.4589 23.3263 17.409 23.75 15.1313 23.75C12.8536 23.75 10.8036 23.3263 9.33246 22.6521C7.83947 21.9678 7.0332 21.0731 7.0332 20.1738C7.0332 19.2744 7.83947 18.3798 9.33246 17.6955C10.8036 17.0212 12.8536 16.5976 15.1313 16.5976C17.409 16.5976 19.4589 17.0212 20.9301 17.6955C22.4231 18.3798 23.2293 19.2744 23.2293 20.1738Z" stroke="white" stroke-opacity="0.8" stroke-width="0.5"/>\n<g filter="url(#filter0_d_715_5101)">\n<circle cx="15.1307" cy="11.1307" r="11.1307" fill="url(#paint1_radial_715_5101)"/>\n<circle cx="15.1307" cy="11.1307" r="11.1307" fill="url(#paint2_linear_715_5101)"/>\n<circle cx="15.1307" cy="11.1307" r="10.6307" stroke="#D67504" stroke-opacity="0.27"/>\n</g>\n<g filter="url(#filter1_di_715_5101)">\n<path d="M13.0439 17.3918C14.8021 16.626 15.721 16.5962 17.218 17.3918" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<rect x="9.56543" y="10.4351" width="2.78269" height="11.8264" rx="1" fill="url(#paint3_linear_715_5101)"/>\n<rect x="17.9131" y="10.4351" width="2.78269" height="11.8264" rx="1" fill="url(#paint4_linear_715_5101)"/>\n<g opacity="0.3" filter="url(#filter2_di_715_5101)">\n<path d="M12.3478 5.56604C12.149 5.79793 11.4533 6.26171 10.2607 6.26171" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g opacity="0.3" filter="url(#filter3_di_715_5101)">\n<path d="M17.913 5.56604C18.1117 5.79793 18.8074 6.26171 20 6.26171" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g filter="url(#filter4_di_715_5101)">\n<path d="M9.91309 10.0865H12.0001" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g filter="url(#filter5_di_715_5101)">\n<path d="M18.2617 10.0865H20.3487" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<defs>\n<filter id="filter0_d_715_5101" x="0" y="0" width="30.2617" height="30.2615" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="4"/>\n<feGaussianBlur stdDeviation="2"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0.9 0 0 0 0 0.6165 0 0 0 0 0.19125 0 0 0 0.33 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5101"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5101" result="shape"/>\n</filter>\n<filter id="filter1_di_715_5101" x="11.0439" y="15.8062" width="8.17383" height="4.58582" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5101"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5101" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5101"/>\n</filter>\n<filter id="filter2_di_715_5101" x="8.26074" y="4.56601" width="6.08691" height="4.69571" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5101"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5101" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5101"/>\n</filter>\n<filter id="filter3_di_715_5101" x="15.9131" y="4.56601" width="6.08691" height="4.69571" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5101"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5101" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5101"/>\n</filter>\n<filter id="filter4_di_715_5101" x="7.91309" y="9.08655" width="6.08691" height="4" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5101"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5101" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5101"/>\n</filter>\n<filter id="filter5_di_715_5101" x="16.2617" y="9.08655" width="6.08691" height="4" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5101"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5101" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5101"/>\n</filter>\n<linearGradient id="paint0_linear_715_5101" x1="15.1313" y1="16.3476" x2="15.1313" y2="24" gradientUnits="userSpaceOnUse">\n<stop stop-color="#85EDED"/>\n<stop offset="1" stop-color="#7AFFFF" stop-opacity="0.65"/>\n</linearGradient>\n<radialGradient id="paint1_radial_715_5101" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.1307) rotate(90) scale(22.2615)">\n<stop stop-color="#EED919"/>\n<stop offset="1" stop-color="#F1BE08"/>\n</radialGradient>\n<linearGradient id="paint2_linear_715_5101" x1="15.1307" y1="0" x2="15.1307" y2="22.2615" gradientUnits="userSpaceOnUse">\n<stop stop-color="white" stop-opacity="0.52"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint3_linear_715_5101" x1="10.9568" y1="10.4351" x2="10.9568" y2="22.2615" gradientUnits="userSpaceOnUse">\n<stop stop-color="#85EDED"/>\n<stop offset="1" stop-color="#85EDED" stop-opacity="0"/>\n</linearGradient>\n<linearGradient id="paint4_linear_715_5101" x1="19.3044" y1="10.4351" x2="19.3044" y2="22.2615" gradientUnits="userSpaceOnUse">\n<stop stop-color="#85EDED"/>\n<stop offset="1" stop-color="#85EDED" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>\n'},x=function(){return'<svg width="32" height="32" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g filter="url(#filter0_d_715_5131)">\n<circle cx="16" cy="12" r="12" fill="url(#paint0_radial_715_5131)"/>\n<circle cx="16" cy="12" r="12" fill="url(#paint1_linear_715_5131)"/>\n<circle cx="16" cy="12" r="11.5" stroke="#D67504" stroke-opacity="0.27"/>\n</g>\n<g filter="url(#filter1_di_715_5131)">\n<path d="M13 18V18C14.7176 16.4971 17.2824 16.4971 19 18V18" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g opacity="0.3" filter="url(#filter2_di_715_5131)">\n<path d="M13 7.5C12.7857 7.75 12.0357 8.25 10.75 8.25" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g filter="url(#filter3_di_715_5131)">\n<rect width="2.25" height="3" rx="1.125" transform="matrix(-1 0 0 1 21.25 9.75)" fill="#823423"/>\n</g>\n<g filter="url(#filter4_di_715_5131)">\n<rect width="2.25" height="3" rx="1.125" transform="matrix(-1 0 0 1 13 9.75)" fill="#823423"/>\n</g>\n<g opacity="0.3" filter="url(#filter5_di_715_5131)">\n<path d="M19 7.5C19.2143 7.75 19.9643 8.25 21.25 8.25" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<defs>\n<filter id="filter0_d_715_5131" x="0" y="0" width="32" height="32" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="4"/>\n<feGaussianBlur stdDeviation="2"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0.9 0 0 0 0 0.6165 0 0 0 0 0.19125 0 0 0 0.33 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5131"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5131" result="shape"/>\n</filter>\n<filter id="filter1_di_715_5131" x="11" y="15.8728" width="10" height="5.1272" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5131"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5131" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5131"/>\n</filter>\n<filter id="filter2_di_715_5131" x="8.75" y="6.49997" width="6.25" height="4.75003" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5131"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5131" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5131"/>\n</filter>\n<filter id="filter3_di_715_5131" x="18" y="9.75" width="4.25" height="5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5131"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5131" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5131"/>\n</filter>\n<filter id="filter4_di_715_5131" x="9.75" y="9.75" width="4.25" height="5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5131"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5131" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5131"/>\n</filter>\n<filter id="filter5_di_715_5131" x="17" y="6.49997" width="6.25" height="4.75003" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5131"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5131" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5131"/>\n</filter>\n<radialGradient id="paint0_radial_715_5131" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(16) rotate(90) scale(24)">\n<stop stop-color="#EED919"/>\n<stop offset="1" stop-color="#F1BE08"/>\n</radialGradient>\n<linearGradient id="paint1_linear_715_5131" x1="16" y1="0" x2="16" y2="24" gradientUnits="userSpaceOnUse">\n<stop stop-color="white" stop-opacity="0.52"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>\n'},D=function(){return'<svg width="32" height="32" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g filter="url(#filter0_d_715_5121)">\n<circle cx="16" cy="12" r="12" fill="url(#paint0_radial_715_5121)"/>\n<circle cx="16" cy="12" r="12" fill="url(#paint1_linear_715_5121)"/>\n<circle cx="16" cy="12" r="11.5" stroke="#D67504" stroke-opacity="0.27"/>\n</g>\n<g filter="url(#filter1_di_715_5121)">\n<path d="M13 17.25H19" stroke="#EB5D3E" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g filter="url(#filter2_di_715_5121)">\n<rect x="10.75" y="8.25" width="2.25" height="3.75" rx="1.125" fill="#823423"/>\n</g>\n<g filter="url(#filter3_di_715_5121)">\n<rect x="19" y="8.25" width="2.25" height="3.75" rx="1.125" fill="#823423"/>\n</g>\n<defs>\n<filter id="filter0_d_715_5121" x="0" y="0" width="32" height="32" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="4"/>\n<feGaussianBlur stdDeviation="2"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0.9 0 0 0 0 0.6165 0 0 0 0 0.19125 0 0 0 0.33 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5121"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5121" result="shape"/>\n</filter>\n<filter id="filter1_di_715_5121" x="11" y="16.25" width="10" height="4" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5121"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5121" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5121"/>\n</filter>\n<filter id="filter2_di_715_5121" x="9.75" y="8.25" width="4.25" height="5.75" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5121"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5121" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5121"/>\n</filter>\n<filter id="filter3_di_715_5121" x="18" y="8.25" width="4.25" height="5.75" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5121"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5121" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5121"/>\n</filter>\n<radialGradient id="paint0_radial_715_5121" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(16) rotate(90) scale(24)">\n<stop stop-color="#EED919"/>\n<stop offset="1" stop-color="#F1BE08"/>\n</radialGradient>\n<linearGradient id="paint1_linear_715_5121" x1="16" y1="0" x2="16" y2="24" gradientUnits="userSpaceOnUse">\n<stop stop-color="white" stop-opacity="0.52"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>\n'},M=function(){return'<svg width="32" height="32" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g filter="url(#filter0_d_715_5116)">\n<circle cx="16" cy="12" r="12" fill="url(#paint0_radial_715_5116)"/>\n<circle cx="16" cy="12" r="12" fill="url(#paint1_linear_715_5116)"/>\n<circle cx="16" cy="12" r="11.5" stroke="#D67504" stroke-opacity="0.27"/>\n</g>\n<g filter="url(#filter1_di_715_5116)">\n<rect width="2.25" height="3" rx="1.125" transform="matrix(-1 0 0 1 21.25 6.75)" fill="#823423"/>\n</g>\n<g filter="url(#filter2_di_715_5116)">\n<rect width="2.25" height="3" rx="1.125" transform="matrix(-1 0 0 1 13 6.75)" fill="#823423"/>\n</g>\n<g filter="url(#filter3_di_715_5116)">\n<path d="M12.25 15V15C14.6573 15.9629 17.3427 15.9629 19.75 15V15" stroke="#EB5D3E" stroke-width="3.5" stroke-linecap="round"/>\n</g>\n<defs>\n<filter id="filter0_d_715_5116" x="0" y="0" width="32" height="32" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="4"/>\n<feGaussianBlur stdDeviation="2"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0.9 0 0 0 0 0.6165 0 0 0 0 0.19125 0 0 0 0.33 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5116"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5116" result="shape"/>\n</filter>\n<filter id="filter1_di_715_5116" x="18" y="6.75" width="4.25" height="5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5116"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5116" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5116"/>\n</filter>\n<filter id="filter2_di_715_5116" x="9.75" y="6.75" width="4.25" height="5" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5116"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5116" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5116"/>\n</filter>\n<filter id="filter3_di_715_5116" x="9.5" y="13.2495" width="13" height="6.22266" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5116"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5116" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5116"/>\n</filter>\n<radialGradient id="paint0_radial_715_5116" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(16) rotate(90) scale(24)">\n<stop stop-color="#EED919"/>\n<stop offset="1" stop-color="#F1BE08"/>\n</radialGradient>\n<linearGradient id="paint1_linear_715_5116" x1="16" y1="0" x2="16" y2="24" gradientUnits="userSpaceOnUse">\n<stop stop-color="white" stop-opacity="0.52"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>\n'},j=function(){return'<svg width="32" height="32" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g filter="url(#filter0_d_715_5126)">\n<circle cx="16" cy="12" r="12" fill="url(#paint0_radial_715_5126)"/>\n<circle cx="16" cy="12" r="12" fill="url(#paint1_linear_715_5126)"/>\n<circle cx="16" cy="12" r="11.5" stroke="#D67504" stroke-opacity="0.27"/>\n</g>\n<g filter="url(#filter1_di_715_5126)">\n<path d="M10.75 9V9C11.3125 8.25 12.4375 8.25 13 9V9" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g filter="url(#filter2_di_715_5126)">\n<path d="M19 9V9C19.5625 8.25 20.6875 8.25 21.25 9V9" stroke="#823423" stroke-width="2" stroke-linecap="round"/>\n</g>\n<g filter="url(#filter3_di_715_5126)">\n<path d="M16 19.5C12.8061 19.5 10 17.3966 10 14.8018C10 13.5791 11.0897 12.6278 12.3356 12.7628L13.7123 12.912C15.2328 13.0768 16.7672 13.0768 18.2877 12.912L19.6644 12.7628C20.9103 12.6278 22 13.5791 22 14.8018C22 17.3966 19.1939 19.5 16 19.5Z" fill="#EB5D3E"/>\n</g>\n<defs>\n<filter id="filter0_d_715_5126" x="0" y="0" width="32" height="32" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="4"/>\n<feGaussianBlur stdDeviation="2"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0.9 0 0 0 0 0.6165 0 0 0 0 0.19125 0 0 0 0.33 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5126"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5126" result="shape"/>\n</filter>\n<filter id="filter1_di_715_5126" x="8.75" y="7.4375" width="6.25" height="4.56256" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5126"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5126" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5126"/>\n</filter>\n<filter id="filter2_di_715_5126" x="17" y="7.4375" width="6.25" height="4.56256" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5126"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5126" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5126"/>\n</filter>\n<filter id="filter3_di_715_5126" x="9" y="12.75" width="14" height="8.75" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="0.5"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.35 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_715_5126"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_715_5126" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1"/>\n<feGaussianBlur stdDeviation="1"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow_715_5126"/>\n</filter>\n<radialGradient id="paint0_radial_715_5126" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(16) rotate(90) scale(24)">\n<stop stop-color="#EED919"/>\n<stop offset="1" stop-color="#F1BE08"/>\n</radialGradient>\n<linearGradient id="paint1_linear_715_5126" x1="16" y1="0" x2="16" y2="24" gradientUnits="userSpaceOnUse">\n<stop stop-color="white" stop-opacity="0.52"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n<stop offset="1" stop-color="white" stop-opacity="0"/>\n</linearGradient>\n</defs>\n</svg>\n'},N=function(){return'\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="inherit" xmlns="http://www.w3.org/2000/svg">\n    <path \n        d="M11.7216 1.81663C12.0884 1.07346 13.1482 1.07346 13.515 1.81663L16.2849 7.42814C16.4304 7.72299 16.7116 7.92745 17.037 7.97501L23.2328 8.88062C24.0527 9.00046 24.3795 10.0083 23.7859 10.5865L19.3042 14.9516C19.0684 15.1814 18.9607 15.5125 19.0164 15.837L20.0738 22.0026C20.2139 22.8196 19.3564 23.4426 18.6228 23.0567L13.0837 20.1438C12.7924 19.9906 12.4442 19.9906 12.1528 20.1438L6.61382 23.0567C5.88019 23.4426 5.02264 22.8196 5.16276 22.0026L6.22023 15.837C6.2759 15.5125 6.16823 15.1814 5.93236 14.9516L1.45068 10.5865C0.857086 10.0083 1.18387 9.00046 2.00378 8.88062L8.19961 7.97501C8.52496 7.92745 8.80615 7.72299 8.95169 7.42814L11.7216 1.81663Z" \n        fill="inherit"\n        stroke="inherit" \n        stroke-linecap="round" \n        stroke-linejoin="round"\n    />\n    </svg>\n    '},B={messageId:"",options:[]};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ee(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ne(r.key),r)}}function ne(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}function re(e,t,n,r){return(0,U.cn)(t,"engt-ratings-emoji"),n.className="engt-rating engt-rating-emoji engt-tab-selectable",0===e?n.innerHTML=(2===r?M:P)():1===e?n.innerHTML=(2===r?P:3===r?D:x)():2===e?n.innerHTML=(3===r?j:D)():3===e?n.innerHTML=M():4===e?n.innerHTML=j():""}function ie(e,t){(0,U.cn)(e,"engt-ratings-star"),t.className="engt-rating engt-rating-star engt-tab-selectable",t.innerHTML=N()}var oe=G.kw.IS_DISABLED,s=G.kw.IS_HOVERED,ae=G.kw.IS_SELECTED,se=G.kw.SELECTED_INDEX,ce=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=ee({},B),this.setter({messageId:e.msgId,options:e.options,theme:H.r.get("config.themeColor"),isOldMessage:e.isOldMessage})}},{key:"initWrapper",value:function(){var e=this.data,t=e.messageId,e=e.id,n=document.createElement("div");n.className="engt-ratings",n.id=t||e,n.setAttribute(se,""),n.setAttribute(oe,!!this.data.isOldMessage),n.setAttribute("data-interactive-field",""),this.html=n}},{key:"initComponents",value:function(){for(var t=this,r=this.data.options,e=(r.length,0);e<r.length;e++)!function(n){var e=document.createElement("button");e.title=r[n].text,!(-1<r[n].text.indexOf("\u2b50"))&&re(n,t.html,e,r.length)?re(n,t.html,e,r.length):ie(t.html,e),e.setAttribute(s,!1),e.setAttribute(ae,!1),e.addEventListener("mouseover",function(){this.parentElement.querySelectorAll(".engt-rating").forEach(function(e,t){t<=n?e.setAttribute(s,!0):e.setAttribute(s,!1)})}),e.addEventListener("mouseout",function(){this.parentElement.querySelectorAll(".engt-rating").forEach(function(e){e.setAttribute(s,!1)})}),e.addEventListener("click",function(){this.parentElement.querySelectorAll(".engt-rating").forEach(function(e,t){t<=n?e.setAttribute(ae,!0):e.setAttribute(ae,!1)}),this.parentElement.setAttribute(se,n)}),t.html.appendChild(e)}(e)}},{key:"setter",value:function(e){this.data=ee(ee({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&te(e.prototype,n),r&&te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),le={data:"",count:"",title:"Give Feedback",subtitle:"How would you rate our services?",messageTitle:"Any thoughts you\u2019d like to share?",messagePlaceholder:"Please leave your feedback (max. 20 words)"};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pe(r.key),r)}}function pe(e){e=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===c(e)?e:String(e)}var fe=G.kw.IS_DISABLED,he=G.kw.SELECTED_INDEX,ge=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"onFeedbackSubmit",value:function(e){var t=this.data.message.data,t=(null==t?void 0:t.options)||[],n=t[e].text,t=t[e].payload;H.r.get("sendMessage")(n,{message:{postback:t,type:"postback",text:n},skipAppendToDom:!0}),H.r.get("config.edit_user_input")&&this.renderEditBtn()}},{key:"onSkip",value:function(e){!e||null===e&&"null"===e||H.r.get("sendMessage")("skip",{message:{postback:e,type:"postback",text:"skip"},skipAppendToDom:!0})}},{key:"initData",value:function(e){this.data=l({},le),this.setter(l(l({},e),{},{theme:H.r.get("config.themeColor")})),this.data.id=e.id||e.message_id||"message-".concat((0,U.zJ)())}},{key:"initWrapper",value:function(){var e,t,n,r;this.html=new o.e(l(l({},this.data),{},{message:(null==(e=this.data)||null==(e=e.message)||null==(e=e.data)?void 0:e.message)||"Feedback",innerHTML:(e=this.data,t=e.title,n=e.subtitle,r=e.message,e.messageTitle,e.messagePlaceholder,r=(null==r||null==(e=r.data)?void 0:e.message)||n,'\n\t\t<div class="engt-msg engt-msg-bot engt-msg-border-bot engt-msg-feedback">\n            <p class="heading">'.concat(t,'</p>\n            <p class="description">').concat(r,"</p>\n        \t<feedback-stars></feedback-stars>\n\t\t\t").concat("","\n            <confirm-btn></confirm-btn>\n            <skip-btn></skip-btn>\n\t\t\t<edit-btn></edit-btn>\n        </div>\n\t"))}))}},{key:"renderEditBtn",value:function(){this.html.querySelector("#editBtn-".concat(this.data.id)).style.display="block"}},{key:"initComponents",value:function(){var e=this.data||{},i=e.message_id,e=e.message.data,t=(null==e?void 0:e.options)||[],n=null==e?void 0:e.enable_skip,o=null==e?void 0:e.skip_postback,a=this,s=new R.z({type:G.JB.PRIMARY,size:G.iY.LARGE,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.CONFIRM)||"Confirm",id:"confirmBtn",radius:18,applyOnHover:!0,dataInteractiveField:!0,onClick:function(){var e,t;l.getAttribute(he)&&(e=a.html.querySelector("#skipBtn"),t=a.html.querySelector("#engFeedbackInput"),a.onFeedbackSubmit.call(a,l.getAttribute(he)),setTimeout(function(){(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({tabId:H.r.get("socketId"),action:"update_feedback_msg",ratingId:"".concat(i),selectedValue:l.getAttribute(he)}))},500),l.setAttribute(fe,!0),t&&(t.disabled=!0),(0,U.bX)(s),e&&(0,U.bX)(c),a.disableInputs(),H.r.get("enableAllInput")())}}).render(),c=n?new R.z({type:G.JB.MINI,size:G.iY.SMALL,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.SKIP)||"Skip",id:"skipBtn",style:"margin-top: 12px;",applyOnHover:!0,onClick:function(){a.onSkip(o),l.setAttribute(fe,!0);for(var e=a.html.querySelector("#engFeedbackInput"),t=a.html.querySelector("#stars-".concat(i)),n=t.getAttribute("data-rating-index")||-1,r=0;r<=parseInt(n);r++)t.children[r].setAttribute("data-rating-selected",!1);t.setAttribute("data-rating-index",0),t.setAttribute("data-rating-selected",0),e&&(e.disabled=!0),setTimeout(function(){(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({tabId:H.r.get("socketId"),action:"update_feedback_msg",ratingId:"".concat(i),selectedValue:"skip"}))},500),(0,U.v8)(),(0,U.bX)(s),(0,U.bX)(c),a.disableInputs(),H.r.get("enableAllInput")()}}).render():"",l=new ce({msgId:"stars-".concat(i),options:t,isOldMessage:this.data.isOldMessage}).render();(0,U.z_)(this.html.querySelector("confirm-btn"),this.data.isOldMessage?"":s),(0,U.z_)(this.html.querySelector("skip-btn"),this.data.isOldMessage?"":c),(0,U.z_)(this.html.querySelector("feedback-stars"),l),H.r.get("config.edit_user_input")&&!this.data.isOldMessage?(e=new R.z({type:G.JB.MINI,label:H.r.get("config.default_edit_response")?H.r.get("config.default_edit_response"):(null==(n=H.r.get("GENERIC_STRINGS"))?void 0:n.EDIT)||"Edit",id:"editBtn-".concat(this.data.id),style:"display:none;",applyOnHover:!0,onClick:function(){var e=a.data.flow_key,t=a.data.node_key;e&&t?(this.style.display="none",(0,U.Zq)(e,t),H.r.set("editFlowId","")):console.error("flow key and and node key are not set and hence not triggering edit flow")},radius:18}).render(),(0,U.z_)(this.html.querySelector("edit-btn"),e),H.r.set("editFlowId","editBtn-".concat(this.data.id))):(0,U.z_)(this.html.querySelector("edit-btn"),"")}},{key:"disableInputs",value:function(){for(var e=this.data.message_id,t=(null==(e=this.html.querySelector("#stars-".concat(e)))?void 0:e.children)||[],n=0;n<(null===t?void 0:t.length);n++)t[n].disabled=!0}},{key:"setter",value:function(e){this.data=l(l({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&de(e.prototype,n),r&&de(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),q=e(1102),me=e(1366);var ye=e(5212);const ve=e.p+"assets/delete.svg",be=e.p+"assets/dropAttachment.svg";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){var n;if(e)return"string"==typeof e?Se(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Te(e){e=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===u(e)?e:String(e)}var Ce=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data={},this.setter(d(d({},t),{},{uploadedFile:{},id:t.message_id||(0,U.zJ)(),text:(null==t||null==(e=t.message)?void 0:e.text)||"",description:(null==t||null==(e=t.message)?void 0:e.description)||""}))}},{key:"renderEditBtn",value:function(){this.html.querySelector("#editBtn-".concat(this.data.id)).style.display="block"}},{key:"initWrapper",value:function(){var e,t,n,r,i=document.createElement("div");i.id="engt-file-".concat(this.data.id),i.classList.add("engt-msg","engt-msg-bot","engt-msg-border-bot","engt-msg-file-upload"),i.innerHTML=(e=this.data,t=e.text,n=e.description,e=e.isOldMessage,r='\n        <div class="preview-overlay">\n            <img src="'.concat(ve,'" loader="lazy"/>\n            <span>Remove File</span>\n        </div>'),n=n?'<span class="engt-msg-file-upload-description">'.concat(n,"</span>"):"",e=e?"":'<div data-id="engtFileDropZone" class="engt-msg-file-upload-box">\n    <img src="'.concat(be,'" alt="drop-file" loader="lazy"/>\n    <span class="drop">').concat((null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.DROP_YOUR_FILES)||"Drop your files here or",'\n        <button\n            tabindex="0"\n            class="engt-tab-selectable button"\n            aria-label="Upload attachment"\n            data-id="inputTriggerBtn"\n            data-interactive-field\n        >\n            <input type="file" data-id="inputField" name="filename" onclick="this.value = null;" style="display: none;" \n                accept="').concat(q.aE,'"\n                size="').concat(q.UG,'" data-interactive-field>\n                ').concat((null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.FILE_BROWSE)||"Browse",'\n        </button>\n    </span>\n    <span class="max-size">').concat((null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.FILE_SIZE)||"Max file size: 5MB","</span>\n</div>"),r='\n        <div class="engt-msg-file-upload-preview">\n            '.concat(r,"\n            ").concat('\n        <div class="engt-status-indicator">\n            <div class="engt-status-indicator-div"></div>\n            <span data-id="engtRemoveUpload">X</span>\n        </div>','\n            <img class="preview-image" src="" onerror="this.src=\'').concat(ye,'\'" loader="lazy"/>\n            <div class="preview-file"></div>\n            <div class="preview-size"></div>\n        </div>'),'\n        <span class="engt-msg-file-upload-title">'.concat(t,"</span>\n        ").concat(n,"\n        ").concat(e,"\n        ").concat(r,'\n        <span class="engt-msg-file-upload-error"></span>\n        <upload-btn></upload-btn>\n        <skip-btn></skip-btn>\n        <edit-btn></edit-btn>\n    ')),this.html=i}},{key:"initComponents",value:function(){var n=this,e=this.data.message,t=this.data.isOldMessage,r=(null==e?void 0:e.enable_skip)&&!t,i=null==e?void 0:e.skip_postback;this.html=new o.e(d(d({},this.data),{},{message:this.data.text,innerHTML:this.html.outerHTML})),this.uploadBtn=t?"":new R.z({type:G.JB.PRIMARY,size:G.iY.LARGE,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.UPLOAD)||"Upload",style:"margin-top: 24px;",radius:18,id:"fileUploadBtn",disabled:!0,applyOnHover:!0,tabIndex:0,onClick:function(){this.disabled=!0,(0,U.cn)(n.previewWrapper,"engt-msg-file-upload-progress"),n.clearError(),function(){var n=this,r=(0,U.Wz)(),e=new FormData,i=(t=(null==(t=this.data)?void 0:t.message)||{}).public_upload,t=t.transaction_id,o=this.data.uploadedFile;if(o){this.uploadRequest=r,e.append("file",o),e.append("workflow",1==i?"PUBLIC_ATTACHMENT":"ENGATI_ATTACHMENT"),e.append("application","engati-bot");try{r.open("POST",(0,me.a$)().ATTACHMENTS,!0),r.setRequestHeader("transactionId",t||""),r.setRequestHeader("timeStamp",(new Date).getTime()),r.setRequestHeader("customInfo",JSON.stringify({user_id:H.r.get("status.sessionKey"),bot_ref:parseInt(H.r.get("config.botRef"))})),r.upload.addEventListener("progress",function(e){e.lengthComputable&&n.showProgressBar(e.loaded/e.total*100)}),r.onreadystatechange=function(){var e,t;try{t=JSON.parse(r.responseText)}catch(e){t=r.responseText}4===this.readyState&&200===this.status&&(1e3===(null==(e=t)||null==(e=e.status)?void 0:e.code)?(n.resetProgressBar(),n.destroyNode(n.uploadBtn,n.skipButton),(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({tabId:H.r.get("socketId"),action:"update_file_msg",fileName:o.name,fileLink:-1<o.type.indexOf("image")?URL.createObjectURL(o):o.url,fileType:o.type,fileSize:o.size,id:n.data.id})),n.sendFileViaSocket(t,1==i),H.r.get("enableAllInput")()):(28009===(null==(e=t)||null==(e=e.status)?void 0:e.code)?((0,U.fF)("Invalid file extenstion error -> ".concat(t," >> data >> ").concat(n.data)),n.setError("File not supported !")):28014===(null==(e=t)||null==(e=e.status)?void 0:e.code)?((0,U.fF)("File upload error -> ".concat(t," >> data >> ").concat(n.data)),n.setError("Error !!!")):28010===(null==(e=t)||null==(e=e.status)?void 0:e.code)?((0,U.fF)("Invalid File Size error -> ".concat(t," >> data >> ").concat(n.data)),n.setError("Invalid File Size, size limit is 5MB!")):null!=(e=t)&&null!=(e=e.status)&&e.desc&&(0,U.fF)("File Error -> ".concat(null==(e=t)||null==(t=e.status)?void 0:t.desc)),n.resetProgressBar()))},r.send(e)}catch(e){(0,U.fF)("File upload error -> ".concat(e," >> data >> ").concat(n.data)),n.setError("Error !!!")}}}.call(n)}}).render(),this.skipButton=r?new R.z({type:G.JB.MINI,size:G.iY.SMALL,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.SKIP)||"Skip",style:"margin-top: 12px;",applyOnHover:!0,radius:18,id:"fileSkipBtn",tabIndex:0,onClick:function(){n.onSkip(i),n.reset(),n.destroyNode(n.uploadBtn,n.skipButton),(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({action:"update_file_msg",selectedValue:"skip",id:n.data.id,tabId:H.r.get("socketId")})),H.r.get("enableAllInput")(),(0,U.v8)()}}).render():"",(0,U.z_)(this.html.querySelector("upload-btn"),this.uploadBtn),(0,U.z_)(this.html.querySelector("skip-btn"),this.skipButton),H.r.get("config.edit_user_input")&&!t?(e=new R.z({type:G.JB.MINI,label:H.r.get("config.default_edit_response")?H.r.get("config.default_edit_response"):(null==(r=H.r.get("GENERIC_STRINGS"))?void 0:r.EDIT)||"Edit",id:"editBtn-".concat(this.data.id),style:"display:none;",applyOnHover:!0,onClick:function(){var e=n.data.flow_key,t=n.data.node_key;e&&t?(this.style.display="none",(0,U.Zq)(e,t),H.r.set("editFlowId","")):console.error("flow key and and node key are not set and hence not triggering edit flow")},radius:18}).render(),(0,U.z_)(this.html.querySelector("edit-btn"),e),H.r.set("editFlowId","editBtn-".concat(this.data.id))):(0,U.z_)(this.html.querySelector("edit-btn"),"")}},{key:"initEventHandlers",value:function(){var e,t,n=this;this.data.isOldMessage||this.html.querySelector('[data-id="inputTriggerBtn"]').addEventListener("click",function(){n.html.querySelector('[data-id="inputField"]').click()}),null!=(e=this.html.querySelector('[data-id="inputField"]'))&&null!=(t=e.addEventListener)&&t.call(e,"change",this.onFileSelection.bind(this)),null!=(t=this.html.querySelector('[data-id="engtFileDropZone"]'))&&null!=(e=t.addEventListener)&&e.call(t,"drop",this.onFileDrop.bind(this)),null!=(e=this.html.querySelector('[data-id="engtFileDropZone"]'))&&null!=(t=e.addEventListener)&&t.call(e,"dragover",function(e){e.preventDefault()}),null!=(t=this.html.querySelector(".preview-overlay"))&&null!=(e=t.addEventListener)&&e.call(t,"click",function(){n.removeFile(),n.clearError()}),null!=(e=this.html.querySelector('[data-id="engtRemoveUpload"]'))&&null!=(t=e.addEventListener)&&t.call(e,"click",function(){var e,t;null!=n&&null!=(e=n.uploadRequest)&&null!=(t=e.abort)&&t.call(e),n.resetProgressBar()}),H.r.set("showUploadedFile",this.showFile.bind(this))}},{key:"onSkip",value:function(e){!e||null===e&&"null"===e||H.r.get("sendMessage")("skip",{message:{postback:e,type:"postback",text:"skip"},skipAppendToDom:!0})}},{key:"showFile",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=we(null==e||null==(t=e.type)||null==(r=t.split)?void 0:r.call(t,"/"),2)[1];this.previewWrapper=this.html.querySelector(".engt-msg-file-upload-preview"),this.previewImg=this.html.querySelector(".preview-image"),this.previewFile=this.html.querySelector(".preview-file"),this.previewSize=this.html.querySelector(".preview-size"),-1<e.type.indexOf("image")?((0,U.cn)(this.previewWrapper,"engt-msg-file-upload-img"),(0,U.IV)(this.previewWrapper,"engt-msg-file-upload-file"),this.previewImg.src=n?e.src:URL.createObjectURL(e),this.previewImg.style="",this.previewFile.innerText="",this.previewSize.innerText=""):((0,U.cn)(this.previewWrapper,"engt-msg-file-upload-file"),(0,U.IV)(this.previewWrapper,"engt-msg-file-upload-img"),this.previewImg.src=(0,U.fr)(r),this.previewFile.innerText=e.name,this.previewSize.innerText=(0,U.OB)(e.size)),this.html.querySelector(".engt-msg-file-upload-preview").style.display="flex",this.html.querySelector('[data-id="engtFileDropZone"]').style.display="none",this.html.querySelector("#fileUploadBtn").disabled=!1,this.clearError()}},{key:"removeFile",value:function(){this.html.querySelector(".engt-msg-file-upload-preview").style.display="none",this.html.querySelector('[data-id="engtFileDropZone"]').style.display="flex",this.html.querySelector("#fileUploadBtn").disabled=!0,this.setter({uploadedFile:{}})}},{key:"checkErrorAndShowFile",value:function(e){e?e.size>q.UG?this.setError("Maximum allowed file size - 5mb"):-1===q.aE.indexOf((0,U.RT)(e.name))?this.setError("File not supported !"):(this.setter({uploadedFile:e}),this.showFile(e)):this.setError("File not supported !")}},{key:"onFileSelection",value:function(e){e=we(e.target.files,1)[0];this.checkErrorAndShowFile(e)}},{key:"onFileDrop",value:function(e){var n,r,i=this;e.preventDefault(),H.r.get("startConvoAdded")||this.data.isOldMessage||(e.dataTransfer.items?_e(n=e.dataTransfer.items).forEach(function(e,t){"file"===e.kind&&n.length-1===t&&(t=e.getAsFile(),i.checkErrorAndShowFile(t))}):_e(r=e.dataTransfer.files).forEach(function(e,t){r.length-1===t&&i.checkErrorAndShowFile(e)}))}},{key:"showProgressBar",value:function(e){e&&(this.html.querySelector(".engt-status-indicator-div").style.background="linear-gradient(90deg, var(--engt-theme-color) ".concat(e,"%, #fff 0)"))}},{key:"resetProgressBar",value:function(){this.uploadBtn.disabled=!1,this.html.querySelector(".engt-status-indicator-div").style.background="white",(0,U.IV)(this.previewWrapper,"engt-msg-file-upload-progress")}},{key:"setError",value:function(e){var t=this.html.querySelector(".engt-msg-file-upload-error");e&&(t.innerHTML=e,t.style.display="block")}},{key:"clearError",value:function(){var e=this.html.querySelector(".engt-msg-file-upload-error");e.innerHTML="",e.style.display="none"}},{key:"reset",value:function(){this.clearError(),this.removeFile()}},{key:"destroyNode",value:function(e,t){var n=this.html.querySelector(".preview-overlay");this.html.querySelector(".engt-msg-file-upload-preview").classList.add("engt-msg-file-upload-complete"),this.html.querySelector('[data-id="inputField"]').disabled=!0,this.html.querySelector('[data-id="engtFileDropZone"]').removeEventListener("drop",this.onFileDrop),t&&(0,U.bX)(t),(0,U.bX)(e),(0,U.bX)(n)}},{key:"updateLSForFile",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=d(d({},e),{},{mimeType:e.mime_type,type:""}),e={agent_avatar:void 0,agent_name:void 0,message:JSON.stringify(e),message_id:null,messagetype:G.C7.FILE_RECEIVED,sender:"user",timestamp:(new Date).getTime(),user_id:H.r.get("status.sessionKey"),bot_ref:H.r.get("config.botRef"),bot_key:H.r.get("config.bot_key")};er(e)}},{key:"sendFileViaSocket",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=(null==e?void 0:e.responseObject)||{},n=e.url,r=e.name,i=e.mimeType,e=e.token,n={type:"file",url:t?n:e,name:r,transaction_id:null,mime_type:i,token:e};t&&delete n.token,H.r.get("sendMessage")(r,{message:n,skipAppendToDom:!0}),this.updateLSForFile(n),H.r.get("config.edit_user_input")&&this.renderEditBtn()}},{key:"setter",value:function(e){this.data=d(d({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&ke(e.prototype,n),r&&ke(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ie=e(3316);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function W(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===p(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ae(e){var t=e.message,n=(null==e?void 0:e.rud_message_id)||(0,U.t5)((0,F.LS)().RUD_NODE),r=document.getElementById(n),i=document.getElementById("rud-input-".concat(n)),o=document.getElementById("form-select-box-rud-input-".concat(n)),a=document.getElementById("confirmBtn-".concat(n)),s=document.getElementById("rud-skipBtn"),c=null==r?void 0:r.querySelector(".engt-form-label"),l=document.getElementById("engtDatePicker-".concat(n)),i=(i&&("password"===i.type&&(t.text="*".repeat(t.text.length)),i.remove()),o&&null!=(i=o.parentElement)&&i.classList.contains("engt-input-with-select")&&o.parentElement.remove(),null==r?void 0:r.querySelector(".engt-rud-node"));l&&(l.remove(),c.classList.remove("engt-date-label"),null!=i)&&i.insertBefore(c,i.firstChild),null!=a&&a.remove(),null!=s&&s.remove(),r&&((o=document.createElement("strong")).style.width="100%",o.innerHTML=t.text,(0,U.z_)(r.querySelector("validated-msg"),o)),H.r.get("config.edit_user_input")&&(l=null==i?void 0:i.querySelector("#".concat(H.r.get("editFlowId"))))&&(l.style.display="block"),e.validated=t.text,e.message=W(W({},t),{},{text:null==c?void 0:c.innerText}),(e.error=null,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({action:"update_rud_msg",selectedValue:e.validated,rudId:n,tabId:H.r.get("socketId")})),(0,U.No)("message_id",n,e),localStorage.removeItem((0,F.LS)().RUD_NODE)}function V(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!e){var t=document.querySelector("rud-input-area");if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}}function Pe(e,t,n){var r=document.querySelector("#rud-input-".concat(e)),i=document.querySelector("#engtDatePicker-".concat(e)),i=i?i.getAttribute("data-selected-date"):null==r?void 0:r.value,o=document.getElementById("rud-error-".concat((0,U.t5)((0,F.LS)().RUD_NODE)));o&&(0,U.cn)(o,"engt-hidden"),null!=(o=this.data)&&o.rud_display_settings&&null!=(o=JSON.parse(this.data.rud_display_settings))&&o.show_country_code&&!H.r.get("config.isRudRespondBoxEnabled")&&(o=document.querySelector("#rud-input-".concat(e,".engt-form-input-text")),i="".concat(i,"-").concat(null==o?void 0:o.value)),null!=(e=i)&&e.trim()&&(H.r.get("sendMessage")(i.trim(),{skipAppendToDom:!0,message_id:t}),r&&(r.disabled=!0),"location"===n)&&(V(),H.r.get("enableAllInput")())}var xe=e(8907),De=e(2382),Me=e(7702);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ne(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Re(r.key),r)}}function Re(e){e=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===je(e)?e:String(e)}var Ge=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data={},this.setter(e),this.data.id=e.id||e.message_id||"message-".concat((0,U.zJ)()),this.data.error||H.r.get("config.isOldMessage")||(0,U.fN)((0,F.LS)().RUD_NODE,this.data.id)}},{key:"initWrapper",value:function(){var e,t=document.createElement("div");t.className="engt-msg engt-msg-bot engt-msg-border-bot engt-rud-node",t.innerHTML=(e=h(h({},this.data),{},{replyInput:H.r.get("config.isRudRespondBoxEnabled")}),"\n        <form-input></form-input>\n        <validated-msg></validated-msg>\n\t\t".concat(e.replyInput&&"date"!==e.message.rcv_inp_type_flag?"":"<confirm-btn></confirm-btn>","\n        <skip-btn></skip-btn>\n\t\t<edit-btn></edit-btn>\n\t\t")),this.html=new o.e(h(h({},this.data),{},{message:(null==(e=this.data)||null==(e=e.message)?void 0:e.text)||"Request User Data",innerHTML:t.outerHTML}))}},{key:"renderEditBtn",value:function(){this.html.querySelector("#editBtn-".concat(this.data.id)).style.display="block"}},{key:"getInputType",value:function(e){var t="";switch(e){case"password":t="password";break;case"date":t="date";break;case"email":t="email";break;default:t="text"}return t}},{key:"appendInputBox",value:function(e){var t,n,r,i,o,a,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",c=this.data,l=c.message,u=c.message_id,d=c.id,p=c.rud_display_settings,c=c.isOldMessage,e={attribute_type:e,attribute_id:"rud-input-".concat((0,U.t5)((0,F.LS)().RUD_NODE)),display_name:null==l?void 0:l.text,message_id:u,placeholder:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e["PLACEHOLDER.FILL_DETAILS"])||"Please fill in this field",style:"margin-top: 0px; width: 100%;",inpClassName:s},f=this;p&&!c&&(null!=(s=JSON.parse(p))&&s.show_country_code&&!H.r.get("config.isRudRespondBoxEnabled")?(e.inputWithSelect=!0,c=Array.isArray(H.r.get("config.customCountryCodes"))?(t=H.r.get("config.customCountryCodes"),n={},t.forEach(function(e){q.Qf[e]&&(n[e]=q.Qf[e])}),Object.keys(q.Qf).forEach(function(e){t.includes(e)||(n[e]=q.Qf[e])}),n):q.Qf,e.selectOptions=JSON.stringify(c),e.overrideOptionsClass="engt-override-dropdowns"):null!=s&&s.show_text_area&&(e.renderAsTextArea=!0)),H.r.get("config.isRudRespondBoxEnabled")?((c=(p=document.querySelector("rud-input-area")).querySelector(".rud-input-field"))&&c.remove(),(s=document.createElement("div")).classList.add("rud-input-field"),(c=document.createElement("div")).classList.add("rud-wrapper"),c.style.background=H.r.get("config.textAreaColor"),i=(r=new Me.Z(h(h({},e),{},{includeLabel:!H.r.get("config.isRudRespondBoxEnabled")})).render()).querySelector("input"),c.appendChild(r),o="".concat(d),(a=document.createElement("rud-error-msg")).id="engt-error-".concat(o),(o=s.querySelector("error-msg"))&&o.remove(),(o=document.createElement("button")).id="engtRudSendBtn",o.className="engt-btn-icons engt-tab-selectable engt-reply-btns",o.setAttribute("aria-label","Send RUD Message"),o.innerHTML="".concat((0,xe.h)()),c.appendChild(o),s.appendChild(c),s.appendChild(a),p.appendChild(s),r.addEventListener("keypress",function(e){13!==e.keyCode&&"Enter"!==e.key||Pe.call(f,d,u,l.rcv_inp_type_flag)}),o.addEventListener("click",function(){Pe.call(f,d,u,l.rcv_inp_type_flag)}),c=new Me.Z(h(h({},e),{},{includeInput:!H.r.get("config.isRudRespondBoxEnabled")})).render(),(0,U.z_)(this.html.querySelector("form-input"),c),i&&i.classList.add("rud-box-input"),(a=s.querySelector(".engt-form-input-text"))&&(a.style.border="none",a.style.borderRadius="1rem")):(p=new Me.Z(e).render(),(0,U.z_)(this.html.querySelector("form-input"),p))}},{key:"appendConfirmButton",value:function(e){var t=this.data,r=t.id,i=t.message_id,n=t.data_tracking_id,n=void 0===n?"":n,o=(t.message,t.user_id,this),t=this.data.isOldMessage?"":new R.z({type:G.JB.PRIMARY,label:(null==(t=H.r.get("GENERIC_STRINGS"))?void 0:t.SUBMIT)||"Submit",id:"confirmBtn-".concat(r),radius:18,style:"margin-top: 20px;",applyOnHover:!0,dataInteractiveField:!0,dataTrackingId:n||"",onClick:function(){var e=o.html.querySelector("#rud-input-".concat(r)),t=o.html.querySelector("#engtDatePicker-".concat(r)),t=t?t.getAttribute("data-selected-date"):null==e?void 0:e.value,n=document.getElementById("rud-error-".concat((0,U.t5)((0,F.LS)().RUD_NODE)));n&&(0,U.cn)(n,"engt-hidden"),null!=(n=o.data)&&n.rud_display_settings&&null!=(n=JSON.parse(o.data.rud_display_settings))&&n.show_country_code&&!H.r.get("config.isRudRespondBoxEnabled")&&(n=o.html.querySelector("#rud-input-".concat(r,".engt-form-input-text")),t="".concat(t,"-").concat(null==n?void 0:n.value)),null!=(n=t)&&n.trim()&&(H.r.get("sendMessage")(t.trim(),{skipAppendToDom:!0,message_id:i}),this.disabled=!0,e&&(e.disabled=!0),this.classList.add("engt-rud-disabled"))}}).render();"date"!==e&&t&&(t.disabled=!0,t.classList.add("engt-rud-disabled")),(0,U.z_)(this.html.querySelector("confirm-btn"),t)}},{key:"initComponents",value:function(){var e,n,t=this.data,r=t.message,i=t.validated,t=t.isOldMessage,o=this.getInputType(r.rcv_inp_type_flag);i?((e=document.createElement("strong")).style.width="100%",e.innerHTML=i,(0,U.z_)(this.html.querySelector("validated-msg"),e),H.r.get("config.isOldMessage")&&!document.getElementById("confirmBtn-".concat((0,U.t5)((0,F.LS)().RUD_NODE)))&&(this.appendInputBox(o,"engt-hidden"),V()),document.getElementById("confirmBtn-".concat((0,U.t5)((0,F.LS)().RUD_NODE)))||H.r.get("config.isOldMessage")||localStorage.removeItem((0,F.LS)().RUD_NODE)):("date"!==o||t?this.appendInputBox(o):(i=new De.f({id:"engtDatePicker-".concat((0,U.t5)((0,F.LS)().RUD_NODE)),errorId:"rud-error-".concat((0,U.t5)((0,F.LS)().RUD_NODE)),label:null==r?void 0:r.text}),this.html.querySelector(".engt-rud-node").insertBefore(i.render(),this.html.querySelector(".engt-rud-node").firstChild)),this.appendConfirmButton(o),H.r.get("config.edit_user_input")&&!t?(n=this,r=new R.z({type:G.JB.MINI,label:H.r.get("config.default_edit_response")?H.r.get("config.default_edit_response"):(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.EDIT)||"Edit",id:"editBtn-".concat(this.data.id),style:"display:none;",applyOnHover:!0,onClick:function(){var e=n.data.flow_key,t=n.data.node_key;e&&t?(this.style.display="none",(0,U.Zq)(e,t),H.r.set("editFlowId","")):console.error("flow key and and node key are not set and hence not triggering edit flow")},radius:18}).render(),(0,U.z_)(this.html.querySelector("edit-btn"),r),H.r.set("editFlowId","editBtn-".concat(this.data.id))):(0,U.z_)(this.html.querySelector("edit-btn"),""))}},{key:"initEventHandlers",value:function(){var n=this,e=this.data.rud_display_settings,t="#rud-input-".concat((0,U.t5)((0,F.LS)().RUD_NODE)),r=(e&&null!=(e=JSON.parse(e))&&e.show_country_code&&!H.r.get("config.isRudRespondBoxEnabled")&&(t+=".engt-form-input-text"),this.html.querySelector(t));null!=r&&r.addEventListener("input",function(){var e=document.getElementById("rud-error-".concat((0,U.t5)((0,F.LS)().RUD_NODE))),t=n.html.querySelector("#confirmBtn-".concat((0,U.t5)((0,F.LS)().RUD_NODE)));e&&(e.classList.add("engt-hidden"),r.classList.remove("engt-error-input")),t&&(null!=r&&r.value&&r.value.trim()?(0,U.pv)(t,"engt-rud-disabled")&&(t.disabled=!1,t.classList.remove("engt-rud-disabled")):(0,U.pv)(t,"engt-rud-disabled")||(t.disabled=!0,t.classList.add("engt-rud-disabled")))}),null!=r&&r.addEventListener("keydown",function(e){var t=n.html.querySelector("#confirmBtn-".concat((0,U.t5)((0,F.LS)().RUD_NODE)));(0,U.rh)(function(){return null==t?void 0:t.click()})})}},{key:"setter",value:function(e){this.data=h(h({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Be(e.prototype,n),r&&Be(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),b=e(6854),Fe=e(5084);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function qe(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?He(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):He(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ve(r.key),r)}}function Ve(e){e=function(e,t){if("object"!==Ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ue(e)?e:String(e)}var ze=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data={id:e.message_id||(0,U.zJ)(),bgColor:"transparent",color:H.r.get("config.botResponseTextColor"),showControls:null==e?void 0:e.showControls},this.setter(qe({},e))}},{key:"initWrapper",value:function(){var t,e,n,r=this.data,i=r.bgColor,o=r.isFooter,r=r.showControls,r=void 0===r||r,a=document.createElement("div");a.classList.add("engt-media-controls"),r||a.classList.add("engt-media-controls-hidden"),a.setAttribute("aria-label","media controls"),o&&a.classList.add("engt-preview-footer"),a.style.background=i,a.innerHTML=(r=this.data,o=r.id,i=void 0===(i=r.color)?"#403F42":i,e=r.isFooter,r=void 0!==(r=r.showControls)&&r,e=e?"control":o,t="",[.25,.5,.75,1,1.25,1.5,1.75,2].map(function(e){t+='<li tabindex="-1" onkeydown="ENGT_CHAT.onEnterPress()" data-value="'.concat(e,'">').concat(e,"x</li>")}),o=t,n='\n        <span tabindex="0" role="button" onkeydown="ENGT_CHAT.onEnterPress()" class="engt-controls-btn" \n            id="engt-play-'.concat(e,'" aria-label="play">\n                ').concat(function(){return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M15.1586 12.8415C15.7716 12.448 15.7716 11.5521 15.1586 11.1585L9.54024 7.55161C8.8747 7.12434 8 7.60223 8 8.39312V15.607C8 16.3978 8.8747 16.8757 9.54024 16.4485L15.1586 12.8415Z" fill="'.concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#403F42",'"/>\n    </svg>')}(i),'\n        </span>\n        <span tabindex="0" role="button" onkeydown="ENGT_CHAT.onEnterPress()" \n        class="engt-controls-btn engt-hidden" id="engt-pause-').concat(e,'" aria-label="pause">\n            ').concat(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#403F42";return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <rect x="7" y="7" width="4" height="11" rx="2" fill="'.concat(e,'"/>\n        <rect x="13" y="7" width="4" height="11" rx="2" fill="').concat(e,'"/>\n    </svg>')}(i),"\n        </span>\n    "),"\n        ".concat(r?"":n,'\n        <input id="engtMediaProgress-').concat(e,'" class="engt-media-progress" type="range" min="0" max="100" step="1" value="0">\n        <div class="engt-media-control-btns">\n            ').concat(r?n:"",'\n            <span class="engt-controls-speed">\n                <span tabindex="0" role="button" onkeydown="ENGT_CHAT.onEnterPress()" class="engt-controls-btn" \n                id="engt-vol-').concat(e,'" aria-label="mute">\n                    ').concat(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#403F42";return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M11.2759 7.59054C11.9377 7.11778 12.8571 7.5909 12.8571 8.40427V15.9464C12.8571 16.7598 11.9377 17.2329 11.2759 16.7601L8.85712 15.0325H8C6.89543 15.0325 6 14.137 6 13.0325V11.3182C6 10.2136 6.89543 9.31821 8 9.31821H8.85712L11.2759 7.59054Z" fill="'.concat(e,'"/>\n        <path d="M14.5676 14.9782C15.2766 14.2564 15.714 13.2669 15.714 12.1751C15.714 11.0789 15.2729 10.0856 14.5586 9.36304" stroke="').concat(e,'" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M16.1592 7.73035C17.2967 8.86783 18.0002 10.4392 18.0002 12.175C18.0002 13.9107 17.2967 15.4821 16.1592 16.6196" stroke="').concat(e,'" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>')}(i),'\n                </span>\n                <input id="engtVolProgress-').concat(e,'" class="engt-volume-progress" type="range" min="0" max="1" step="0.1" value="1">\n                <span tabindex="0" role="button" onkeydown="ENGT_CHAT.onEnterPress()" \n                class="engt-controls-btn engt-hidden" id="engt-mute-').concat(e,'" aria-label="unmute">\n                    ').concat(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#403F42";return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M18 11L16 13" stroke="'.concat(e,'" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M16 11L18 13" stroke="').concat(e,'" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M12.2759 7.59054C12.9377 7.11778 13.8571 7.5909 13.8571 8.40427V15.9464C13.8571 16.7598 12.9377 17.2329 12.2759 16.7601L9.85712 15.0325H9C7.89543 15.0325 7 14.137 7 13.0325V11.3182C7 10.2136 7.89543 9.31821 9 9.31821H9.85712L12.2759 7.59054Z" \n        fill="').concat(e,'"/>\n    </svg>')}(i),'\n                </span>\n            </span>\n            <span id="engtMediaTime-').concat(e,'" class="engt-media-time" style="color: ').concat(i,'">0:00 / -</span>\n            <span class="engt-controls-speed engt-playback-rate" id="engtSpeed-').concat(e,'">\n                <span id="engtRateText-').concat(e,'" style="color: ').concat(i,'; text-align: right;">1x</span>\n                <span tabindex="0" role="button" onkeydown="ENGT_CHAT.onEnterPress()" style="height: 24px;" \n                class="engt-controls-btn" id="engt-rate-').concat(e,'" aria-label="change playback rate">\n                    ').concat((0,Fe.C)(i),'\n                </span>\n                <span id="engtRateWrapper-').concat(e,'" class="engt-playback-rate-wrapper">\n                    <ul id="engtRateItems-').concat(e,'" class="engt-playback-rate-ul">\n                    ').concat(o,"\n                    </ul>\n                </span>\n            </span>\n        </div>\n    ")),this.html=a}},{key:"updateTimeBar",value:function(e,t){var n=(Math.floor(e.currentTime/60)+e.currentTime%60/100).toFixed(2),n="".concat(n," / ").concat((Math.floor(e.duration/60)+e.duration%60/100).toFixed(2));t.innerHTML="".concat(n)}},{key:"changeVolumeBtn",value:function(e,t,n){var r=document.getElementById("engt-vol-".concat(n)),i=document.getElementById("engt-mute-".concat(n)),n=document.getElementById("engtVolProgress-".concat(n));("mute"===t?(e.muted=!0,r.classList.add("engt-hidden"),n.classList.add("engt-hidden"),i):(e.muted=!1,i.classList.add("engt-hidden"),r.classList.remove("engt-hidden"),n)).classList.remove("engt-hidden")}},{key:"initEventHandlers",value:function(){var h=this,e=this.data,g=e.id,m=e.mediaId,y=e.isFooter,v=e.mediaNode;setTimeout(function(){var e,n=document.getElementById(m)||v,r=y?"control":g,t=document.getElementById("engt-play-".concat(r)),i=document.getElementById("engt-pause-".concat(r)),o=document.getElementById("engt-vol-".concat(r)),a=document.getElementById("engt-mute-".concat(r)),s=document.getElementById("engt-rate-".concat(r)),c=document.getElementById("engtMediaProgress-".concat(r)),l=document.getElementById("engtVolProgress-".concat(r)),u=document.getElementById("engtMediaTime-".concat(r)),d=document.getElementById("engtSpeed-".concat(r)),p=document.getElementById("engtRateWrapper-".concat(r)),f=Array.from((null==(e=document.getElementById("engtRateItems-".concat(r)))?void 0:e.children)||[]);null!=c&&c.focus(),s.addEventListener("click",function(){(0,U.pv)(d,"engt-playback-rate-active")?(f.map(function(e){e.setAttribute("tabindex",-1)}),(0,U.IV)(d,"engt-playback-rate-active"),(0,U.IV)(p,"engt-playback-rate-wrapper-active")):(f.map(function(e){e.setAttribute("tabindex",0)}),(0,U.cn)(p,"engt-playback-rate-wrapper-active"),(0,U.cn)(d,"engt-playback-rate-active"))}),d.addEventListener("mouseleave",function(){f.map(function(e){e.setAttribute("tabindex",-1)}),(0,U.IV)(d,"engt-playback-rate-active"),(0,U.IV)(p,"engt-playback-rate-wrapper-active")}),f.map(function(e){return e.addEventListener("click",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:event;f.map(function(e){e.setAttribute("tabindex",-1)}),n.playbackRate=e.target.getAttribute("data-value"),(0,U.IV)(d,"engt-playback-rate-active"),(0,U.IV)(p,"engt-playback-rate-wrapper-active")})}),t.addEventListener("click",function(){(0,b.uG)(n,"pause",r)}),i.addEventListener("click",function(){(0,b.uG)(n,"play",r)}),o.addEventListener("click",function(){h.changeVolumeBtn(n,"mute",r)}),a.addEventListener("click",function(){h.changeVolumeBtn(n,"volume",r)}),c.addEventListener("change",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$event,t=((0,b.gS)(e.target.value,r,"engtMediaProgress"),(Math.floor(n.currentTime/60)+n.currentTime%60/100).toFixed(2));c.setAttribute("aria-label","elapsed time: ".concat(t,", media time scrubber: ").concat(u.innerText)),n.currentTime=Math.floor(e.target.value*n.duration/100).toFixed(2)}),l.addEventListener("change",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$event;n.volume=e.target.value,(0,b.gS)(100*e.target.value,r,"engtVolProgress")}),n.onloadedmetadata=function(){h.updateTimeBar(n,u)},n.addEventListener("ended",function(){(0,b.uG)(n,"play",r),n.currentTime=0}),n.addEventListener("playing",function(){(0,b.uG)(n,"pause",r)}),n.addEventListener("pause",function(){(0,b.uG)(n,"play",r)}),n.addEventListener("ratechange",function(){document.getElementById("engtRateText-".concat(r)).innerHTML="".concat(n.playbackRate,"x")}),n.addEventListener("volumechange",function(){(0,b.gS)(100*n.volume,r,"engtVolProgress")}),n.addEventListener("timeupdate",function(){h.updateTimeBar(n,u);var e=Math.floor(100/n.duration*n.currentTime),t=(Math.floor(n.currentTime/60)+n.currentTime%60/100).toFixed(2);c.setAttribute("aria-label","elapsed time: ".concat(t,", media time scrubber: ").concat(u.innerText)),(0,b.gS)(e,r,"engtMediaProgress"),c.value=e},!1)},300)}},{key:"setter",value:function(e){this.data=qe(qe({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&We(e.prototype,n),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Ke=e.p+"assets/audioHeadPhone.svg";var Ye=G.Qd.BOT,Je=G.Qd.AGENT;function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function f(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ze(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$e(r.key),r)}}function $e(e){e=function(e,t){if("object"!==Xe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Xe(e)?e:String(e)}var et=G.Qd.BOT,tt=G.Qd.USER,nt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.data={},null==(t=e.message)?void 0:t.data),n=t.audio_url,r=t.audio_caption,i=t.enable_download,t=t.file_name,t=void 0===t?"":t;this.setter(f(f({},e),{},{audioUrl:n,captions:r,enableDownload:i,file_name:t,id:e.message_id||(0,U.zJ)()}))}},{key:"initWrapper",value:function(){var e,t,n,r=this.data.sender,r=void 0===r?et:r,i=document.createElement("div");i.classList.add("engt-msg","engt-msg-".concat(r),"engt-media-controls-wrapper","engt-msg-border-".concat(r)),i.innerHTML=(r=this.data,e=r.sender,t=r.audioUrl,n=r.captions,r=r.id,n=n?'<track default label="Captions" src="'.concat(n,'" kind="captions">'):"",r='\n\t\t<audio id="engtAudio-'.concat(r,'" class="engt-audio-msg">\n            <source id="src-').concat(r,'" src="').concat(t,'" type="audio/mpeg">\n            ').concat(n,"\n        </audio>\n\t"),e===Ye||e===Je?r:'\n\t\t<div class="engt-audio-msg-with-indicator">\n\t\t\t<div class="engt-audio-msg-indicator">\n\t\t\t\t<img src="'.concat(Ke,'" alt="audio-msg" loader="lazy"/>\n\t\t\t\t<audio-length></audio-length>\n\t\t\t</div>\n\t\t\t').concat(r,"\n\t\t</div>\n    ")),i.style.minWidth=H.r.get("config.bot_mode")===G.Z_.STANDALONE?"50%":"65%",this.html=i}},{key:"initComponents",value:function(){var e=this.data,t=e.sender,t=void 0===t?et:t,n=e.showControls,e=e.file_name,r=this,i=new ze({message_id:this.data.id,mediaId:"engtAudio-".concat(this.data.id),showControls:t!==tt});t!==tt||n?this.html.appendChild(i.render()):(t=e?'<span class="engt-audio-file-name">'.concat(e,"</span>"):"",(n=document.createElement("div")).classList.add("engt-audio-user-msg"),n.appendChild(i.render()),n.insertAdjacentHTML("beforeend",t),this.html.appendChild(n),this.html.querySelector("#engtAudio-".concat(r.data.id)).onloadedmetadata=function(){var e,t;(0,U.z_)(document.getElementById(r.data.id).querySelector("audio-length"),"<span>".concat((e=this.duration,t=Math.round(e%60),(e=Math.round(e/60))<9&&(e="0".concat(e)),t<9&&(t="0".concat(t)),"".concat(e,":").concat(t)),"</span>"))}),this.html=new o.e(f(f({},this.data),{},{message:G.C7.AUDIO,innerHTML:this.html.outerHTML,download:this.data.enableDownload,downloadLink:this.data.audioUrl}))}},{key:"setter",value:function(e){this.data=f(f({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Qe(e.prototype,n),r&&Qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function g(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?it(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=at(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,at(r.key),r)}}function at(e){e=function(e,t){if("object"!==rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===rt(e)?e:String(e)}var st=G.Qd.BOT,ct=(G.Qd.AGENT,function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"getFileType",value:function(e){var t=e.lastIndexOf(".")+1,e=e.substring(t),t=G.vH[e]||"FILE";return q.ns[t]}},{key:"getFileName",value:function(e){var t=e.lastIndexOf("/")+1;return decodeURIComponent(e.substring(t))}},{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.data={},e.sender),n=null==(n=e.message)?void 0:n.data,r=n.file_size,i=n.file_name,o=n.alt_text,a=n.file_url,s=n.message_text,n=n.enable_download,c=e.meta_data,c=c&&JSON.parse(c),i=null!=i&&i.length?i:this.getFileName(a),r=r||(null==c?void 0:c.file_size),c=20<(null==i?void 0:i.length)?"".concat(i.substr(0,20),"..."):i;this.setter(g(g({},e),{},{sender:t,fileSize:(0,U.OB)(r),altText:o||"File",fileName:c,fileUrl:a,fileIcon:this.getFileType(a),messageText:s,enableDownload:n,id:e.message_id||(0,U.zJ)()}))}},{key:"initWrapper",value:function(){var e,t,n,r,i,o=this.data.sender,o=void 0===o?st:o,a=document.createElement("div");a.classList.add("engt-msg","engt-msg-".concat(o),"engt-msg-border-".concat(o),"engt-msg-document"),a.innerHTML=(o=this.data,e=o.fileName,t=o.altText,n=o.fileIcon,r=o.fileSize,i=o.fileUrl,o=(o=o.messageText)?'\n            <div class="engt-msg-document-text">\n                    '.concat(o,"\n            </div>\n        "):"",'\n        <div class="engt-msg-document-data">\n            <img class="engt-file-icon" src="'.concat(n,'" alt="').concat(t,'" loader="lazy"/>\n            <a href="').concat(i,'" target="_blank" class="engt-msg-text engt-file-name">\n                ').concat(r?"".concat(e," | ").concat(r):e,"\n            </a>\n        </div>\n        ").concat(o,"\n    ")),this.html=a}},{key:"initComponents",value:function(){this.data.sender;this.html=new o.e(g(g({},this.data),{},{message:G.C7.FILE,innerHTML:this.html.outerHTML,download:this.data.enableDownload,downloadLink:this.data.fileUrl}))}},{key:"initEventHandlers",value:function(){}},{key:"setter",value:function(e){this.data=g(g({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&ot(e.prototype,n),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),lt=e(5987);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach(function(e){ht(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gt(r.key),r)}}function ht(e,t,n){(t=gt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function gt(e){e=function(e,t){if("object"!==ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ut(e)?e:String(e)}function mt(e){var t=e.imageUrl,n=e.altText,r=e.id,i=e.messageText,e=e.showText,e=i&&(void 0!==e&&e)?'\n    <div class="engt-msg-image-text">\n            '.concat(i,"\n    </div>\n    "):"";return'\n        <img\n            class="engt-msg-image-view"\n            tabindex="0"\n            onkeydown="ENGT_CHAT.onEnterPress()"\n            style="cursor: pointer;"\n            id="engtImage-'.concat(r,'"\n            src="').concat(t,'"\n            alt="').concat(n,'"\n            width="100%"\n            height="100%"\n            loader="lazy" />\n        ').concat(e,"\n    ")}var yt=function(){function t(e){var r=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");ht(this,"onClose",function(){var e,t,n=r.data.id;r.data.type===G.C7.VIDEO?(e=document.getElementById("engtVideoExp"),t=document.getElementById("engtVideo-".concat(n)),(0,b.Ms)(t,e,n),setTimeout(function(){(0,U.bX)(r.html)},300)):(0,U.bX)(r.html),null!=(t=r.previousFocusElement)&&null!=(e=t.focus)&&e.call(t)}),ht(this,"listenForEscape",(0,U.AT)(this.onClose)),this.initData(e),this.deletePrevInstance(),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data={},this.setter(pt({},e))}},{key:"deletePrevInstance",value:function(){var e=document.getElementById("engtMediaOverlay");e&&(0,U.bX)(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.className="engt-media-preview engt-media-controls-wrapper engt-open-preview",e.id="engtMediaOverlay",e.setAttribute("tabindex",2),e.innerHTML=function(e){e.id;e=e.children;return'\n        <div\n            class="engt-preview-close engt-tab-selectable" \n            id="engtPreviewClose"\n            onkeydown="ENGT_CHAT.onEnterPress()"\n            tabindex="2"\n            >\n\t\t\t\t'.concat((0,lt.W)("#403f42"),"\n        </div>\n        <div class=\"engt-preview-content\" id='engtContent'>\n            ").concat(e,"\n        </div>\n    ")}(this.data),this.previousFocusElement=document.activeElement,this.html=e}},{key:"initEventHandlers",value:function(){this.html.querySelector(".engt-preview-close").addEventListener("click",this.onClose.bind(this)),this.html.addEventListener("keydown",this.listenForEscape.bind(this))}},{key:"setter",value:function(e){this.data=pt(pt({},this.data),e)}},{key:"render",value:function(){return document.getElementById("engtWrapper").appendChild(this.html),this.html.focus(),this.html}}])&&ft(e.prototype,n),r&&ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),vt={altText:"Image"};function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Et(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):_t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Et(r.key),r)}}function Et(e){e=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===bt(e)?e:String(e)}function St(e){var t,n=e.videoUrl,r=e.captions,i=e.id,o=e.errorMessage,e=e.platform,r=r?'<track default label="Captions" src="'.concat(r,'" kind="captions">'):"",a="";return"vimeo"===e?(t=n.substr(n.length-9),a+='<iframe src="https://player.vimeo.com/video/'.concat(t,'" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>')):"youtube"===e?(t=n.substr(n.length-11),a+='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/'.concat(t,'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>')):a+="facebook"===e?'<iframe src="https://www.facebook.com/plugins/video.php?href='.concat(n,'&show_text=0&width=560" width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allowFullScreen="true"></iframe>'):"video"===e?'\n        <video preload="auto" aria-label="video" class="engt-video-msg" tabindex="0" onkeydown="ENGT_CHAT.onEnterPress()"\n            style="cursor: pointer;" id="engtVideo-'.concat(i,'"  disablepictureinpicture controlslist="nofullscreen noremoteplayback noplaybackrate">\n            <source id="src-').concat(i,'" src="').concat(n,'" type="video/mp4">\n            ').concat(r,"\n        </video>"):o,a}var Ot=G.Qd.BOT,kt=(G.Qd.AGENT,function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.data=vt,e.sender),n=null==(n=e.message)?void 0:n.data,r=n.image_url,i=n.alt_text,o=n.message_text,n=n.enable_download;this.setter(m(m({},e),{},{sender:t,imageUrl:r,altText:i,messageText:o,enableDownload:n,id:e.message_id||(0,U.zJ)()}))}},{key:"initWrapper",value:function(){var e=this.data.sender,e=void 0===e?Ot:e,t=document.createElement("div");t.classList.add("engt-msg","engt-msg-".concat(e),"engt-msg-border-".concat(e),"engt-msg-image"),t.innerHTML=mt(m(m({},this.data),{},{showText:!0})),this.html=t}},{key:"initComponents",value:function(){this.data.sender;this.html=new o.e(m(m({},this.data),{},{message:G.C7.IMAGE,innerHTML:this.html.outerHTML,download:this.data.enableDownload,downloadLink:this.data.imageUrl}))}},{key:"initEventHandlers",value:function(){var e=this,t=this.data.id;this.html.querySelector("#engtImage-".concat(t)).addEventListener("click",function(){new yt({id:e.data.id,type:G.C7.IMAGE,children:mt(m(m({},e.data),{},{showText:!1}))}).render()})}},{key:"setter",value:function(e){this.data=m(m({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&wt(e.prototype,n),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Lt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ct(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lt(r.key),r)}}function Lt(e){e=function(e,t){if("object"!==Tt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Tt(e)?e:String(e)}function At(e){function t(){var e;0<(parseInt(l)-parseInt(u))%parseInt(s)&&(p=(parseInt(l)-parseInt(u))%parseInt(s)==0?parseInt(l):(e=Math.floor((parseInt(l)-parseInt(u))/parseInt(s))+1,parseInt(s)*e+parseInt(u)))}var n=e.input_type,r=e.userPrompt,i=e.minLabel,o=e.maxLabel,a=e.scale,s=e.stepValue,c=e.id,l=(o||{}).value,u=(i||{}).value,d=0,p=0,f="",h=s;switch(n){case jt:d=u,p=l,t(),f='\n\t\t\t<div class="engt-custom-range-slider__label">\n\t\t\t<span>'.concat(i.name,'</span>\n\t\t\t\t<label for="engt-slider-input-').concat(c,'" class="engt-custom-range-slider__label" id="engt-slider-val-').concat(c,'" style="justify-content: center; margin-bottom: 1px">\n\t\t\t\t\t0%\n\t\t\t\t</label>\n\t\t\t<span>').concat(o.name,"</span>\n\t\t\t</div>");break;case Nt:p=a,h=d=1;break;case Bt:d=u,p=l,t(),f='\n\t\t\t<div class="engt-custom-range-slider__label">\n\t\t\t\t<span>'.concat(i.name,"</span>\n\t\t\t\t<span>").concat(o.name,"</span>\n\t\t\t</div>")}return'\n\t\t<div class="engt-msg engt-msg-bot engt-msg-slider engt-msg-border-bot" id="engtSliderMsg-'.concat(c,'">\n             <p class="description">').concat(r,'</p>\n\t\t\t <div class="engt-slider-wrapper">\n\t\t\t\t <div class="engt-slider">\n\t\t\t\t\t<input type="range" \n\t\t\t\t\t\tclass="engt-slider-input"\n\t\t\t\t\t\tid="engt-slider-input-').concat(c,'"\n\t\t\t\t\t\tmin=').concat(d,"\n\t\t\t\t\t\tmax=").concat(p,"\n\t\t\t\t\t\tscale=").concat(a,"\n\t\t\t\t\t\tstep=").concat(h,"\n\t\t\t\t\t\tvalue=").concat(d,'\n\t\t\t\t\t\tdata-interactive-field\n\t\t\t\t\t/>\n\t\t\t\t\t<span class="engt-slider-value-preview"></span>\n\t\t\t\t\t').concat(f,"\n\t\t\t\t</div>\n\t\t\t</div>\n             <confirm-btn></confirm-btn>\n             <skip-btn></skip-btn>\n        </div>\n\t")}var Pt=G.Qd.BOT,xt=G.Qd.USER,Dt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.data={},null==(t=e.message)?void 0:t.data),n=t.video_url,r=t.video_caption,i=t.enable_download,t=t.error_msg;this.setter(y(y({},e),{},{videoUrl:n,captions:r,enableDownload:i,id:e.message_id||(0,U.zJ)(),errorMessage:t}))}},{key:"initWrapper",value:function(){var e=this.data,t=e.sender,t=void 0===t?Pt:t,e=e.videoUrl,n=document.createElement("div"),t=(n.classList.add("engt-msg","engt-msg-".concat(t),"engt-media-controls-wrapper","engt-msg-border-bot"),new RegExp(q.Mf)),r=new RegExp(q.Hf),i=new RegExp(q.gd),o=new RegExp(q.d5),a="";t.test(e)?a=G.jn.VIMEO:r.test(e)?a=G.jn.YOUTUBE:i.test(e)?a=G.jn.FACEBOOK:o.test(e)&&(a=G.jn.VIDEO),this.setter(y(y({},this.data),{},{platform:a})),n.innerHTML=St(this.data),this.html=n}},{key:"initComponents",value:function(){var e=this.data.sender,e=void 0===e?Pt:e,t=this.html.children[0];"video"===this.data.platform&&(t=new ze({message_id:this.data.id,mediaId:"engtVideo-".concat(this.data.id),mediaNode:t,showControls:e!==xt}),this.html.appendChild(t.render())),this.html=new o.e(y(y({},this.data),{},{message:G.C7.VIDEO,innerHTML:this.html.outerHTML,download:this.data.enableDownload,downloadLink:this.data.videoUrl,errorMessage:this.data.errorMessage}))}},{key:"initEventHandlers",value:function(){var i=this,e=this.data,t=e.sender,o=void 0===t?Pt:t,n=e.id;e.platform===G.jn.VIDEO&&(this.html.querySelector("#engtVideo-".concat(n)).addEventListener("click",function(){var e=i.html.querySelector("#engtVideo-".concat(n));null!=e&&e.paused?null!=e&&e.play():null!=e&&e.pause()}),this.html.querySelector("#engtVideo-".concat(n)).addEventListener("dblclick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$event,t=(new yt({id:i.data.id,type:G.C7.VIDEO,children:St(i.data)}).render(),document.getElementById("engtMediaOverlay")),n=document.getElementById("engtContent").children[0],r=(n.id="engtVideoExp",new ze({mediaId:"engtVideoExp",mediaNode:n,isFooter:!0,bgColor:"#403F42",color:"#FFF",showControls:o!==xt}));t.appendChild(r.render()),(0,b.Ms)(n,e.target,"control")}))}},{key:"setter",value:function(e){this.data=y(y({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&It(e.prototype,n),r&&It(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Mt={input_type:"NUMBER",maxLabel:{},minLabel:{},scale:"5",stepValue:1,userPrompt:"",validationMessage:"",zeroIndex:!1,id:""},jt=G.iQ.PERCENTAGE,Nt=G.iQ.RATING,Bt=G.iQ.NUMBER;function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Gt(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ut(r.key),r)}}function Ut(e){e=function(e,t){if("object"!==Rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Rt(e)?e:String(e)}var Ht=G.iQ.RATING,qt=G.iQ.NUMBER,Wt=G.iQ.PERCENTAGE,Vt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(this.data=Mt,null==(t=e.message)?void 0:t.data),n=t.user_prompt,r=t.message_id,i=t.input_type,o=t.max_label,a=t.min_label,s=t.scale,c=t.step_value,l=t.validation_message,t=t.zero_index;this.data.id=e.id||e.message_id||"message-".concat((0,U.zJ)()),this.setter(v(v({},e),{},{userPrompt:n,input_type:i,maxLabel:o,minLabel:a,scale:s,stepValue:c,id:r,zeroIndex:t,validationMessage:l})),this.data.id=e.id||e.message_id||"message-".concat((0,U.zJ)())}},{key:"initWrapper",value:function(){this.html=new o.e(v(v({},this.data),{},{innerHTML:At(this.data)}))}},{key:"getMessageId",value:function(){return"".concat(H.r.get("config.botRef"),"_").concat((0,U.DO)())}},{key:"sendSliderValueAsMessage",value:function(e,t){e={bot_key:H.r.get("config.bot_key"),user_id:H.r.get("status.sessionKey"),ack:H.r.get("ack")+1,key:H.r.get("config.key"),message_id:e};H.r.get("sendMessage")(t.text,v(v({},e),{},{message:t,tab_msg_action:H.r.get("config.isCtaResponseHidden")?"skip":"",skipAppendToDom:H.r.get("config.isCtaResponseHidden")}))}},{key:"initComponents",value:function(){var e,i=this,t=this.data||{},n=t.message,o=t.input_type,a=t.maxLabel,t=n.data,n=null==t?void 0:t.enable_skip,r=null==t?void 0:t.skip_postback,s="".concat(H.r.get("config.botRef"),"_").concat((0,U.DO)()),t=(this.html.querySelector("#engt-slider-input-".concat(this.data.id)),this.data.isOldMessage),c=t?"":new R.z({type:G.JB.PRIMARY,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.SUBMIT)||"Submit",id:"confirmBtn",applyOnHover:!0,dataInteractiveField:!0,onClick:function(){var e=i.html.querySelector("#engt-slider-input-".concat(i.data.id)),t=i.html.querySelector("#skipBtn"),n=0,r=!1,n=o===Wt||o===qt?parseInt(e.value)>=parseInt(a.value)?"".concat(a.value,".00"):"".concat(e.value,".00"):(i.html.querySelector("#engtSliderLabels-".concat(i.data.id)).style.pointerEvents="none",r=!0,0===parseInt(e.value)?1:e.value),e=(setTimeout(function(){return(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({action:"update_slider_msg",id:"".concat(i.data.id),selectedValue:n,percentage:i.percentage,disableLabels:r,confirmBtnId:"confirmBtn",tabId:H.r.get("socketId")}))},500),{text:n,type:"text"});i.sendSliderValueAsMessage(s,e),i.disableInput(),i.showValuePreview(i),(0,U.bX)(c),t&&(0,U.bX)(l),H.r.get("enableAllInput")()},radius:18}).render(),l=n&&!t?new R.z({type:G.JB.MINI,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.SKIP)||"Skip",id:"skipBtn",style:"margin-top: 12px;",applyOnHover:!0,onClick:function(){i.onSkip(r),i.reset(),i.disableInput(),this.parentNode.removeChild(c),this.parentNode.removeChild(this),setTimeout(function(){return(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({action:"update_slider_msg",id:"".concat(i.data.id),selectedValue:"skip",confirmBtnId:"confirmBtn",tabId:H.r.get("socketId")}))},500),(0,U.v8)(),H.r.get("enableAllInput")()},radius:18}).render():"";(0,U.z_)(this.html.querySelector("confirm-btn"),c),(0,U.z_)(this.html.querySelector("skip-btn"),l),t&&i.disableInput()}},{key:"initEventHandlers",value:function(){var n=this,e=this.data,t=e.input_type,r=e.scale,i=e.id,o=e.maxLabel,e=e.minLabel,a=this.html.querySelector("#engt-slider-input-".concat(i));if(a.addEventListener("input",function(){n.onInputChange.call(this,n),n.onFocus.call(this,n)}),a.addEventListener("mousemove",function(){n.onFocus.call(this,n)}),a.addEventListener("mouseleave",function(){n.onFocusOut.call(this,n)}),t===Ht){for(var s=document.createElement("div"),c=(s.id="engtSliderLabels-".concat(i),s.className="engt-custom-range-slider__label",s.style.padding="0px 4px",s.style.marginBottom="6px",1);c<=r;c++)!function(e){var t=document.createElement("span");t.innerText=e,t.style.cursor="pointer",t.addEventListener("click",function(){a.value=e,n.onInputChange.call(a,n)}),s.appendChild(t)}(c);t=document.createElement("div"),i=(t.className="engt-custom-range-slider__label",document.createElement("span")),e=(i.innerText=e.name,t.appendChild(i),document.createElement("span"));e.innerText=o.name,t.appendChild(e),this.html.querySelector(".engt-slider").appendChild(s),this.html.querySelector(".engt-slider").appendChild(t)}this.onInputChange.call(a,this)}},{key:"onInputChange",value:function(e){var t=e.data,n=t.input_type,t=t.maxLabel,r=e.html.querySelector("#engt-slider-val-".concat(e.data.id)),i=(parseInt(this.value)-parseInt(this.min))/(parseInt(this.max)-parseInt(this.min))*100;i<20||i<30?i+=2.5:i<40?i+=1.5:40<i&&i<70?i-=.5:70<i&&i<90?i-=1.5:90<i&&100!==i&&(i-=2.5),e.percentage=i,this.style.background="linear-gradient(90deg, ".concat(H.r.get("config.buttonSelectorColor")," ").concat(i,"%, #fff 0)"),r&&((n===Wt||n===qt)&&parseInt(this.value)>=parseInt(t.value)?r.innerText="".concat(t.value,"%"):r.innerText="".concat(this.value,"%"))}},{key:"onFocus",value:function(e){var t=(e.data||{}).maxLabel,n=e.html.querySelector(".engt-slider-value-preview"),r=!e.percentage||e.percentage<5?5:98<=e.percentage?70:e.percentage;n.innerText=(this.value>t.value?t:this).value,98<=e.percentage?(n.style.right="24px",n.style.left="unset"):(n.style.left="calc(".concat(parseInt(r),"% + 14px)"),n.style.right="unset"),e.showValuePreview(e)}},{key:"onFocusOut",value:function(e){e.hideValuePreview(e)}},{key:"showValuePreview",value:function(e){e.html.querySelector(".engt-slider-value-preview").style.display="block"}},{key:"hideValuePreview",value:function(e){e.html.querySelector(".engt-slider-value-preview").style.display="none"}},{key:"onSkip",value:function(e){!e||null===e&&"null"===e||H.r.get("sendMessage")("skip",{message:{postback:e,type:"postback",text:"skip"},tab_msg_action:"skip",skipAppendToDom:!0})}},{key:"reset",value:function(){var e=this.data||{},t=e.minLabel,e=e.id,e=this.html.querySelector("#engt-slider-input-".concat(e));e.value=t.value,e.style.background="linear-gradient(90deg, ".concat(H.r.get("config.buttonSelectorColor")," 0%, #fff 0)")}},{key:"disableInput",value:function(){var e=(this.data||{}).id,e=this.html.querySelector("#engt-slider-input-".concat(e));e.disabled=!0,e.removeEventListener("input",this.onInputChange)}},{key:"setter",value:function(e){this.data=v(v({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Ft(e.prototype,n),r&&Ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),zt=e(3308),Kt=e(1623),Yt=e(2566),Jt={message:"",sender:""};function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?Qt(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=tn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tn(r.key),r)}}function tn(e){e=function(e,t){if("object"!==Xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Xt(e)?e:String(e)}var nn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=Jt,this.setter(e),this.data.id=e.id||e.message_id||"message-".concat((0,U.zJ)()),this.data.isOptionsDisabled=H.r.get("config.disableSmoOptions")}},{key:"initWrapper",value:function(){var e,t,n,r;this.html=new o.e(_(_({},this.data),{},{message:(null==(e=this.data)||null==(e=e.message)||null==(e=e.data)?void 0:e.message)||"Message with options",innerHTML:(e=this.data,t=(e=e||{}).message,e=e.message_id,n="string"==typeof(null==t||null==(n=t.data)?void 0:n.message)?null==t||null==(n=t.data)?void 0:n.message:"",r=(r=n&&(0,U.N1)(n))&&(0,U.Ji)(r)?new T.G({msg:r,message_id:e,is_iframe:!1}).render():n,e=r?'<span class="engt-msg-text">'.concat(r,"</span>"):"",t?'<span class="engt-msg engt-msg-bot engt-msg-border-bot engt-msg-smo">\n\t\t\t'.concat(e,"\n\t\t\t<smo-options></smo-options>\n\t\t\t<edit-btn></edit-btn>\n\t\t</span>"):"")}))}},{key:"initComponents",value:function(){var n,e=this.data.message||{},t=e.data,r=e.enable_autofill,i=e.enable_search,e=e.buttons_alignment,t=(void 0===t?{}:t).options,t=void 0===t?[]:t;t.length?("MULTI_SELECT_END"===(t=_({},t[t.length-1])).payload?this.smoWithMultiSelect(t):r?this.smoAsDropdown():"vertical"===e?this.verticalSMO():this.horizontalSMO(),H.r.get("config.edit_user_input")?(n=this,r=new R.z({type:G.JB.MINI,label:H.r.get("config.default_edit_response")?H.r.get("config.default_edit_response"):(null==(t=H.r.get("GENERIC_STRINGS"))?void 0:t.EDIT)||"Edit",id:"editBtn-".concat(this.data.id),style:"display:none;",applyOnHover:!0,onClick:function(){var e=n.data.flow_key,t=n.data.node_key;e&&t?(this.style.display="none",(0,U.Zq)(e,t),H.r.set("editFlowId","")):console.error("flow key and and node key are not set and hence not triggering edit flow")},radius:18}).render(),(0,U.z_)(this.html.querySelector("edit-btn"),r),H.r.set("editFlowId","editBtn-".concat(this.data.id)),H.r.set("isEditFlowUsed",!1)):(0,U.z_)(this.html.querySelector("edit-btn"),"")):i&&this.smoAsDropdown()}},{key:"renderEditBtn",value:function(){this.html.querySelector("#editBtn-".concat(this.data.id)).style.display="block"}},{key:"generateDropdownOption",value:function(e,t,n,r,i,o){var a=document.createElement("div"),i=t.text.replaceAll(i,"<b>".concat(i,"</b>")),s=(a.setAttribute("aria-label",t.text),a.setAttribute("tabindex",e),a.innerHTML="<span>".concat(i,"</span>"),null==(i=t.type)||null==(s=i.toUpperCase)?void 0:s.call(i));s===G.lB.PHONE_NUMBER?((i=document.createElement("span")).className="engt-dropdown-start-enhancer",i.innerHTML=(0,Kt.m)(),a.appendChild(i)):s===G.lB.WEB_URL&&((i=document.createElement("span")).className="engt-dropdown-start-enhancer",i.innerHTML='<svg width="17" height="17" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.37573 6.24282L8.37573 6.24282L8.37573 6.242L8.37499 3.93759L3.04925 9.12249C2.82155 9.34417 2.4524 9.34417 2.2247 9.12249C1.997 8.90081 1.997 8.54142 2.2247 8.31974L7.55042 3.13486L5.1842 3.13486L5.1842 3.13487L5.18334 3.13485C4.86138 3.1294 4.60494 2.87089 4.61052 2.55747L4.65982 2.55831L4.61052 2.55747C4.61598 2.2517 4.86926 2.00511 5.18334 1.9998L5.1842 1.99979L8.95782 1.99979C9.27982 1.99942 9.5412 2.25321 9.54161 2.56668L9.54161 2.56675L9.54161 2.56808V6.24197H9.54161L9.5416 6.2428C9.53602 6.55626 9.27049 6.80593 8.94853 6.80047L8.94939 6.75243L8.94853 6.80047C8.63448 6.79513 8.38119 6.54856 8.37573 6.24282Z" stroke-width="0.84154"/>\n</svg>\n',a.appendChild(i)),o=this,a.addEventListener("click",function(e){n.value=e.target.innerText,o.data.isOptionsDisabled&&(n.disabled=!0,n.style=""),r.style.display="none",(0,U.AM)(_(_({},t),{},{title:t.text}))()}),0===e&&(a.className="active"),r.appendChild(a)}},{key:"showAutocompleteOptions",value:function(e){var n=this;(this.dropdown.innerHTML="",U.IV)(this.dropdown,"dropdown-loading"),null!=e&&e.length?e.map(function(e,t){return n.generateDropdownOption(t,e,n.input,n.dropdown,"")}):(this.dropdown.style.display="none",this.html.querySelector("input").style="")}},{key:"horizontalSMO",value:function(){var e=(this.data.message||{}).data,e=(void 0===e?{}:e).options,e=void 0===e?[]:e,o=document.createElement("div"),a=this;o.className="engt-msg-smo-options-row",e.length&&e.map(function(e,t){var n,r=e.text,i=null==(n=e.type)||null==(i=n.toUpperCase)?void 0:i.call(n);i===G.lB.PHONE_NUMBER?r='<span class="engt-btn-start-enhancer">'.concat((0,Kt.m)(),"</span>").concat(r):i===G.lB.WEB_URL&&(r='<span class="engt-btn-start-enhancer">'.concat((0,Yt.H)(),"</span>").concat(r)),o.appendChild(new R.z({type:G.JB.BASE,size:G.iY.SMALL,label:r,disabled:a.data.isOptionsDisabled&&a.data.isOldMessage,id:"",dataQa:zt.F,onClick:function(){(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({action:"update_smo_msg",selectedValue:t,id:a.data.id,tabId:H.r.get("socketId")})),a.data.isOptionsDisabled&&a.html.querySelectorAll("button:not(#editBtn-".concat(a.data.id,")")).forEach(function(e){e.disabled=!0}),(0,U.AM)(_(_({},e),{},{title:e.text}))()},applyOnHover:!0,style:"width: unset;padding: 5px 10px;text-align: left; animation-delay: ".concat(.1*(t+1),"s;"),radius:12}).render())}),(0,U.z_)(this.html.querySelector("smo-options"),o)}},{key:"verticalSMO",value:function(){var e=(this.data.message||{}).data,e=(void 0===e?{}:e).options,e=void 0===e?[]:e,o=document.createElement("div"),a=this;o.className="engt-msg-smo-options-column",e.map(function(e,t){var n,r=e.text,i=null==(n=e.type)||null==(i=n.toUpperCase)?void 0:i.call(n);i===G.lB.PHONE_NUMBER?r='<span class="engt-btn-start-enhancer">'.concat((0,Kt.m)(),"</span>").concat(r):i===G.lB.WEB_URL&&(r='<span class="engt-btn-start-enhancer">'.concat((0,Yt.H)(),"</span>").concat(r)),o.appendChild(new R.z({type:G.JB.BASE,size:G.iY.SMALL,label:r,disabled:a.data.isOptionsDisabled&&a.data.isOldMessage,onClick:function(){(0,U.fN)((0,F.LS)().TAB_MESSAGES,JSON.stringify({action:"update_smo_msg",selectedValue:t,id:a.data.id,tabId:H.r.get("socketId")})),a.data.isOptionsDisabled&&a.html.querySelectorAll("button:not(#editBtn-".concat(a.data.id,")")).forEach(function(e){e.disabled=!0}),(0,U.AM)(_(_({},e),{},{title:e.text}),"skip")()},applyOnHover:!0,style:"text-align: left; animation-delay: ".concat(.1*(t+1),"s;")}).render())}),(0,U.z_)(this.html.querySelector("smo-options"),o)}},{key:"smoWithMultiSelect",value:function(e){var t=(this.data.message||{}).data,t=(void 0===t?{}:t).options,i=void 0===t?[]:t,o=document.createElement("div"),a=this,s=(this.selectedOptions={},function(){var e=0<(null==(e=Object.keys(a.selectedOptions))?void 0:e.length),t=a.html.querySelector("#smoSubmitBtn");t.disabled=!e,(e?(0,U.IV):(0,U.cn))(t,"engt-btn-disabled")}),c=function(e,t){t?a.selectedOptions[e.payload]=_({},e):delete a.selectedOptions[e.payload]};o.className="engt-msg-smo-options-column",i.map(function(t,e){var n,r;e+1===i.length?o.appendChild(new R.z({type:G.JB.PRIMARY,size:G.iY.MEDIUM,label:t.text,id:"smoSubmitBtn",disabled:!0,className:"engt-btn-disabled",onClick:function(){var r={prefix:"",text:[],payload:[]};Object.values(a.selectedOptions).reverse().map(function(e){var t=Zt(e.payload.split("="),2),n=t[0],t=t[1];r.prefix="".concat(n,"="),r.text.push(e.text),r.payload.push(t)}),(0,U.AM)({type:"postback",text:r.text.reverse().join(","),payload:r.prefix+r.payload.reverse().join(","),title:r.text.join(",")})(),a.data.isOptionsDisabled&&(a.html.querySelectorAll("input").forEach(function(e){e.disabled=!0}),a.html.querySelectorAll("button:not(#editBtn-".concat(a.data.id,")")).forEach(function(e){e.disabled=!0})),this.disabled=!0,(0,U.cn)(this,"engt-btn-disabled")},applyOnHover:!0,style:"margin-top: 20px; padding: 8px 6.8px; text-transform: capitalize; animation-delay: ".concat(.1*(e+1),"s"),radius:18}).render()):((n=document.createElement("div")).className="engt-msg-smo-options-checkbox",(r=document.createElement("input")).type="checkbox",r.disabled=a.data.isOptionsDisabled&&a.data.isOldMessage,r.addEventListener("change",function(){!function(e){c(e,this.checked),s()}.call(this,t)}),n.appendChild(r),n.appendChild(new R.z({type:G.JB.BASE,size:G.iY.SMALL,label:t.text,disabled:a.data.isOptionsDisabled&&a.data.isOldMessage,onClick:function(){var e=this.parentNode.querySelector("input").checked;this.parentNode.querySelector("input").checked=!e,c(t,!e),s()},applyOnHover:!0,style:"text-align: left; padding: 8px 6.8px; animation-delay: ".concat(.1*(e+1),"s")}).render()),o.appendChild(n))}),this.html.querySelector(".engt-msg-smo").classList.add("engt-msg-smo-lengthy"),(0,U.z_)(this.html.querySelector("smo-options"),o),a.data.isOptionsDisabled&&this.data.isOldMessage&&s()}},{key:"smoAsDropdown",value:function(){var e=this.data.message||{},t=e.data,o=e.enable_search,e=(void 0===t?{}:t).options,a=void 0===e?[]:e,s=this,t=document.createElement("div"),c=document.createElement("div"),l=document.createElement("input"),n=document.createElement("div");function u(){var e;c.style.display="block",n.className="up-arrow",null!=c&&null!=(e=c.children)&&e.length?(l.style.borderBottomLeftRadius="0px",l.style.borderBottomRightRadius="0px",c.scrollIntoView({block:"center",inline:"nearest"})):(l.style="",c.style.display="none")}function d(){setTimeout(function(){l.style="",c.style.display="none",n.className="down-arrow",(0,U.IV)(c,"dropdown-loading")},!0===(0<arguments.length&&void 0!==arguments[0]&&arguments[0])?0:300)}function r(n){var e,t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=(null==n||null==(e=n.target)||null==(e=e.value)||null==(t=e.toLowerCase)?void 0:t.call(e))||r||"";s.data.isOptionsDisabled&&s.data.isOldMessage||(0!==a.length?((0,U.IV)(c,"dropdown-loading"),c.innerHTML="",(t=(t=400<(t=a).length?a.slice(0,400):t).filter(function(e){var t;return!s.data.isOptionsDisabled&&!(null!=n&&null!=(t=n.target)&&t.value)||!i||(null==e?void 0:e.text)&&-1<(null==(e=(t=e.text).toLowerCase)||null==(e=e.call(t))||null==(t=e.indexOf)?void 0:t.call(e,i))}).map(function(e,t){return s.generateDropdownOption(t,e,l,c,i)})).length?u():d(!0)):o&&(s.dropdown=c,s.input=l,s.showAutocompleteOptions=s.showAutocompleteOptions.bind(s),H.r.set("activeSmoDropdown",s),H.r.get("sendMessage")("autocomplete",{message:{type:"autocomplete",text:i},tab_msg_action:"skip",skipAppendToDom:!0}),u()))}var i=(0,U.Ds)(r,250);t.className="engt-msg-smo-dropdown",c.className="dropdown",l.autocomplete="on",n.className="down-arrow",l.setAttribute("placeholder",(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e["SETTINGS.PLACEHOLDER.SELECT"])||"Enter/Select"),l.disabled=s.data.isOptionsDisabled&&this.data.isOldMessage,l.addEventListener("input",function(e){var t;o&&(u(),(0,U.pv)(c,"dropdown-loading")||((t=document.createElement("div")).className="engt-loader",c.innerHTML="",c.appendChild(t),(0,U.cn)(c,"dropdown-loading"))),null!=i&&i(e)}),l.addEventListener("focus",function(){l.value&&(r({},l.value),(0,U.bX)(s.html.querySelector(".engt-loader"))),u()}),l.addEventListener("focusout",d),l.addEventListener("keydown",function(e){var t,n=e.which||e.keyCode;if(13!==n||e.shiftKey||(t=null==c||null==(t=c.querySelector)?void 0:t.call(c,".active"))&&t.click(),40===n&&function(){for(var e=c.children,t=0;t<e.length;t++){var n=e[t];if((0,U.pv)(n,"active"))return n.className="",t<e.length-1?e[t+1].className="active":e[0].className="active"}}(),38===n)for(var r=c.children,i=0;i<r.length;i++){var o=r[i];if((0,U.pv)(o,"active"))return void(o.className="",0<i?r[i-1].className="active":r[r.length-1].className="active")}}),t.appendChild(l),t.appendChild(n),t.appendChild(c),r(),d(!0),this.html.querySelector(".engt-msg-smo").classList.add("engt-msg-smo-lengthy"),(0,U.z_)(this.html.querySelector("smo-options"),t)}},{key:"setter",value:function(e){this.data=_(_({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&en(e.prototype,n),r&&en(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),rn={status:"You closed the chat"};function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function sn(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?an(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=ln(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):an(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ln(r.key),r)}}function ln(e){e=function(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==on(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===on(e)?e:String(e)}function un(){return'<svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4.27778 2.66667V1.2854C4.27778 0.829397 3.71733 0.611393 3.4092 0.947539L0.309707 4.3288C0.134476 4.51997 0.134477 4.81337 0.309707 5.00453L3.4092 8.3858C3.71733 8.72194 4.27778 8.50394 4.27778 8.04793V6.6C6.36702 6.6 8.02771 7.09869 9.35751 8.15999C9.7839 8.50029 10.5285 8.12738 10.3256 7.62099C9.36002 5.21131 7.52177 3.17222 4.27778 2.66667Z" fill="#403F42"/>\n    </svg>    \n'}function dn(e){var t=(i=e||{}).sender,n=i.message,r=i.message_id,i=void 0===(i=i.style)?"":i,o="string"==typeof n?n:n.text,a=(0,U.N1)(o),s=!("IFRAME"!==(null==n||null==(l=n.data)?void 0:l.answer_type)||H.r.get("config.isOldMessage")||!H.r.get("config.enableFaqIframes")),c=(0,U.Ji)(a),l=function(){return'<span class="engt-msg-text">'.concat(c?new T.G({msg:a,message_id:r,is_iframe:s}).render():o,"</span>")};return n?e.linked_event_id?'\n\t\t\t\t<div class="engt-msg engt-msg-'.concat(t," engt-quote-msg-").concat(t," engt-msg-border-").concat(t,' engt-quote-msg"\n\t\t\t\t\tid="quote-').concat(e.message_id,'" style="').concat(i,'">\n\t\t\t\t\t<div onclick="ENGT_CHAT.scrollIntoView(\'').concat(e.linked_event_id,'\')" \n\t\t\t\t\t\tclass="engt-quoted-text engt-msg-').concat(t," engt-msg-quote engt-msg-quote-").concat(t,'" >\n\t\t\t\t\t\t').concat(e.linked_response_data,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="engt-linked-text">').concat(l(),"</div>\n\t\t\t\t</div>\n\t\t\t"):'\n\t\t\t\t<div class="engt-msg engt-msg-'.concat(t," engt-msg-border-").concat(t,'" id="engt-msg-').concat(e.message_id,'" style="').concat(i,'">\n\t\t\t         ').concat(l(),"\n\t\t\t    </div>\n\t\t\t"):""}var pn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEvent()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=sn(sn({},rn),e),null!=e&&e.status||(this.data=sn(sn({},this.data),{},{status:"You closed the chat",hideDividers:!1}))}},{key:"initWrapper",value:function(){var e,t,n,r,i=document.createElement("div");this.data.id&&(i.id=this.data.id),i.classList.add("engtCloseChatDivider"),i.classList.add("engt-status-divider-wrapper"),i.setAttribute("data-messagetype","divider"),i.innerHTML=(e=this.data,t=e.status,n=e.color,e=e.hideDividers,r=n?"border:0.1px solid ".concat(n,";"):"",n=n?"color: ".concat(n,"; "):"",'\n        <div class="engt-status-divider">\n            <hr class="'.concat(e=e?"engt-hidden":"",'" style="').concat(r,'"/>\n        </div>\n        <span class="engt-divider-text" style="').concat(n,'">').concat(t,'</span>\n        <div class="engt-status-divider">\n            <hr class="').concat(e,'" style="').concat(r,'" />\n        </div>\n    ')),i.setAttribute("data-messagetype","divider"),this.html=i}},{key:"initEvent",value:function(){}},{key:"render",value:function(){return this.html}}])&&cn(e.prototype,n),r&&cn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),fn={message:"",sender:""};function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function w(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=yn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):gn(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yn(r.key),r)}}function yn(e){e=function(e,t){if("object"!==hn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===hn(e)?e:String(e)}var z=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=fn,this.setter(e),this.data.id=e.id||e.message_id||"message-".concat((0,U.zJ)())}},{key:"scrollIntoView",value:function(e){e.startsWith("engt",0)&&(e=e.slice(9));var t=document.getElementById(e);t&&(t.scrollIntoView(!1),t.style.backgroundColor="#cab4c621",t.style.borderRadius="16px",setTimeout(function(){t.style.backgroundColor="transparent",t.style.borderRadius="0px"},2e3))}},{key:"initWrapper",value:function(){this.html=new o.e(w(w({},this.data),{},{innerHTML:this.getQuoteMessageLocation()?'\n\t\t\t\t\t<div class="engt-user-quote" id="engt-quote-'.concat(this.data.id,'">\n\t\t\t\t\t\t').concat(un(),"\n\t\t\t\t\t</div>\n\t\t\t\t\t").concat(dn(w({style:"margin-left: unset;"},this.data)),"\n\t\t\t\t"):this.data.sender===G.Qd.BOT?dn(this.data):"\n\t\t\t\t\t".concat(dn(this.data),'\n\t\t\t\t  \t<div class="engt-quote" id="engt-quote-').concat(this.data.id,'"}>\n\t\t\t\t\t\t').concat(un(),"\n\t\t\t\t\t</div>")}))}},{key:"getQuoteMessageLocation",value:function(){return!(this.data.sender===G.Qd.BOT||this.data.sender===G.Qd.AGENT)}},{key:"setQuoteText",value:function(){var e=document.getElementById("engtQuoteText"),t=((0,U.pv)(e,"engt-quote-text")&&cr(),H.r.set("quotedMsgDetails",null),e.classList.remove("engt-hidden"),e.classList.add("engt-quote-text"),document.createElement("div")),n=(H.r.set("quotedMsgDetails",{linked_event_id:this.data.id,linked_response_data:this.data.message.text}),'\n\t\t\t<div class="engt-quote-linkedTextDescription" style="color:'.concat(H.r.get("config.botResponseTextColor"),'" >\n\t\t\t\t<div class="engt-quote-linkedText">\n\t\t\t   \t\t<div class="engt-quote-username">').concat(this.data.sender===G.Qd.AGENT?this.data.agent_name:"You",'</div>\n\t\t\t\t\t<div class="engt-quote-user-text">').concat(this.data.message.text,'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="engt-close-quote" id="engt-close-quote-').concat(this.data.id,'">\n\t\t\t\t').concat((0,lt.W)(H.r.get("config.botResponseTextColor")),"\n\t\t\t\t</div>\n\t\t \t</div>"));t.innerHTML=n,e.appendChild(t),e.querySelector(".engt-close-quote").addEventListener("click",function(){cr()})}},{key:"initEventHandlers",value:function(){var e=this,t=this.data.id;this.data.sender!==G.Qd.USER&&this.data.sender!==G.Qd.AGENT||this.html.querySelector("#engt-quote-".concat(t)).addEventListener("click",function(){e.setQuoteText()}),H.r.set("scrollIntoView",this.scrollIntoView)}},{key:"setter",value:function(e){this.data=w(w({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&mn(e.prototype,n),r&&mn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),vn=e(2661),bn=e(8880),_n=e(3763);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wn=["message_id","message"],En=["image_url","image_alt_text"];function Sn(e){return function(e){if(Array.isArray(e))return On(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?On(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kn(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Tn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function K(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===O(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Tn(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Y(){Y=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==O(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function Cn(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function In(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Cn(r,t,n,i,o,"next",e)}function o(e){Cn(r,t,n,i,o,"throw",e)}i(void 0)})}}function J(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(1<arguments.length?!arguments[1]:!void 0)||H.r.get("disableAllInput")(),H.r.get("speech").speechRecognizing&&H.r.get("inputMode")!=G.Q4.INPUT&&((0,U.fN)((0,F.LS)().STOP_AUDIO_RECORDING,!0),H.r.set("speech.speechRecognizing",!1),H.r.set("inputMode",G.Q4.INPUT),H.r.get("speech").mediaRecorder.stop())}function Ln(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(!(1<arguments.length)||!arguments[1])||H.r.get("enableAllInput")()}var E,An=G.Qd.AGENT,X=G.Qd.BOT,Pn=G.Qd.USER,xn=[G.C7.TEXT,G.C7.OPTIONS,G.C7.CAROUSEL,G.C7.IMAGE,G.C7.FILE,G.C7.VIDEO,G.C7.AUDIO,G.C7.SKIP],Dn=function(){S(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{type:G.C7.TIMESTAMP})},Mn=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};document.getElementById("engtSessionTimeout")||S(e,{type:G.C7.STATUS_DIVIDER})},jn=function(){var e=document.querySelector("#engtChatContent");H.r.set("config.isChatOpened",!0),e&&!e.hasChildNodes()&&Dn({firstStamp:!0})},Nn=function(){var e=In(Y().mark(function e(){var t,n,r,i,o=arguments;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<o.length&&void 0!==o[0]&&o[0],n=1<o.length&&void 0!==o[1]?o[1]:200,r=document.getElementById("engtChatContent"),(0,U.cn)(document.querySelector("#engtChatWrapper > #engtScrollBtn"),"engt-scrl-down-btn-hidden"),H.r.set("manualScrollOnScreens",!1),i=function(){return setTimeout(function(){H.r.set("manualScrollOnScreens",!0)},1e3)},!E&&r&&(E=k().createScroller(r)),t&&!H.r.get("config.localStorageMessage"))return r.scrollTop=H.r.get("lastMsgScrollHeight"),i(),e.abrupt("return");e.next=11;break;case 11:E.stop(),H.r.get("config.isFadingMessagesEnabled")?(E.toY(r.scrollHeight,1e3),i()):setTimeout(function(){E.toY(r.scrollHeight,500),i()},n);case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=function(){var t=In(Y().mark(function e(c){var l,u,d,p,f,h,g,m,y,v,b,_,w,E,S,O,k,T,C,I,L,A,P,x,D,M,j,N,B=arguments;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=1<B.length&&void 0!==B[1]?B[1]:{storeMsgInLs:!0},h=!(2<B.length&&void 0!==B[2])||B[2],u=l.isOldMessage,d=l.isLatestOldMsg,p=null,f=void 0===l.storeMsgInLs||l.storeMsgInLs,!H.r.get("config.isFadingMessagesEnabled")||!h){e.next=12;break}if(u){e.next=12;break}return(h=H.r.get("fadingMessageQueue")).push({data:c,config:l}),H.r.set("fadingMessageQueue",h),e.abrupt("return");case 12:if(u&&(h=c.meta_data&&JSON.parse(c.meta_data),c.agent_name||(c.agent_name=null==h?void 0:h.agent_name),c.agent_avatar||(c.agent_avatar=null==h?void 0:h.agent_avatar),c.sender===X)&&null!=c&&c.agent_email&&(c.sender=An),a=l,s=void 0,s=null!=(o=c)&&null!=(s=o.message)&&s.type?o.message.type:null!=o&&o.messagetype?o.messagetype:(null==a?void 0:a.type)||G.C7.TEXT,g="postback"===s||"message_received"===s?G.C7.TEXT:s,xn.includes(g)&&"RCV_INP"!==(null==c?void 0:c.source_node_type)&&(null==c?void 0:c.sender)!==G.Qd.USER&&(m=document.querySelector("rud-input-area"),H.r.get("config.isRudRespondBoxEnabled")&&m&&""===m.innerHTML.trim()&&Ln(u,d),H.r.get("config.isRudRespondBoxEnabled")||Ln(u,d)),g===G.C7.SKIP)return e.abrupt("return");e.next=17;break;case 17:e.t0=g,e.next=e.t0===G.C7.TEXT?20:e.t0===G.C7.OPTIONS?50:e.t0===G.C7.TIMESTAMP?52:e.t0===G.C7.AGENT_PARTICIPATION_STATUS?56:e.t0===G.C7.CAROUSEL?63:e.t0===G.C7.STATUS_DIVIDER?70:e.t0===G.C7.IMAGE?74:e.t0===G.C7.FILE?77:e.t0===G.C7.VIDEO?83:e.t0===G.C7.AUDIO?86:e.t0===G.C7.AUTOCOMPLETE?89:e.t0===G.C7.SLIDER?92:e.t0===G.C7.MAINTENANCE?96:e.t0===G.C7.COPY_TO_CLIPBOARD?100:e.t0===G.C7.CALL_REQUEST?104:e.t0===G.C7.WEB_VIEW?108:e.t0===G.C7.IDENTITY?116:e.t0===G.C7.FILE_RECEIVED?125:e.t0===G.C7.CUSTOM_CARD?130:134;break;case 20:!(null==(m=c.message.data)||!m.user_query_id)?(c.message_id=c.message.data.user_query_id,l.isStreamStarted=!1,c.sender===X&&(H.r.set("quotedMsgDetails",null),delete c.linked_event_id,delete c.linked_response_data),(y=document.getElementById(c.message_id))?(Jn(y,c),l.isStreamStarted=!0):p=new z(c),e.next=49):e.next=29;break;case 29:y=c.message,b=void 0===y?{}:y,w=c.rud_message_id,_=c.message_id,v=(b||{}).rcv_inp_type_flag,c.sender===X&&(H.r.set("quotedMsgDetails",null),delete c.linked_event_id,delete c.linked_response_data),"RCV_INP"!==(null==c?void 0:c.source_node_type)?e.next=38:(H.r.set("isAllInputsDisabled",!1),J(u,d),c.error?(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(1<arguments.length?arguments[1]:void 0)||(0,U.t5)((0,F.LS)().RUD_NODE),n=document.getElementById("".concat(t)),r=document.getElementById("confirmBtn-".concat(t)),i=document.getElementById("rud-input-".concat(t)),o=document.querySelector(".rud-wrapper"),a=document.getElementById("rud-error-".concat(t));a?(a.innerHTML=e.text,a.classList.remove("engt-hidden")):((a=document.createElement("div")).innerHTML=e.text,a.id="rud-error-".concat(t),a.classList.add("engt-error"),(t=document.querySelector("rud-error-msg"))&&(t.innerHTML=e.text,t.classList.add("engt-error")),(0,U.z_)(n.querySelector("error-msg"),a)),r&&(r.disabled=!1,r.classList.remove("engt-rud-disabled")),i&&(i.disabled=!1,(o||i).classList.add("engt-error-input"),i.focus())}(b,w),Nn(!1,0)):null==(b=c.error)||b?(p=new Ge(K(K({},c),{},{isOldMessage:u&&!d})),(w=document.getElementById("rud-input-".concat(_)))&&w.focus()):(Ae(c),V(),Nn(!1,0)),e.next=49);break;case 38:e.t1=v,e.next=e.t1===G.KG.DATE?41:e.t1===G.KG.FILE?43:e.t1===G.KG.PASSWORD?47:48;break;case 41:return V(u),e.abrupt("break",49);case 43:return V(u),p=new Ce(K(K({},c),{},{isOldMessage:u&&!d})),J(u,d),e.abrupt("break",49);case 47:return e.abrupt("break",49);case 48:p=new z(c);case 49:return e.abrupt("break",135);case 50:if((null==c?void 0:c.source_node_type)===G.kL.RCV_INP||(null==c?void 0:c.source_node_name)===G.kL.RCV_INP){if(!u){var t=c;var n,r,i,o=document.getElementById("".concat((0,U.t5)((0,F.LS)().RUD_NODE)));o&&(n=t.message,r=(null==n?void 0:n.data).options[0],o=o.querySelector("skip-btn"))&&(i=new R.z({type:G.JB.MINI,size:G.iY.SMALL,label:r.text||(null==(i=H.r.get("GENERIC_STRINGS"))?void 0:i.SKIP)||"Skip",id:"rud-skipBtn",style:"margin-top: 12px;",applyOnHover:!0,onClick:function(){r&&H.r.get("sendMessage")("skip",{message:{postback:r.payload,type:"postback",text:"Skip"},skipAppendToDom:!0});var e=document.getElementById("rud-input-".concat((0,U.t5)((0,F.LS)().RUD_NODE))),e=(null!=e&&e.remove(),document.getElementById("rud-error-".concat((0,U.t5)((0,F.LS)().RUD_NODE))));(0,U.cn)(e,"engt-hidden"),t.message=W(W({},n),{},{text:"Skipped",type:G.C7.TEXT}),Ae(t),V()}}).render(),(0,U.z_)(o,i))}}else(null==c?void 0:c.source_node_name)===G.kL.FEEDBACK_NODE?(V(u),p=new ge(K(K({},c),{},{isOldMessage:u&&!d})),!1===(null==c||null==(b=c.message)?void 0:b.enable_search)&&J(u,d)):(V(u),p=new nn(K(K({},c),{},{isOldMessage:u&&!d})),Object.keys(c).includes("source_node_name")?!1===(null==c||null==(_=c.message)?void 0:_.enable_search)&&"TRIGGER_LIVECHAT"!==(null==c?void 0:c.source_node_name)&&J(u,d):H.r.get("config.blockSendMessageWithOptions")&&J(u,d));return e.abrupt("break",135);case 52:return V(u),p=new vn.O(c),f=!1,e.abrupt("break",135);case 56:return V(u),w=c.message&&c.message.data,E=w&&w.ENABLE_EVENT_HISTORY_NOTIFICATIONS?"".concat(w.PARTICIPATION_MESSAGE.trim()):"",E={status:E},p=w.ENABLE_EVENT_HISTORY_NOTIFICATIONS&&new pn(E),f=!1,e.abrupt("break",135);case 63:return V(u),E=c.message_id,S=c.message,k=kn(c,wn),A={layout:"SHOW_ONE",type:"SEAMLESS",orientation:"VERTICAL"},C=(null==S?void 0:S.data)||{},O=C.carousel_cards,O=void 0===O?[]:O,I=C.carousel_style_config,I=void 0===I?A:I,T=C.footer_buttons,T=void 0===T?[]:T,C=C.header_buttons,C=void 0===C?[]:C,(O=null!=O&&O.length?O:(null==S?void 0:S.data)||[]).length&&(A=(S=I||A).orientation,L=S.layout,S=S.type,A="".concat(A,"_").concat(L,"_").concat(S).toUpperCase(),L=O.map(function(e,t){var n=e.image_url,r=e.image_alt_text,e=kn(e,En);return K({image:n,imageAlt:r||"carousel_image_".concat(t)},e)}),p=(null==O?void 0:O.length)&&new Z.l(K(K({},k),{},{footerBtns:T,headerBtns:C,config:I||{},id:E,cards:L,type:A,popoverRole:G.iX.EXPANDABLE,ellipsis:{title:2,description:3}}))),e.abrupt("break",135);case 70:return V(u),p=new pn(c),f=!1,e.abrupt("break",135);case 74:return V(u),p=new kt(c),e.abrupt("break",135);case 77:return V(u),O=null==(S=c.message)?void 0:S.data,k=O.file_url,T="file",k&&(C=k.lastIndexOf(".")+1,T=k.substring(C)),p=c.message.type===q.Gk.VIDEO||"mp4"===T?new Dt(k?K(K({},c),{},{message:K(K({},c.message),{},{data:K(K({},c.message.data),{},{video_url:k})})}):{chatData:c}):c.message.type===q.Gk.AUDIO||"mp3"===T?new nt(k?K(K({},c),{},{message:K(K({},c.message),{},{data:K(K({},c.message.data),{},{audio_url:k})})}):{chatData:c}):new ct(c),e.abrupt("break",135);case 83:return V(u),p=new Dt(c),e.abrupt("break",135);case 86:return V(u),p=new nt(c),e.abrupt("break",135);case 89:return V(u),Bn(c),e.abrupt("break",135);case 92:return V(u),p=new Vt(K(K({},c),{},{isOldMessage:u&&!d})),J(u,d),e.abrupt("break",135);case 96:return V(u),J(u,d),p=new z(K(K({},c),{},{sender:X})),e.abrupt("break",135);case 100:return V(u),u||(0,U.lA)(null==c||null==(I=c.message)?void 0:I.data),f=!1,e.abrupt("break",135);case 104:return V(u),u||(0,U.fZ)(null==c||null==(L=c.message)||null==(A=L.data)?void 0:A.text),f=!1,e.abrupt("break",135);case 108:return V(u),x=c.message.data,P=x.url_prefix_msg,x=x.url,c.message.text='<a href="'.concat(x,'" target="_blank">').concat(P,"</a>"),p=new z(c),u||document.hidden||window.open(x,"_blank"),e.abrupt("break",135);case 116:if(V(u),x=(null==c||null==(P=c.message)?void 0:P.data)||{},D=x.node_type,c.validated)return D===G.kL.IDENTITY?c.message.text="Identity - ".concat(c.message.data.title):c.message.text="Form - ".concat(c.message.data.title),p=new z(c),e.abrupt("break",135);e.next=122;break;case 122:return D===G.kL.IDENTITY&&(M=c.message.data).user_id&&(H.r.set("currentUserId",H.r.get("status.sessionKey")),H.r.set("status.sessionKey",M.user_id)),c.message.data.hasOwnProperty("login_success")?H.r.get("currentUserId")!==c.message.data.user_id&&(0,U.t5)((0,F.LS)().NEW_SESSION)&&(0,U.fN)((0,F.LS)().NEW_SESSION,c.message.data.user_id):(p=new Ie.Z(K(K({},c),{},{isOldMessage:u&&!d})),H.r.set("lastIdentityNode",c.message_id),J(u,d)),e.abrupt("break",135);case 125:return V(u),c.message=JSON.parse(c.message),M=c.message.mimeType,p=new(-1<M.indexOf("image")?(c.message=K(K({},c.message),{},{data:K({image_url:null==c||null==(j=c.message)?void 0:j.url},c.message)}),kt):(c.message=K(K({},c.message),{},{data:K({file_url:null==c||null==(j=c.message)?void 0:j.url},c.message)}),ct))(c),e.abrupt("break",135);case 130:return V(u),N=c.message&&c.message.data,p=new Q(K(K({},c),{},{customCardContent:N,isOldMessage:u&&!d})),e.abrupt("break",135);case 134:return e.abrupt("break",135);case 135:p&&((0,_n.Sv)(),l.isStreamStarted||Gn(p,u),Fn(c,u),Un(c,u),l.isStreamStarted||Nn(u),f&&!u&&(Rn(c),Qn(c),$n()),(null==c?void 0:c.sender)===Pn&&(H.r.get("config.edit_user_input")&&(H.r.get("editFlowId")&&H.r.get("isEditFlowUsed")&&(document.getElementById(H.r.get("editFlowId"))&&(document.getElementById(H.r.get("editFlowId")).style.display="none"),H.r.set("editFlowId","")),H.r.set("isEditFlowUsed",!0)),c.message&&(N={message:c.message,timestamp:c.timestamp,user:(null==l?void 0:l.user)||c.message.sender,sender:(null==l?void 0:l.user)||c.message.sender,message_id:c.message_id,type:c.message.type,msgDetails:null==l?void 0:l.msgDetails,broadcasted:!0},!f||null!=l&&l.isOldMessage||nr(N)),Yn()),Zn(c,u));case 136:case"end":return e.stop()}var o,a,s},e)}));return function(e){return t.apply(this,arguments)}}(),Bn=function(e){var t,n,e=e.message,e=(void 0===e?{}:e).data,e=(void 0===e?{}:e).options,e=void 0===e?{}:e;null!=(t=H.r.get("activeSmoDropdown"))&&null!=(n=t.showAutocompleteOptions)&&n.call(t,e)},Rn=function(e){var t=[];try{var n,r=(0,U.t5)((0,F.LS)().MESSAGE_MAP),t=r&&JSON.parse(r)&&(null==(n=JSON.parse(r))?void 0:n.data)||[]}catch(e){t=[]}t.push(e),(0,U.fN)((0,F.LS)().MESSAGE_MAP,JSON.stringify({data:t}))},Gn=function(e,t){var n=document.getElementById("engtChatContent"),e=e.render();t?n.prepend(e):n.appendChild(e)},Fn=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=H.r.get("lastMessageDetails"),r=H.r.get("chatHistoryFirstMessageDetails"),i='[data-avatar-id="avatar-'.concat(t?e.message_id:null==n?void 0:n.messageId,'"]'),o=document.querySelector(i);Hn(e,t?r:n)&&((0,U.IV)(o,"engt-avatar-wrapper-animation"),(0,U.IV)(o,"engt-avatar-wrapper-animation-bot"),setTimeout(function(){(0,U.hG)(i,"visibility","hidden")},800))},Un=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=H.r.get("lastMessageDetails"),r=H.r.get("chatHistoryFirstMessageDetails"),i=document.getElementById(t?e.message_id:n.messageId),t=t?r:n;i&&qn(e,t)&&(0,U.IV)(i.querySelector(".engt-msg-border-".concat(null==t?void 0:t.sender)),"engt-msg-border-".concat(null==t?void 0:t.sender))},Hn=function(e,t){var e=e||{},n=e.sender,e=e.agent_name,t=t||{},r=t.sender,t=t.agentName;return Vn(n,r)||zn(n,r)&&Kn(t,e)},qn=function(e,t){var n=(e||{}).sender,r=(t||{}).sender;return Wn(n,r)||Hn(e,t)},Wn=function(e,t){return e===Pn&&t===Pn},Vn=function(e,t){return e===X&&t===X},zn=function(e,t){return e===An&&t===An},Kn=function(e,t){return e===t},Yn=function(){var e,t=document.getElementById("engtUserMessage");t&&(t.innerText="",t.dispatchEvent(new Event("input",{bubbles:!0})),null!=(t=document.getElementById("engtSendBtn")))&&null!=(e=t.blur)&&e.call(t)},Jn=function(e,t){var n,r,e=e.querySelector("#engt-msg-".concat(t.message_id));e?(e=e.querySelector(".engt-msg-text"),n=(0,U.N1)(t.message.text),t.message.data.is_end_chunk?(r=t.message.text,(0,U.Ji)(r)&&(0,U.cn)(e,"engt-link"),e.style.display="inline",e.innerHTML+=n,(H.r.get("config.isPdfLinkPreviewEnabled")||H.r.get("config.isWebLinkPreviewEnabled"))&&e.querySelectorAll("a").forEach(function(i){i.addEventListener("click",function(e){var t,n,r=i.getAttribute("href");r&&(n=r.includes("document/viewer.html"),t=H.r.get("config.isPdfLinkPreviewEnabled")&&n,n=H.r.get("config.isWebLinkPreviewEnabled")&&!n,t||n)&&(e.preventDefault(),H.r.get("onMaximizeScreen")(),H.r.get("showSourcePreviewScreen")(r))})}),(0,U.oP)()):(0,U.Ji)(n)?e.innerHTML+=new T.G({msg:n,message_id:t.message_id}).render():e.innerHTML+=n):(0,U.bZ)("Streaming div element not found")},Xn=function(){H.r.set("unReadMessages",[]),H.r.get("renderUnreadCount")(0)},Zn=function(e){H.r.set(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"chatHistoryFirstMessageDetails":"lastMessageDetails",{sender:e.sender,agentName:e.agent_name,messageId:e.message_id})},Qn=function(e){var t=Sn(H.r.get("unReadMessages")||[])||[],n=(0,U.pv)(document.getElementById("engt-popup"),"engt-popup-hidden");H.r.get("getCurrentScreen")()===G.xe.CHAT&&!n||(t.push(e),H.r.set("unReadMessages",t),H.r.get("renderUnreadCount")(t.length))},$n=function(){return H.r.get("updatePreviewMessage")()},er=function(e){var t,n=[],r=((0,U.t5)((0,F.LS)().PREV_MESSAGES)&&(n=JSON.parse((0,U.t5)((0,F.LS)().PREV_MESSAGES))),Array.isArray(n)||(n=[]),{}),i=((0,U.t5)((0,F.LS)().MESSAGE_MAP)&&(r=JSON.parse((0,U.t5)((0,F.LS)().MESSAGE_MAP))),e.timestamp),o=e.sender||(null==(o=e.message)?void 0:o.sender)||e.user;o&&(o!==G.Qd.BOT&&o!==G.Qd.AGENT||(o=e.message_id)&&!r[o]&&(r[o]=!0,(0,U.fN)((0,F.LS)().MESSAGE_MAP,JSON.stringify(r)),o=i.split(" "),o="".concat(o[0],"T").concat(o[1],"Z"),e.timestamp=new Date(o)),o=!1,(o=!(null==(t=e.message.data)||!t.user_query_id)?tr(e,n,o):o)||n.push(e),1===n.length&&(0,U.fN)("chatMessageTimestamp",new Date(i)),n.length>q.LC&&(!(e=(t=n.shift()).sender||(null==(o=t.message)?void 0:o.sender)||t.user)||e!==G.Qd.BOT&&e!==G.Qd.AGENT||(delete r[t.message_id],(0,U.fN)((0,F.LS)().MESSAGE_MAP,JSON.stringify(r)))),(0,U.fN)((0,F.LS)().PREV_MESSAGES,JSON.stringify(n)))},tr=function(e,t,n){e.message_id=e.message.data.user_query_id;for(var r=0;r<t.length;r++){var i=t[r];if(i.message_id===e.message_id){i.message.text+=e.message.text,n=!0;break}}return n},nr=function(e){var t=e.user;e.messagetype;"engt"!==t&&!H.r.get("config.launch_flow_copy")&&H.r.get("config.storeUserResponseInLs")&&er(e)},rr=function(e){var e=e.message,t=e.is_enabled;e.is_live_chat_enabled&&!t?((0,U.fN)((0,F.LS)().LIVECHAT,"true"),null!=(e=H.r.get("showUploadBtnForLiveChat"))&&e(),null!=(t=H.r.get("showInputBox"))&&t()):((0,U.fN)((0,F.LS)().LIVECHAT,"false"),null!=(e=H.r.get("hideUploadBtnForLiveChat"))&&e(),!1===H.r.get("config.showReplyArea")&&H.r.get("hideInputBox")()),H.r.get("reRenderHeaderOptions")()},ir=function(e){var t,n,r,i=JSON.parse(JSON.stringify(e))||{},o=e.message;H.r.get("config.launch_flow_copy")||o&&o.type&&(o=o.type,t=e,o==G.C7.UPDATE_LIVECHAT_STATUS&&rr(t),n=t.source_node_type,r=t.message,!("RCV_INP"!==n||!t.hasOwnProperty("error"))||0<=q.Fb.indexOf(o)||!(o!==G.C7.IDENTITY||!r.hasOwnProperty("login_success")))?e&&(e.timestamp=new Date):(e.timestamp=new Date,er(i))},or=function(){if(!H.r.get("config.launch_flow_copy"))if(H.r.get("config.loadChatHistory"))(0,U.fN)("chatMessageTimestamp",new Date);else{var e=JSON.parse((0,U.t5)((0,F.LS)().PREV_MESSAGES))||[];if(e.length){H.r.set("config.localStorageMessage",!0),(0,U.fN)("chatMessageTimestamp",new Date(e[0].timestamp));var t=e;H.r.set("config.isOldMessage",!0);for(var n=t.length-1;0<=n;n--)t[n].user&&"guest"===t[n].user?S(t[n],{user:t[n].user,type:t[n].type,msgDetails:t[n].msgDetails,storeMsgInLs:!1,isOldMessage:!0,isLatestOldMsg:n===t.length-1}):S(t[n],{isOldMessage:!0,isLatestOldMsg:n===t.length-1});H.r.set("config.isOldMessage",!1),(0,U.TF)(e[e.length-1])&&H.r.get("disableAllInput")(),H.r.set("config.localStorageMessage",!1)}}},ar=function(e){var t=e.messages;t.length&&(0,U.fN)("chatMessageTimestamp",new Date(t[t.length-1].timestamp)),H.r.set("config.isOldMessage",!0),H.r.set("config.localStorageMessage",!1);for(var n=0;n<t.length;n++)t[n].sender,G.Qd.BOT,S(t[n],{isOldMessage:!0});H.r.set("config.isOldMessage",!1),H.r.get("config.temporaryRoomId")&&((0,bn.TS)("chat_history_received",{room:H.r.get("config.temporaryRoomId")}),H.r.set("config.temporaryRoomId",null))},sr=function(){var e,t=document.createElement("div");return t.id="engtStartConversation",t.style="padding: 16px; background-color: ".concat(H.r.get("config.textAreaColor"),"; width: 100%;"),t.appendChild(new R.z({type:G.JB.PRIMARY,label:(null==(e=H.r.get("GENERIC_STRINGS"))?void 0:e.START_NEW_CONVERSATION)||"Start a new conversation",onClick:H.r.get("startNewConversation"),radius:18}).render()),t},cr=function(){var e=document.getElementById("engtQuoteText");H.r.set("quotedMsgDetails",null),e&&(e.innerHTML="",e.classList.remove("engt-quote-text"),e.classList.add("engt-hidden"))},lr=function(e){var t=!1,n=e.message.type;"agent"!==e.sender||e.message.hasOwnProperty("action")||"AGENT_PARTICIPATION_STATUS"==n||"CHANGE_AGENT_IMAGE_URL"==n||"UPDATE_LIVECHAT_STATUS"==n||H.r.get("infocus")||(t=!0,e=H.r.get("notificationCount"),e++,n=document.title.split(")").pop(),n="(".concat(H.r.get("notificationCount"),")").concat(n),document.title=n,H.r.set("notificationCount",e)),!H.r.get("config.isNotified")&&t&&(q.mX.play(),H.r.set("config.isNotified",!0),(0,U.fN)((0,F.LS)().IS_NOTIFED,!0))}},3763:(e,t,n)=>{"use strict";n.d(t,{KY:()=>u,Sv:()=>f});var r=n(1102),i=n(1042),o=n(4769),a=n(9914),s=n(1800),c=n(1181),l=null,u=function(){var e,t;e=parseInt(null!=(e=(0,o.t5)((0,i.LS)().TAB_COUNTER))?e:0)+1,(0,o.fN)((0,i.LS)().TAB_COUNTER,e),a.r.get("config.launch_flow")||(e=JSON.parse((0,o.t5)((0,i.LS)().PREV_MESSAGES)),Array.isArray(e)&&e.length&&(e=null==(e=e[e.length-1])?void 0:e.timestamp,e=new Date-new Date(e),a.r.set("config.sessionExpired",!1),a.r.set("triggerSessionExpired",!1),e>=r.Jn?(0,s.Kq)():("false"===(0,o.t5)((0,i.LS)().GOT_UID)?a.r.get("startConvoAdded")||((0,c.fm)(),null!=(t=Array.from(document.querySelectorAll(".engt-status-divider-wrapper")).pop())&&t.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),a.r.get("renderStartConversation")(),(0,o.fN)((0,i.LS)().TAB_MESSAGES,JSON.stringify({action:"enable_session_timeout",tabId:a.r.get("socketId")})),a.r.set("startConvoAdded",!0),a.r.set("triggerSessionExpired",!0),a.r.set("firstTime",!0)):(0,o.fN)((0,i.LS)().GOT_UID,"true"),d(),p(r.Jn-e))))},d=function(){l&&(clearTimeout(l),l=null,a.r.get("updatePreviewMessage")())},p=function(e){e=e||r.Jn;l=setTimeout(function(){(0,s.Kq)()},e)},f=function(){a.r.get("config.isOldMessage")||a.r.get("config.launch_flow_copy")||(d(),p())}},5473:(N,e,t)=>{"use strict";t.d(e,{Z:()=>je});var r={},f=(t.r(r),t.d(r,{Decoder:()=>ke,Encoder:()=>Se,PacketType:()=>L,protocol:()=>Ee}),t(7410)),h=t(1042),g=t(4769),m=t(8880),y=t(9914);const i=Object.create(null),o=(i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6",Object.create(null)),d=(Object.keys(i).forEach(e=>{o[i[e]]=e}),{type:"error",data:"parser error"}),B="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),R="function"==typeof ArrayBuffer,G=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,a=({type:e,data:t},n,r)=>B&&t instanceof Blob?n?r(t):F(t,r):R&&(t instanceof ArrayBuffer||G(t))?n?r(t):F(new Blob([t]),r):r(i[e]+(t||"")),F=(e,t)=>{const n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function U(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let n;const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<H.length;e++)p[H.charCodeAt(e)]=e;const q=e=>{let t=.75*e.length,n=e.length,r,i=0,o,a,s,c;"="===e[e.length-1]&&(t--,"="===e[e.length-2])&&t--;var l=new ArrayBuffer(t),u=new Uint8Array(l);for(r=0;r<n;r+=4)o=p[e.charCodeAt(r)],a=p[e.charCodeAt(r+1)],s=p[e.charCodeAt(r+2)],c=p[e.charCodeAt(r+3)],u[i++]=o<<2|a>>4,u[i++]=(15&a)<<4|s>>2,u[i++]=(3&s)<<6|63&c;return l},W="function"==typeof ArrayBuffer,v=(e,t)=>{var n;return"string"!=typeof e?{type:"message",data:V(e,t)}:"b"===(n=e.charAt(0))?{type:"message",data:((e,t)=>{if(W){const n=q(e);return V(n,t)}else return{base64:true,data:e}})(e.substring(1),t)}:o[n]?1<e.length?{type:o[n],data:e.substring(1)}:{type:o[n]}:d},V=(e,t)=>"blob"!==t?e instanceof ArrayBuffer?e:e.buffer:e instanceof Blob?e:new Blob([e]),z=String.fromCharCode(30);function K(){return new TransformStream({transform(i,o){var e,t;e=i,t=e=>{var t,n=e.length;let r;n<126?(r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n)):n<65536?(r=new Uint8Array(3),(t=new DataView(r.buffer)).setUint8(0,126),t.setUint16(1,n)):(r=new Uint8Array(9),(t=new DataView(r.buffer)).setUint8(0,127),t.setBigUint64(1,BigInt(n))),i.data&&"string"!=typeof i.data&&(r[0]|=128),o.enqueue(r),o.enqueue(e)},B&&e.data instanceof Blob?e.data.arrayBuffer().then(U).then(t):R&&(e.data instanceof ArrayBuffer||G(e.data))?t(U(e.data)):a(e,!1,e=>{n=n||new TextEncoder,t(n.encode(e))})}})}let b;function _(e){return e.reduce((e,t)=>e+t.length,0)}function w(t,n){if(t[0].length===n)return t.shift();var r=new Uint8Array(n);let i=0;for(let e=0;e<n;e++)r[e]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),r}function s(e){if(e){var t,n=e;for(t in s.prototype)n[t]=s.prototype[t];return n}}s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},s.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var n=this._callbacks["$"+e];if(n)if(1==arguments.length)delete this._callbacks["$"+e];else{for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}0===n.length&&delete this._callbacks["$"+e]}}return this},s.prototype.emitReserved=s.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length};const c="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),l="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Y(n,...e){return e.reduce((e,t)=>(n.hasOwnProperty(t)&&(e[t]=n[t]),e),{})}const J=l.setTimeout,X=l.clearTimeout;function u(e,t){t.useNativeTimers?(e.setTimeoutFn=J.bind(l),e.clearTimeoutFn=X.bind(l)):(e.setTimeoutFn=l.setTimeout.bind(l),e.clearTimeoutFn=l.clearTimeout.bind(l))}function Z(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Q extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class E extends s{constructor(e){super(),this.writable=!1,u(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Q(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){e=v(e,this.socket.binaryType);this.onPacket(e)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){e=function(e){let t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return e.length?"?"+e:""}}class $ extends E{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{var n=e.split(z),r=[];for(let e=0;e<n.length;e++){var i=v(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState)&&this._poll()}doClose(){var e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1;{var r=e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})};const i=e.length,o=new Array(i);let n=0;e.forEach((e,t)=>{a(e,!1,e=>{o[t]=e,++n===i&&r(o.join(z))})})}}uri(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Z()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let ee=!1;try{ee="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const te=ee;function ne(){}class re extends ${constructor(t){if(super(t),"undefined"!=typeof location){var n="https:"===location.protocol;let e=location.port;e=e||(n?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||e!==t.port}}doWrite(e,t){e=this.request({method:"POST",data:e});e.on("success",t),e.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){var e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class S extends s{constructor(e,t,n){super(),this.createRequest=e,u(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e,t=Y(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(var r in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this._opts.extraHeaders[r])}catch(e){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null!=(e=this._opts.cookieJar)&&e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&null!=(e=this._opts.cookieJar)&&e.parseCookies(n.getResponseHeader("set-cookie")),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(e){return void this.setTimeoutFn(()=>{this._onError(e)},0)}"undefined"!=typeof document&&(this._index=S.requestsCount++,S.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ne,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete S.requests[this._index],this._xhr=null}}_onLoad(){var e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function ie(){for(var e in S.requests)S.requests.hasOwnProperty(e)&&S.requests[e].abort()}S.requestsCount=0,S.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",ie):"function"==typeof addEventListener&&(e="onpagehide"in l?"pagehide":"unload",addEventListener(e,ie,!1)));const oe=(e=ae({xdomain:!1}))&&null!==e.responseType;function ae(e){e=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||te))return new XMLHttpRequest}catch(e){}if(!e)try{return new l[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}}const se="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ce extends E{get name(){return"websocket"}doOpen(){var e=this.uri(),t=this.opts.protocols,n=se?{}:Y(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;a(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(e){}r&&c(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Z()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const O=l.WebSocket||l.MozWebSocket;const le={websocket:class extends ce{createSocket(e,t,n){return se?new O(e,t,n):t?new O(e,t):new O(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends E{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{var t=function(o,a){b=b||new TextDecoder;const s=[];let c=0,l=-1,u=!1;return new TransformStream({transform(e,t){for(s.push(e);;){if(0===c){if(_(s)<1)break;var n=w(s,1);u=128==(128&n[0]),l=127&n[0],c=l<126?3:126===l?1:2}else if(1===c){if(_(s)<2)break;n=w(s,2);l=new DataView(n.buffer,n.byteOffset,n.length).getUint16(0),c=3}else if(2===c){if(_(s)<8)break;var r=w(s,8),r=new DataView(r.buffer,r.byteOffset,r.length),i=r.getUint32(0);if(i>Math.pow(2,21)-1){t.enqueue(d);break}l=i*Math.pow(2,32)+r.getUint32(4),c=3}else{if(_(s)<l)break;i=w(s,l);t.enqueue(v(u?i:b.decode(i),a)),c=0}if(0===l||l>o){t.enqueue(d);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType);const n=e.readable.pipeThrough(t).getReader();t=K();t.readable.pipeTo(e.writable),this._writer=t.writable.getWriter();const r=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),r())}).catch(e=>{})};r();e={type:"open"};this.query.sid&&(e.data=`{"sid":"${this.query.sid}"}`),this._writer.write(e).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){var n=t[e];const r=e===t.length-1;this._writer.write(n).then(()=>{r&&c(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null!=(e=this._transport)&&e.close()}},polling:class extends re{constructor(e){super(e);e=e&&e.forceBase64;this.supportsBinary=oe&&!e}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new S(ae,this.uri(),e)}}},ue=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,de=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function k(e){if(8e3<e.length)throw"URI too long";var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=ue.exec(e||""),o={},a=14;for(;a--;)o[de[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e){var t=e.replace(/\/{2,9}/g,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||t.splice(0,1);"/"==e.slice(-1)&&t.splice(t.length-1,1);return t}(o.path),o.queryKey=function(e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(o.query),o}const T="function"==typeof addEventListener&&"function"==typeof removeEventListener,C=[];T&&addEventListener("offline",()=>{C.forEach(e=>e())},!1);class I extends s{constructor(e,t){super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e?(e=k(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=k(t.host).host),u(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{var t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){var n={},r=e.split("&");for(let e=0,t=r.length;e<t;e++){var i=r[e].split("=");n[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return n}(this.opts.query)),T&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname)&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},C.push(this._offlineEventListener)),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){var t=Object.assign({},this.opts.query),t=(t.EIO=4,t.transport=e,this.id&&(t.sid=this.id),Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]));return new this._transportsByName[e](t)}_open(){var e;0===this.transports.length?this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0):(e=this.opts.rememberUpgrade&&I.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0],this.readyState="opening",(e=this.createTransport(e)).open(),this.setTransport(e))}setTransport(e){this.transport&&this.transport.removeAllListeners(),(this.transport=e).on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",I.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":var t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);var e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),(this._prevBufferLen=0)===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){var e;"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(e=this._getWritablePackets(),this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush"))}_getWritablePackets(){if(this._maxPayload&&"polling"===this.transport.name&&1<this.writeBuffer.length){let t=1;for(let e=0;e<this.writeBuffer.length;e++){var n=this.writeBuffer[e].data;if(n&&(t+=function(e){if("string"!=typeof e)return Math.ceil(1.33*(e.byteLength||e.size));{var i=e;let n=0,r=0;for(let e=0,t=i.length;e<t;e++)(n=i.charCodeAt(e))<128?r+=1:n<2048?r+=2:n<55296||57344<=n?r+=3:(e++,r+=4);return r}}(n)),0<e&&t>this._maxPayload)return this.writeBuffer.slice(0,e);t+=2}}return this.writeBuffer}_hasPingExpired(){var e;return!this._pingTimeoutTime||((e=Date.now()>this._pingTimeoutTime)&&(this._pingTimeoutTime=0,c(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e)}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){"function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((n=n||{}).compress=!1!==n.compress,this.emitReserved("packetCreate",e={type:e,data:t,options:n}),this.writeBuffer.push(e),r&&this.once("flush",r),this.flush())}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{(this.upgrading?n:e)()}):(this.upgrading?n:e)()),this}_onError(e){if(I.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&1<this.transports.length&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){var n;"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),T&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)&&-1!==(n=C.indexOf(this._offlineEventListener))&&C.splice(n,1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0)}}I.protocol=4;class pe extends I{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;I.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{n||("pong"===e.type&&"probe"===e.data?(this.upgrading=!0,this.emitReserved("upgrading",t),t&&(I.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))):((e=new Error("probe error")).transport=t.name,this.emitReserved("upgradeError",e)))}))};function i(){n||(n=!0,l(),t.close(),t=null)}const o=e=>{e=new Error("probe error: "+e);e.transport=t.name,i(),this.emitReserved("upgradeError",e)};function a(){o("transport closed")}function s(){o("socket closed")}function c(e){t&&e.name!==t.name&&i()}const l=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(t){var n=[];for(let e=0;e<t.length;e++)~this.transports.indexOf(t[e])&&n.push(t[e]);return n}}class fe extends pe{constructor(e,t={}){t="object"==typeof e?e:t;(!t.transports||t.transports&&"string"==typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>le[e]).filter(e=>!!e)),super(e,t)}}(class extends null{});fe;const he="function"==typeof ArrayBuffer,ge=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer;var L,e=Object.prototype.toString;const me="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===e.call(Blob),ye="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===e.call(File);function ve(e){return he&&(e instanceof ArrayBuffer||ge(e))||me&&e instanceof Blob||ye&&e instanceof File}function be(e){var t=[],n=e.data;return e.data=function t(n,r){if(!n)return n;{if(ve(n)){const e={_placeholder:!0,num:r.length};return r.push(n),e}if(Array.isArray(n)){const i=new Array(n.length);for(let e=0;e<n.length;e++)i[e]=t(n[e],r);return i}if("object"==typeof n&&!(n instanceof Date)){const o={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=t(n[a],r));return o}}return n}(n,t),e.attachments=t.length,{packet:e,buffers:t}}function _e(e,t){return e.data=function t(n,r){if(!n)return n;{if(n&&!0===n._placeholder){const e="number"==typeof n.num&&0<=n.num&&n.num<r.length;if(e)return r[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=t(n[e],r);else if("object"==typeof n)for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=t(n[i],r))}return n}(e.data,t),delete e.attachments,e}const we=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ee=5;(e=L=L||{})[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK";class Se{constructor(e){this.replacer=e}encode(e){return e.type!==L.EVENT&&e.type!==L.ACK||!function n(r){if(r&&"object"==typeof r)if(Array.isArray(r)){for(let e=0,t=r.length;e<t;e++)if(n(r[e]))return!0}else{if(ve(r))return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return n(r.toJSON(),!0);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&n(r[e]))return!0}return!1}(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===L.EVENT?L.BINARY_EVENT:L.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==L.BINARY_EVENT&&e.type!==L.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){var e=be(e),t=this.encodeAsString(e.packet),e=e.buffers;return e.unshift(t),e}}function Oe(e){return"[object Object]"===Object.prototype.toString.call(e)}class ke extends s{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var n=(t=this.decodeString(e)).type===L.BINARY_EVENT;(!n&&t.type!==L.BINARY_ACK||(t.type=n?L.EVENT:L.ACK,this.reconstructor=new Te(t),0===t.attachments))&&super.emitReserved("decoded",t)}else{if(!ve(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;var n={type:Number(e.charAt(0))};if(void 0===L[n.type])throw new Error("unknown packet type "+n.type);if(n.type===L.BINARY_EVENT||n.type===L.BINARY_ACK){for(var r=t+1;"-"!==e.charAt(++t)&&t!=e.length;);r=e.substring(r,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){for(r=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";r=e.charAt(t+1);if(""!==r&&Number(r)==r){for(r=t+1;++t;){var i=e.charAt(t);if(null==i||Number(i)!=i){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){r=this.tryParse(e.substr(t));if(!ke.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case L.CONNECT:return Oe(t);case L.DISCONNECT:return void 0===t;case L.CONNECT_ERROR:return"string"==typeof t||Oe(t);case L.EVENT:case L.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===we.indexOf(t[0]));case L.ACK:case L.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Te{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){return this.buffers.push(e),this.buffers.length===this.reconPack.attachments?(e=_e(this.reconPack,this.buffers),this.finishedReconstruction(),e):null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function A(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ce=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ie extends s{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){var e;this.subs||(e=this.io,this.subs=[A(e,"open",this.onopen.bind(this)),A(e,"packet",this.onpacket.bind(this)),A(e,"error",this.onerror.bind(this)),A(e,"close",this.onclose.bind(this))])}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r;if(Ce.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');return t.unshift(e),!this._opts.retries||this.flags.fromQueue||this.flags.volatile?(n=((e={type:L.EVENT,data:t,options:{}}).options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(r=this.ids++,n=t.pop(),this._registerAckCallback(r,n),e.id=r),null==(r=null==(n=this.io.engine)?void 0:n.transport)?void 0:r.writable),r=this.connected&&!(null!=(r=this.io.engine)&&r._hasPingExpired()),this.flags.volatile&&!n||(r?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e)),this.flags={}):this._addToQueue(t),this}_registerAckCallback(t,n){var e=null!=(e=this.flags.timeout)?e:this._opts.ackTimeout;if(void 0===e)this.acks[t]=n;else{const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);n.call(this,new Error("operation has timed out"))},e);e=(...e)=>{this.io.clearTimeoutFn(r),n.apply(this,e)};e.withError=!0,this.acks[t]=e}}emitWithAck(t,...i){return new Promise((n,r)=>{var e=(e,t)=>e?r(e):n(t);e.withError=!0,i.push(e),this.emit(t,...i)})}_addToQueue(e){let n;"function"==typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...t)=>{if(r===this._queue[0])return null!==e?r.tryCount>this._opts.retries&&(this._queue.shift(),n)&&n(e):(this._queue.shift(),n&&n(null,...t)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){var t;!this.connected||0===this._queue.length||(t=this._queue[0]).pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:L.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{var e;this.sendBuffer.some(e=>String(e.id)===t)||(e=this.acks[t],delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected")))})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case L.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case L.EVENT:case L.BINARY_EVENT:this.onevent(e);break;case L.ACK:case L.BINARY_ACK:this.onack(e);break;case L.DISCONNECT:this.ondisconnect();break;case L.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length)for(const t of this._anyListeners.slice())t.apply(this,e);super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(t){const n=this;let r=!1;return function(...e){r||(r=!0,n.packet({type:L.ACK,id:t,data:e}))}}onack(e){var t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:L.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(t){if(this._anyListeners)if(t){var n=this._anyListeners;for(let e=0;e<n.length;e++)if(t===n[e])return n.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(t){if(this._anyOutgoingListeners)if(t){var n=this._anyOutgoingListeners;for(let e=0;e<n.length;e++)if(t===n[e])return n.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length)for(const t of this._anyOutgoingListeners.slice())t.apply(this,e.data)}}function P(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}P.prototype.duration=function(){var e,t,n=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(e=Math.random(),t=Math.floor(e*this.jitter*n),n=0==(1&Math.floor(10*e))?n-t:n+t),0|Math.min(n,this.max)},P.prototype.reset=function(){this.attempts=0},P.prototype.setMin=function(e){this.ms=e},P.prototype.setMax=function(e){this.max=e},P.prototype.setJitter=function(e){this.jitter=e};class Le extends s{constructor(e,t){super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,u(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!=(n=t.randomizationFactor)?n:.5),this.backoff=new P({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;var n=t.parser||r;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null!=(t=this.backoff)&&t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null!=(t=this.backoff)&&t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null!=(t=this.backoff)&&t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(!~this._readyState.indexOf("open")){this.engine=new fe(this.uri,this.opts);const r=this.engine,i=this,o=(this._readyState="opening",this.skipReconnect=!1,A(r,"open",function(){i.onopen(),t&&t()})),a=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()};var e=A(r,"error",a);if(!1!==this._timeout){var n=this._timeout;const s=this.setTimeoutFn(()=>{o(),a(new Error("timeout")),r.close()},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}this.subs.push(o),this.subs.push(e)}return this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(A(e,"ping",this.onping.bind(this)),A(e,"data",this.ondata.bind(this)),A(e,"error",this.onerror.bind(this)),A(e,"close",this.onclose.bind(this)),A(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){c(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ie(this,e,t),this.nsps[e]=n),n}_destroy(e){for(const t of Object.keys(this.nsps)){const e=this.nsps[t];if(e.active)return}this._close()}_packet(t){var n=this.encoder.encode(t);for(let e=0;e<n.length;e++)this.engine.write(n[e],t.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null!=(n=this.engine)&&n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect)||t.open(e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const x={};function D(e,t){"object"==typeof e&&(t=e,e=void 0);var e=function(e,t,n){let r=e;return n=n||"undefined"!=typeof location&&location,"string"==typeof(e=null==e?n.protocol+"//"+n.host:e)&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=k(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",e=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host,r.id=r.protocol+"://"+e+":"+r.port+t,r.href=r.protocol+"://"+e+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),n=e.source,r=e.id,i=e.path,i=x[r]&&i in x[r].nsps,i=t.forceNew||t["force new connection"]||!1===t.multiplex||i;let o;return o=i?new Le(n,t):(x[r]||(x[r]=new Le(n,t)),x[r]),e.query&&!t.query&&(t.query=e.queryKey),o.socket(e.path,t)}Object.assign(D,{Manager:Le,Socket:Ie,io:D,connect:D});var Ae=t(1800),Pe=t(1181);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Me(r.key),r)}}function De(e,t,n){return t&&xe(e.prototype,t),n&&xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t,n){(t=Me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Me(e){e=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===M(e)?e:String(e)}const je=De(function e(){if(this instanceof e)return j(this,"connect",function(){this.socket=D.connect(y.r.get("config.brandedServer"),{path:"/socket.io/v2/".concat(y.r.get("config.bot_key")),transports:["websocket","polling"],query:{session_id:y.r.get("status.sessionKey").substring(0,2)}});var t=this;return this.socket.on("connect",function(){var e;(0,g.bZ)("Socket connected ",y.r,t.socket.id),y.r.set("socketId",t.socket.id),clearInterval(null==(e=y.r.get("config"))?void 0:e.ackTimer),clearTimeout(null==(e=y.r.get("config"))?void 0:e.ackTimeout)})}),j(this,"disconnect",function(){var e;return null==(e=this.socket)?void 0:e.disconnect()}),j(this,"onSocketDisconnect",function(){var t=this;return this.socket.on("disconnect",function(){var e;(0,g.bZ)("Socket dis---connected",y.r),clearInterval(null==(e=y.r.get("config"))?void 0:e.ackTimer),clearTimeout(null==(e=y.r.get("config"))?void 0:e.ackTimeout),"true"===(0,g.t5)((0,h.LS)().GOT_UID)&&y.r.set("config.sessionExpired",!1),setTimeout(function(){var e;y.r.get("config.isChatOpened")&&(clearTimeout(null==(e=y.r.get("config"))?void 0:e.ackTimeout),t.socket.connect(),y.r.set("config.ackTimer",setInterval(function(){var e;y.r.get("config.isChatOpened")?((0,g.bZ)("Im dis-connected"),clearTimeout(null==(e=y.r.get("config"))?void 0:e.ackTimeout),t.socket.connect(),(0,g.bZ)("Trying to connect again")):(clearInterval(null==(e=y.r.get("config"))?void 0:e.ackTimer),clearTimeout(null==(e=y.r.get("config"))?void 0:e.ackTimeout))},2500)))},500)})}),j(this,"onWebsiteClose",function(){var t=this;window.onunload=function(){var e=parseInt(null!=(e=(0,g.t5)((0,h.LS)().TAB_COUNTER))?e:0)-1;e<1?((0,m.X6)()&&(0,m.B2)(!1),t.socket.disconnect(),(0,g.fN)((0,h.LS)().TAB_COUNTER,0)):(0,g.fN)((0,h.LS)().TAB_COUNTER,e),y.r.get("config.is_crm_update")&&(t.socket.emit("close_chat_widget",{user_id:y.r.get("status.sessionKey"),bot_key:y.r.get("config.bot_key")}),t.socket.disconnect())}}),j(this,"onSocketError",function(){var t=this;this.socket.on("error",function(e){(0,g.bZ)("Socket errored out",e),t.socket.disconnect()})}),j(this,"onSocketConnectError",function(){var e=this;this.socket.on("connect_error",function(){(0,g.bZ)("Socket connect errored out"),e.socket.io.opts.transports=["polling","websocket"]})}),j(this,"emitEvent",function(e,t){for(var n,r=arguments.length,i=new Array(2<r?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(n=this.socket).emit.apply(n,[e,t].concat(i))}),j(this,"emitAskUserId",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y.r.get("config.isLaunchScreenEnabled");return(0,g.bZ)("in emit ask user id",e),this.socket.emit("ask_userid",{user_id:y.r.get("status.sessionKey"),bot_key:y.r.get("config.bot_key"),launch_screen:e,session_expired:y.r.get("config.sessionExpired")})}),j(this,"onAskUserId",function(){return this.socket.on("ask_userid",function(){(0,g.bZ)("in ask_userid"),(0,m.Yy)(),y.r.set("config.sessionExpired",!0)})}),j(this,"gotUserId",function(){return this.socket.on("got_userid",function(){(0,g.bZ)("in got_userid")})}),j(this,"onWelcomeMsg",function(n,i,o,a,s,c){var r=this,e=i&&y.r.get("config.bot_mode")===f.Z_.WIDGET,l=(y.r.get("config.bot_mode"),f.Z_.STANDALONE,e?"launch_screen":"welcome_msg"),u=function(){var e=null,t=(y.r.get("config.user_attributes")&&(e=[].concat(y.r.get("config.user_attributes"))),a&&(e=(e||[]).concat(a)),window.location.href),n=document.title,r=(0,g.NB)(t,n),e=(e||[]).concat(r),r=o||y.r.get("config.launch_flow"),e={key:y.r.get("config.key"),user_id:y.r.get("status.sessionKey"),attributes:e,bot_key:y.r.get("config.bot_key"),welcome_msg_flag:y.r.get("config.welcome_msg"),first_time:y.r.get("firstTime"),launch_flow:r,launch_screen_flag:i,timezone:String(-(new Date).getTimezoneOffset()/60),web_url:t,web_page:n,postback_text:s,bot_messages:c};return i=!1,c=s=a=o="",e},d=function(){var e,t=y.r.get("ackMessageMap");for(e in t){var n={bot_key:y.r.get("config.bot_key"),message:t[e].message,user_id:y.r.get("status.sessionKey"),ack:e,key:y.r.get("config.key"),is_debug:y.r.get("config.is_debug")};r.emitEvent("user_msg",n),delete t[e]}y.r.set("ackMessageMap",t)},p=function(){y.r.set("config.welcome_msg",!1),y.r.set("config.launch_flow",!1)};return this.socket.off(l),this.socket.on(l,function(e){(0,g.fN)((0,h.LS)().GOT_UID,"true");var t="true"===(0,g.t5)((0,h.LS)().LIVECHAT);(0,g.bZ)("in init socketEvent msg",l,t),d(),n&&(0,m.An)(u(),e),p()})}),j(this,"updateAttribute",function(){var e,t,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];null!=r&&r.length&&(e=window.location.href,t=document.title,n=y.r.get("config.bot_mode")===f.Z_.WIDGET,n={key:y.r.get("config.key"),user_id:y.r.get("status.sessionKey"),bot_key:y.r.get("config.bot_key"),first_time:!1,timezone:String(-(new Date).getTimezoneOffset()/60),launch_screen_flag:n,attributes:r,web_url:e,web_page:t},(0,m.An)(n,{}))}),j(this,"askUserName",function(){this.socket.emit("manage_user_name",{user_id:y.r.get("status.sessionKey"),bot_key:y.r.get("config.bot_key"),message:{type:"ask_user_name"}})}),j(this,"playLiveChatNotfication",function(e){"true"===(0,g.t5)((0,h.LS)().LIVECHAT)&&y.r.get("config.is_agent_notifications_enabled")&&(0,Pe.Qg)(e)}),j(this,"onBotResponse",function(){return this.socket.on("bot_response",function(e){y.r.get("config.isAnimating")?document.getElementById("txMessage").disabled=!0:(e=JSON.parse(e),(0,Pe.Qg)(e),(0,m.CT)(e))})}),j(this,"changeChatStatus",function(e,t){return this.socket.emit("chat_status_change",{user_id:y.r.get("status.sessionKey"),bot_key:y.r.get("config.bot_key"),message:{text:e,type:"chat_status_change",isOpen:t},localStorage:{NEW_SESSION:(0,g.t5)((0,h.LS)().NEW_SESSION),LIVECHAT:(0,g.t5)((0,h.LS)().LIVECHAT),PREV_MESSAGES:(0,g.t5)((0,h.LS)().PREV_MESSAGES),IS_NOTIFED:(0,g.t5)((0,h.LS)().IS_NOTIFED),GOT_UID:(0,g.t5)((0,h.LS)().GOT_UID),TAB_COUNTER:(0,g.t5)((0,h.LS)().TAB_COUNTER),SCREEN_TYPE:y.r.get("currentScreen")}})}),j(this,"getAttachmentTransactionId",function(){return this.socket.emit("generate_transaction_id",{user_id:y.r.get("status.sessionKey"),bot_key:y.r.get("config.bot_key"),message:{text:"generate_transaction_id",type:"generate_transaction_id"}})}),j(this,"onAttachmentTransId",function(){return this.socket.on("transaction_id_received",function(e){e=JSON.parse(e).transaction_id;y.r.set("attachmentTransactionId",e)})}),j(this,"onChatHistoryMsgs",function(){return this.socket.on("chat_history_publish",function(e){(0,Pe.YP)(JSON.parse(e))})}),j(this,"onLocaleChange",function(){return this.socket.on("user_locale_change",function(e){(0,g.bZ)("in user_locale_change",e);e=(e=JSON.parse(e)).locale,e=e&&e.split("-")[0];(0,g.i7)(e),y.r.get("config.botLanguage")!==e&&(y.r.set("config.botLanguage",e),(0,Ae.gQ)())})}),e.instance||(e.instance=this).connect(),e.instance;throw new TypeError("Cannot call a class as a function")})},5261:(e,t,n)=>{"use strict";n.d(t,{Me:()=>I,S5:()=>C,g_:()=>L,p7:()=>T});var l=n(9601),s=n(1366),d=n(1102),r=n(7410),i=n(1042),o=n(536),p=n(4769),f=n(9914),a=n(8880);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){k=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==O(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function h(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){c(r,t,n,i,o,"next",e)}function o(e){c(r,t,n,i,o,"throw",e)}i(void 0)})}}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function g(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===O(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}var m="input",y="listening",v="processing_input",b="waiting_for_response",_="speaking",w="exiting_voice",E=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia},S={isPlaying:!1,queue:[],player:new Audio,stop:function(){this.player.pause(),this.player.src="",this.player.currentTime=0,this.isPlaying=!1,this.queue=[]}},T=(S.player.addEventListener("ended",function(){S.isPlaying=!1,S.queue.length?T(S.queue.pop()):f.r.get("speech.allowContinuousMode")&&f.r.get("inputMode")!==r.Q4.INPUT&&!f.r.get("speech.pauseAfterCurrentAudio")?C.changeInputMode(r.Q4.LISTENING):C.changeInputMode(r.Q4.INPUT)}),function(e){var t;!e.message.voice_url&&f.r.get("speech.allowVoiceOutput")&&f.r.get("inputMode")===b&&(clearTimeout(f.r.get("speech.nonVoiceTimeout")),f.r.set("speech.nonVoiceTimeout",setTimeout(function(){C.changeInputMode("input"),f.r.set("inputMode","input")},2500))),null!=e&&null!=(t=e.message)&&t.voice_url&&C.playAudio(e)}),C={engine:void 0,audioChunks:[],playAudio:function(e){var t=(e.message||{}).voice_url;C.changeInputMode(_),t&&f.r.get("speech.allowVoiceOutput")&&(clearTimeout(f.r.get("speech.nonVoiceTimeout")),f.r.get("inputMode")!==r.Q4.WAIT_FOR_RESPONSE&&f.r.get("inputMode")!==r.Q4.SPEAKING||(S.queue.length||S.isPlaying?S.isPlaying&&S.queue.push(e):(S.player.src=t,S.player.play(),S.isPlaying=!0),f.r.set("speech.pauseAfterCurrentAudio",!1)))},stopAudio:function(){S.stop()},changeInputMode:function(e){var t=f.r.get("inputMode");if(t!==e){(0,p.fF)("state changed from ".concat(t," to ").concat(e));var n=document.getElementById("engt-non-input-mode"),r=document.querySelector(".engt-reply-area"),i=g({},f.r.get("speech")),o=document.querySelector("#engtVoiceWrapper"),a=document.getElementById("engtVoiceInputBtn"),s=function(e){1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||n.removeAttribute("class"),(0,p.cn)(n,e)};switch(t===_&&e!==_&&(i.audioObj.pause(),i.audioPlaying=!1,i.voiceQueue=[],f.r.set("speech",i)),t===y&&e!==y&&(i.allowSpeechRecognition?(i.speechRecognizing=!1,C.engine.stop()):i.allowAudioConversation&&(i.transactionId=null,C.stopRecording())),f.r.set("inputMode",e),e){case m:c(),(0,p.QT)();break;case y:s("engt-voice-input"),i.allowSpeechRecognition?C.startSpeechRecognition():i.allowAudioConversation&&(C.startRecording(),C.isSafari)&&(s("engt-init-mode",!1),setTimeout(function(){(0,p.IV)(n,"engt-init-mode")},1500));break;case v:f.r.get("config.isLLMEnabled")&&f.r.get("config.isVoiceLLMConfigEnabled")?C.handleLlmSpeechToTextProcessing():s("engt-processing-mode");break;case b:s("engt-waiting-mode");break;case _:s("engt-speaking-mode");break;case w:s("engt-exiting-input-mode"),setTimeout(function(){C.changeInputMode(m)},1500);break;default:s("engt-hidden",!1),f.r.get("isMobileOrTablet")||(0,p.$U)()}}function c(){C.stopAudio(),s("engt-hidden",!1),r.classList.remove("engt-hidden"),o.classList.remove("engtVoiceWrapper"),a.innerHTML=(0,l.x)(),C.isMobileOrTablet||(0,p.$U)()}},startRecording:function(){function e(e){n.mediaRecorder=new MediaStreamRecorder(e),n.stream=e,n.mediaRecorder.mimeType="audio/wav",n.mediaRecorder.audioChannels=1,n.mediaRecorder.ondataavailable=function(e){n.transactionId&&e.size<=n.MIN_AUDIO_RECORDING_FILE_SIZE?(e={file:e,fileUploadBaseURL:f.r.get("fileUploadBaseURL"),finalTransactionId:n.transactionId,bot_ref:f.r.get("bot_ref")},C.changeInputMode(v),C.upload(e)):C.changeInputMode(m),C.stop(),n.transactionId=null},n.mediaRecorder.start(n.MAX_RECORD_TIME)}function t(e){console.error("media error",e)}var n=f.r.get("speech"),r={audio:!0},r=(navigator.getUserMedia?navigator.getUserMedia(r,e,t):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(r).then(e).catch(t),{type:"audio",text:null,fusToken:null,domain:f.r.get("config.brandedServer")});n.transactionId=null,L(r,!1)},stopRecording:function(){f.r.get("speech").mediaRecorder.stop(),f.r.get("speech").stream.getTracks().forEach(function(e){e.stop()})},upload:function(e){function t(e){C.changeInputMode(m),(0,p.fF)("Error occured in upload audio".concat(e.message))}var n=e.file,r=e.finalTransactionId,e=e.bot_ref,i=new FormData;i.append("file",n),i.append("workflow","VOICE_UPLOAD_WITH_EXPIRE"),i.append("application","engati-voice-service");try{(0,o.h)("GET",(0,s.f4)().ATTACHMENTS,{async:!1,headers:{transactionId:r,customInfo:JSON.stringify({user_id:f.r.get("status.sessionKey"),bot_ref:e,timeStamp:(new Date).getTime()})}}).then(function(e){return(0,p.pX)(e)?JSON.parse(e.responseText):{}}).then(function(e){e.responseObject.token,f.r.get("config.brandedServer")}).catch(t)}catch(e){t(e)}},updateInputArea:function(e,t,n){var r=document.getElementById("engtUserMessage");r.setAttribute("contenteditable",n),r.innerHTML=t,document.getElementById("engtVoiceInputBtn").disabled=e},handleLlmSpeechToTextProcessing:function(){var e;this.updateInputArea(!0,f.r.get("config.processingInputText"),"false"),(0,p.t5)((0,i.LS)().STOP_AUDIO_RECORDING)?(C.changeInputMode(m),C.updateInputArea(!1,"","true"),(0,p.p4)((0,i.LS)().STOP_AUDIO_RECORDING)):(e={audioBlob:new Blob(C.audioChunks,{type:"audio/wav"}),bot_ref:f.r.get("config.botRef"),bot_key:f.r.get("config.bot_key"),user_id:f.r.get("status.sessionKey")},C.speechToTextForLLM(e))},speechToTextForLLM:function(e){function n(e){t.updateInputArea(!1,"","true"),C.changeInputMode(m),(0,p.fF)("Error occured in LLM speech to text api call: ".concat(e.message))}var t=this,r=(0,p.Wz)(),i=e.audioBlob,o=(e.bot_ref,e.bot_key),e=e.user_id,a=new FormData,o=JSON.stringify({bot_key:o,user_id:e,timestamp:(new Date).getTime()});a.append("file",i),a.append("request",o);try{r.open("POST",(0,s.a$)().VOICE_LLM_STT_PATH,!0),r.onload=function(){var t,e;try{t=JSON.parse(r.response)}catch(e){t=r.responseText}4===this.readyState&&200===this.status&&(1e3===(null==(e=t)||null==(e=e.status)?void 0:e.code)?(e=t.response.speechToText,C.changeInputMode(m),C.updateInputArea(!1,e,"true")):n(t.status))},r.send(a)}catch(e){n(e)}},startSpeechRecognition:function(){f.r.get("speech").speechRecognizing?C.engine.stop():(f.r.get("config.isLLMEnabled")&&f.r.get("config.isVoiceLLMConfigEnabled")||(C.engine.continuous=!1,C.engine.interimResults=!0,C.engine.lang=f.r.get("userLocale")||"en-US"),C.engine.start(),(0,p.b3)())}},I=function(e){var n,e=e||{},t=e.voice_config,e=e.voice_input_enabled,r=-1!=navigator.userAgent.indexOf("Firefox"),i=!r&&(window.SpeechRecognition||window.webkitSpeechRecognition||null),o=E()||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,a=t&&t.audio_conversation_enabled,r=i&&!r&&(e||a),e=!r&&o&&a,s=(r||e)&&t&&t.enable_continuous_voice,o=t&&t.audio_conversation_enabled&&!!Audio,c=f.r.get("speech");function l(){return(l=h(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=navigator.mediaDevices)&&t.getUserMedia)return e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});e.next=17;break;case 4:return t=e.sent,n=new MediaRecorder(t),c.mediaRecorder=n,c.stream=t,f.r.set("speech",c),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(1),console.error("The following error occurred: "+e.t0);case 15:e.next=18;break;case 17:console.error("getUserMedia is not supported in this browser");case 18:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function u(){return(u=h(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.r.get("config.isLLMEnabled")&&f.r.get("config.isVoiceLLMConfigEnabled"))return e.next=3,function(){return l.apply(this,arguments)}();e.next=6;break;case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=new i;case 7:return t=e.t0,e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}c=g(g({},c),{},{allowSpeechRecognition:r,allowAudioConversation:e,allowContinuousMode:s,allowVoiceOutput:o}),e&&(navigator.getUserMedia=E(),(a=document.createElement("script")).src=d.Y3.RECORDER,document.head.appendChild(a)),o&&(c.audioObj=new Audio,c.audioObj.addEventListener("ended",function(){(0,p.fF)("audio ended"),c.audioPlaying=!1,c.voiceQueue.length?(C.playAudio(c.voiceQueue[0]),c.voiceQueue.shift()):s&&f.r.get("inputMode")!==m&&!c.pauseAfterCurrentAudio?C.changeInputMode(y):C.changeInputMode(m)})),f.r.set("speech",c),c.allowSpeechRecognition&&(n="",function(){return u.apply(this,arguments)}().then(function(e){e.onerror=function(e){(0,p.fF)(e),c.speechRecognizing=!1,n=""},e.onstart=function(){(0,p.fF)("Speech recognition service has started"),c.speechRecognizing=!0,n="",C.audioChunks=[]},e.ondataavailable=function(e){C.audioChunks.push(e.data)},e.onend=function(){var e;(0,p.fF)("Speech recognition service disconnected"),c.speechRecognizing&&n?c.allowVoiceOutput?(document.querySelector(".engt-sheet-content"),e={type:"audio",text:n,fusToken:null,domain:f.r.get("config.brandedServer")},L(e,!1),C.changeInputMode(b)):(L(n,!1),f.r.get("inputMode")===y&&C.changeInputMode(m)):f.r.get("inputMode")===y&&C.changeInputMode(w),c.speechRecognizing=!1,n=""},e.onstop=function(){(0,p.fF)("Media Recorder stream stopped"),C.changeInputMode(v),c.speechRecognizing=!1},e.onresult=function(e){for(var t=e.resultIndex;t<e.results.length;++t)e.results[t].isFinal&&(n+=e.results[t][0].transcript)},C.engine=e}).catch(function(e){console.error("Error initializing speech engine: ",e)}))},L=function(e,t){t&&document.getElementById("engtUserMessage").focus(),""!==e&&("true"===(0,p.t5)((0,i.LS)().GOT_UID)?"object"!==O(e)?f.r.get("sendMessage")(e):f.r.get("sendMessage")(e.text,{message:e}):((0,a.zP)(),(0,a.T)()))}},6109:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,y:()=>i});var s,c=n(2688),l=n(9601),u=n(1102),d=n(4769),r=n(9914),p=n(5261);function f(e){e=e.fromSubscription(r.r.get("config.azureVoiceIntegrationKey"),r.r.get("config.azureVoiceIntegrationRegion"));return e.speechRecognitionLanguage="en-IN",e}var i=function(){var i;function o(e,t){t=t.result;(0,p.g_)(t.text,!1)}function a(e,t){window.console.log(t)}document.getElementById("engtVoiceInputBtn").addEventListener("click",function(){var e=document.querySelector(".engt-reply-area"),t=document.querySelector("#engt-non-input-mode"),n=document.getElementById("engtVoiceWrapper"),r=document.getElementById("engtVoiceInputBtn");(0,d.pv)(e,"engt-hidden")?(i.stopContinuousRecognitionAsync(function(){i.close(),i=void 0},function(e){window.console.log(e),i.close(),i=void 0}),t.style.display="none",e.classList.remove("engt-hidden"),n.classList.remove("engtVoiceWrapper"),r.innerHTML=(0,l.x)()):(function(){var e=s.AudioConfig.fromDefaultMicrophoneInput(),t=f(s.SpeechConfig);t&&((t=i=new s.SpeechRecognizer(t,e)).recognized=o,t.canceled=a,i.startContinuousRecognitionAsync())}(),e.classList.add("engt-hidden"),n.classList.add("engtVoiceWrapper"),t.style.display="block",r.innerHTML=(0,c.y)(u.UW.THEME_COLOR))}),window.SpeechSDK&&(s=window.SpeechSDK)},o=function(e){var t=f(s.SpeechConfig),n=new s.SpeechSynthesizer(t);n.speakTextAsync(e,function(e){startSpeakTextAsyncButton.disabled=!1,window.console.log(e),n.close(),n=void 0},function(e){window.console.log(e),n.close(),n=void 0})}},7329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r="undefined"!=typeof Map?Map:(Object.defineProperty(i.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),i.prototype.get=function(e){e=o(this.__entries__,e),e=this.__entries__[e];return e&&e[1]},i.prototype.set=function(e,t){var n=o(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},i.prototype.delete=function(e){var t=this.__entries__,e=o(t,e);~e&&t.splice(e,1)},i.prototype.has=function(e){return!!~o(this.__entries__,e)},i.prototype.clear=function(){this.__entries__.splice(0)},i.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},i);function i(){this.__entries__=[]}function o(e,n){var r=-1;return e.some(function(e,t){return e[0]===n&&(r=t,!0)}),r}var a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),c="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},l=2;var u=["top","right","bottom","left","width","height","size","weight"],d="undefined"!=typeof MutationObserver,p=(f.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},f.prototype.removeObserver=function(e){var t=this.observers_,e=t.indexOf(e);~e&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},f.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},f.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),0<e.length},f.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},f.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},f.prototype.onTransitionEnd_=function(e){var e=e.propertyName,t=void 0===e?"":e;u.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},f.getInstance=function(){return this.instance_||(this.instance_=new f),this.instance_},f.instance_=null,f);function f(){function e(){o&&(o=!1,r()),a&&n()}function t(){c(e)}function n(){var e=Date.now();if(o){if(e-s<l)return;a=!0}else a=!(o=!0),setTimeout(t,i);s=e}var r,i,o,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(r=this.refresh.bind(this),a=o=!(i=20),s=0,n)}var h=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},g=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},m=E(0,0,0,0);function y(e){return parseFloat(e)||0}function v(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(e,t){return e+y(n["border-"+t+"-width"])},0)}function b(e){var t,n,r,i,o,a,s=e.clientWidth,c=e.clientHeight;return s||c?(n=(t=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=y(o)}return t}(a=g(e).getComputedStyle(e))).left+t.right,r=t.top+t.bottom,i=y(a.width),o=y(a.height),"border-box"===a.boxSizing&&(Math.round(i+n)!==s&&(i-=v(a,"left","right")+n),Math.round(o+r)!==c)&&(o-=v(a,"top","bottom")+r),e!==g(e).document.documentElement&&(a=Math.round(i+n)-s,e=Math.round(o+r)-c,1!==Math.abs(a)&&(i-=a),1!==Math.abs(e))&&(o-=e),E(t.left,t.top,i,o)):m}var _="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof g(e).SVGGraphicsElement}:function(e){return e instanceof g(e).SVGElement&&"function"==typeof e.getBBox};function w(e){var t;return a?_(e)?E(0,0,(t=(t=e).getBBox()).width,t.height):b(e):m}function E(e,t,n,r){return{x:e,y:t,width:n,height:r}}O.prototype.isActive=function(){var e=w(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},O.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var S=O;function O(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=e}var k=function(e,t){n=(t=t).x,r=t.y,o=t.width,t=t.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(i.prototype),h(i,{x:n,y:r,width:o,height:t,top:r,right:n+o,bottom:t+r,left:n});var n,r,i,o=i;h(this,{target:e,contentRect:o})},T=(C.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},C.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new k(e.target,e.broadcastRect())}),this.callback_.call(e,t,e),this.clearActive())},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return 0<this.activeObservations_.length},C);function C(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}var I=new("undefined"!=typeof WeakMap?WeakMap:r),L=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=p.getInstance(),t=new T(t,n,this);I.set(this,t)};["observe","unobserve","disconnect"].forEach(function(t){L.prototype[t]=function(){var e;return(e=I.get(this))[t].apply(e,arguments)}});const A=void 0!==s.ResizeObserver?s.ResizeObserver:L},8884:function(e,t){var n,r;r=[],n=function(){"use strict";var g=function(e){return e&&"getComputedStyle"in window&&window.getComputedStyle(e)["scroll-behavior"]==="smooth"};if(typeof window==="undefined"||!("document"in window))return{};var r=function(c,n,l){n=n||999;if(!l&&l!==0)l=9;var t;var u=function(e){t=e};var d=function(){clearTimeout(t);u(0)};var p=function(e){return Math.max(0,c.getTopOf(e)-l)};var f=function(e,r,i){d();if(r===0||r&&r<0||g(c.body)){c.toY(e);if(i)i()}else{var o=c.getY();var a=Math.max(0,e)-o;var s=(new Date).getTime();r=r||Math.min(Math.abs(a),n);(function n(){u(setTimeout(function(){var e=Math.min(1,((new Date).getTime()-s)/r);var t=Math.max(0,Math.floor(o+a*(e<.5?2*e*e:e*(4-e*2)-1)));c.toY(t);if(e<1&&c.getHeight()+t<c.body.scrollHeight)n();else{setTimeout(d,99);if(i)i()}},9))})()}};var h=function(e,t,n){f(p(e),t,n)};var e=function(e,t,n){var r=e.getBoundingClientRect().height;var i=c.getTopOf(e)+r;var o=c.getHeight();var a=c.getY();var s=a+o;if(p(e)<a||r+l>o)h(e,t,n);else if(i+l>s)f(i-o+l,t,n);else if(n)n()};var r=function(e,t,n,r){f(Math.max(0,c.getTopOf(e)-c.getHeight()/2+(n||e.getBoundingClientRect().height/2)),t,r)};var i=function(e,t){if(e===0||e)n=e;if(t===0||t)l=t;return{defaultDuration:n,edgeOffset:l}};return{setup:i,to:h,toY:f,intoView:e,center:r,stop:d,moving:function(){return!!t},getY:c.getY,getTopOf:c.getTopOf}},i=document.documentElement,t=function(){return window.scrollY||i.scrollTop},c=r({body:document.scrollingElement||document.body,toY:function(e){window.scrollTo(0,e)},getY:t,getHeight:function(){return window.innerHeight||i.clientHeight},getTopOf:function(e){return e.getBoundingClientRect().top+t()-i.offsetTop}});if(c.createScroller=function(t,e,n){return r({body:t,toY:function(e){t.scrollTop=e},getY:function(){return t.scrollTop},getHeight:function(){return Math.min(t.clientHeight,window.innerHeight||i.clientHeight)},getTopOf:function(e){return e.offsetTop}},e,n)},"addEventListener"in window&&!window.noZensmooth&&!g(document.body)){var l="history"in window&&"pushState"in history;var u=l&&"scrollRestoration"in history;if(u)history.scrollRestoration="auto";window.addEventListener("load",function(){if(u){setTimeout(function(){history.scrollRestoration="manual"},9);window.addEventListener("popstate",function(e){if(e.state&&"zenscrollY"in e.state)c.toY(e.state.zenscrollY)},false)}if(window.location.hash)setTimeout(function(){var e=c.setup().edgeOffset;if(e){var t=document.getElementById(window.location.href.split("#")[1]);if(t){var n=Math.max(0,c.getTopOf(t)-e);var r=c.getY()-n;if(0<=r&&r<9)window.scrollTo(0,n)}}},9)},false);var d=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(e){var t=e.target;while(t&&t.tagName!=="A")t=t.parentNode;if(!t||e.which!==1||e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return;if(u){var n=history.state&&typeof history.state==="object"?history.state:{};n.zenscrollY=c.getY();try{history.replaceState(n,"")}catch(e){}}var r=t.getAttribute("href")||"";if(r.indexOf("#")===0&&!d.test(t.className)){var i=0;var o=document.getElementById(r.substring(1));if(r!=="#"){if(!o)return;i=c.getTopOf(o)}e.preventDefault();var a=function(){window.location=r};var s=c.setup().edgeOffset;if(s){i=Math.max(0,i-s);if(l)a=function(){history.pushState({},"",r)}}c.toY(i,null,a)}},false)}return c}(),void 0!==(t="function"==typeof n?n.apply(t,r):n)&&(e.exports=t)},5212:(e,t,n)=>{"use strict";e.exports=n.p+"assets/cardImg.svg"},8684:(e,t,n)=>{"use strict";e.exports=n.p+"assets/down.svg"},4739:(e,t,n)=>{"use strict";e.exports=n.p+"assets/up.svg"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return void 0!==t||(t=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__)),t.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var e,t=__webpack_require__.g.document;if(e||!t||(e=t.currentScript?t.currentScript.src:e)||(t=t.getElementsByTagName("script")).length&&(e=t[t.length-1].src),!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var __webpack_exports__={};(()=>{"use strict";var h=__webpack_require__(7410),g=__webpack_require__(4769),m=__webpack_require__(9914),R=__webpack_require__(3763),a=__webpack_require__(1800),l=__webpack_require__(1181),y=__webpack_require__(1102);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function G(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}var F={style:"",id:"",color:{text:"",bg:""},count:0};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function H(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var q=function(){function o(e){var t,n,r,i;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");r=this,n=function(e,t){e&&document.getElementById(e)&&(t?(document.getElementById(e).innerText=(0,g.oY)(t),g.IV):(document.getElementById(e).innerText=0,g.cn))(document.getElementById(e),"engt-badge-hidden")},(t=H(t="setBadgeCount"))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r=e,F=G(G({},F),r),this.init(),this.html=(n=void 0===(n=(t=F).style)?"":n,e=void 0===(e=t.id)?"":e,r=t.type,t=t.count,i="",r===h.K_.MINI?i="engt-badge-mini":r===h.K_.SMALL?i="engt-badge-small":r===h.K_.MEDIUM?i="engt-badge-medium":r===h.K_.LARGE&&(i="engt-badge-large"),'\n\t\t<div class="engt-badge '.concat(i,'" id="').concat(e,'" style="').concat(n,'">').concat(t,"</div>\n    "))}var e,t,n;return e=o,(t=[{key:"init",value:function(){m.r.set("setBadgeCount",this.setBadgeCount)}},{key:"render",value:function(){return this.html}}])&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(),u=__webpack_require__(8880),W={url:y.Ff,calloutMessage:"",showClosedCallout:!1,showMinimizedPopup:!1},V=__webpack_require__(5987);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function z(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}var J=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){this.data=W,this.setter({url:m.r.get("config.icon_url"),calloutMessage:m.r.get("config.popupMessage")})}},{key:"initWrapper",value:function(){var e,t,n=document.createElement("div");n.className="engt-launch-icon-box",n.innerHTML=(e=this.data,t=void 0===(t=e.calloutMessage)?"":t,e=e.url,t='\n\t\t<div id="engtClosedCallout" class="engt-closed-callout-hidden">\n\t\t\t<div class="engt-closed-callout-btn">'.concat((0,V.W)("#000","24"),'</div>\n\t\t\t<div id="engtCalloutText" class="engt-closed-callout-text">').concat(t,"</div>\n\t\t</div>"),"\n\t\t".concat(t,'\n\t\t<img \n\t\t\ttabindex="0" \n\t\t\tsrc="').concat(e,'"\n\t\t\tid="engtLauncherIcon"  \n\t\t\tclass="engt-launcher-icon engt-launcher-icon-animate engt-tab-selectable" \n\t\t\talt="bot-launch-icon"\n\t\t\tloader="lazy"\n\t\t/>\n\t\t<div class="engt-notification-badge">\n\t\t\t<notification-badge></notification-badge>\n\t\t</div>\n    ')),this.html=n}},{key:"initComponents",value:function(){var e=new q({id:y.Wz.UNREAD_NOTIFICATION_BADGE,type:h.K_.SMALL,count:0}).render();(0,g.z_)(this.html.querySelector("notification-badge"),e)}},{key:"initEventHandlers",value:function(){this.html.querySelector("#engtLauncherIcon").addEventListener("click",function(){m.r.get("onLauncherClick")()}),this.html.querySelector("#engtCalloutText").addEventListener("click",function(){m.r.get("onLauncherClick")()}),this.html.querySelector("#engtLauncherIcon").addEventListener("keydown",function(e){m.r.get("onEnterPress")(m.r.get("onLauncherClick"))}),this.html.querySelector("#engtLauncherIcon").addEventListener("error",function(e){this.onerror=null,this.src=y.ZI}),this.html.querySelector(".engt-closed-callout-btn").addEventListener("click",function(){var e,t;null!=(t=m.r.get("config.trigger_configurations"))&&t.length&&"block"===(null==(t=document.getElementById("engt-triggers-wrapper"))||null==(e=t.style)?void 0:e.display)&&((0,g.IV)(t,"engt-triggers-callout-animation-up"),(0,g.cn)(t,"engt-triggers-callout-animation-down")),m.r.get("hideClosedCallout")()});function i(){var e=document.getElementById("engt-popup");(0,g.IV)(e,"engt-popup-hidden"),(0,g.IV)(e,"engt-popup-hidden-size"),(0,g.cn)(document.getElementById("engtWrapper"),"engt-wrapper-open"),m.r.get("getCurrentScreen")()===h.xe.CHAT?((0,g.cn)(e,"engt-chat-screen-open"),g.oQ.messagesIn()):((0,g.cn)(e,"engt-launch-screen-open"),g.oQ.launchScreenIn()),(0,g.C5)(e)}function o(){var e=document.getElementById("engtLauncherIcon");t(),(0,g.cn)(e,"engt-launcher-icon-hidden"),(0,g.IV)(e,"engt-launcher-icon-animate")}var t=function(){var e=document.getElementById("engtClosedCallout");(0,g.cn)(e,"engt-closed-callout-close-animation"),setTimeout(function(){(0,g.cn)(e,"engt-closed-callout-hidden"),(0,g.IV)(e,"engt-closed-callout-close-animation")},1e3)};m.r.set("hideClosedCallout",t),m.r.set("hideMinimizedCallout",function(){(0,g.IV)(document.getElementById("engt-popup"),"engt-popup-minimized")}),m.r.set("hideLauncherBtn",o),m.r.set("openPopup",i),m.r.set("onLauncherClick",function(){var e,t,n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],r=document.querySelector("#engtLauncherIcon");null!=(t=m.r.get("config"))&&null!=(t=t.engagement_triggers_config)&&t.enabled&&"block"===(null==(t=document.getElementById("engt-triggers-wrapper"))||null==(e=t.style)?void 0:e.display)&&(t.style.display="none",(0,g.IV)(t,"engt-triggers-callout-animation-up"),(0,g.IV)(t,"engt-triggers-callout-animation-down")),m.r.get("startConvoAdded")&&0<(null==(t=null==(e=document)?void 0:e.querySelectorAll("[data-interactive-field]:not([disabled])"))?void 0:t.length)&&null!=t&&t.forEach(function(e){var t;null!=e&&null!=(t=e.classList)&&t.contains("engt-ratings")?e.setAttribute("data-rating-disabled","true"):e.setAttribute("disabled",!0)}),r.setAttribute("tabindex",-1),i(),o(),(0,u.T)(n),(0,l.Uu)(),m.r.set("config.isChatOpened",!0),m.r.get("getCurrentScreen")()===h.xe.CHAT&&(0,l.ZN)(),(0,g.Qf)()})}},{key:"setter",value:function(e){this.data=z(z({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&K(e.prototype,n),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),X=__webpack_require__(5062),Z=__webpack_require__(5212),Q=__webpack_require__(8907),$=__webpack_require__(1366);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function te(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ee(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?re(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(n){var r=this,i=(0,g.Wz)(),e=new FormData;this.fileUploadBtn=document.querySelector("#engtAttachmentInput");var t=ne(null==(t=this.fileUploadBtn)?void 0:t.files,1)[0];if(t&&m.r.get("attachmentTransactionId")){e.append("file",t),e.append("workflow","BOT_V2_ATTACHMENT"),e.append("application","engati-bot-v2");try{i.open("POST",(0,$.a$)().ATTACHMENTS,!0),i.setRequestHeader("transactionId",m.r.get("attachmentTransactionId")||""),i.setRequestHeader("timeStamp",(new Date).getTime()),i.setRequestHeader("customInfo",JSON.stringify({user_id:m.r.get("status.sessionKey"),bot_ref:parseInt(m.r.get("config.botRef"))})),i.onreadystatechange=function(){var t,e;try{t=JSON.parse(i.responseText)}catch(e){t=i.responseText}4===this.readyState&&200===this.status&&(1e3===(null==(e=t)||null==(e=e.status)?void 0:e.code)?(r.closeModal(),function(e,t){var n=ne(null==(n=this.fileUploadBtn)?void 0:n.files,1)[0],e=(null==e?void 0:e.responseObject)||{},r=e.url,i=e.name,o=e.mimeType,a=e.token,e=e.size,s="file";-1<n.type.indexOf("image")?s="image":-1<n.type.indexOf("audio")&&(s="audio");n={type:"file",url:r,name:i,transaction_id:null,mime_type:o,token:a,message_text:t},o={session_id:"",message_id:"",message:{data:"image"===s?{alt_text:i,image_url:r,message_text:t}:te({file_size:e,file_name:i,alt_text:i,file_url:r,message_text:t},"audio"===s&&{audio_url:r}),type:s,sender:"user"},messageToBeDisplayed:t||i,sender:"user",timestamp:(new Date).getTime()};m.r.get("sendMessage")(t||i,{message:n,skipAppendToDom:!0}),(0,l.Tx)(o,{storeMsgInLs:!0,isOldMessage:!1})}.call(r,t,n),(0,u.w4)()):(e=28009!==(null==(e=t)||null==(e=e.status)?void 0:e.code)&&28010===(null==(e=t)||null==(e=e.status)?void 0:e.code)?"Invalid File Size, size limit is 25MB!":"File not supported",r.html.querySelector(".engt-upload-error").innerText=e,r.stopLoader(),(0,g.fF)("File upload error -> ".concat(t," >> data >> ").concat(r.data))))},i.send(e)}catch(e){r.stopLoader(),(0,g.fF)("File upload error -> ".concat(e," >> data >> ").concat(r.data))}}else r.stopLoader()}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ae(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ce(e){e=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===c(e)?e:String(e)}var le=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(),this.initWrapper(),this.initEvents(),this.initHelpers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){this.data={},this.setter({placeholder:m.r.get("config.textAreaPlaceholder")})}},{key:"initWrapper",value:function(){this.attachmentPreview=document.createElement("div"),this.attachmentPreview.innerHTML=function(e){e=(e||{}).placeholder;return'\n\t\t<div class="engt-preview-img">\n\t\t\t<img src="" id="attachmentPreviewImg" onerror="this.src=\''.concat(Z,'\'" loader="lazy"/>\n\t\t\t<div class="engt-preview-text" id="attachmentPreviewFileName"></div>\n\t\t\t<div class="engt-upload-error"></div>\n\t\t</div>\n        <div class="engt-preview-respond">\n            <div\n\t    \t\trole="textbox"\n\t    \t\tcontenteditable\n\t\t\t\tid="sendAttachmentInputBox"\n\t    \t\tclass="engt-attachment-respondbox"\n\t    \t\tdata-placeholder="').concat(e,'"\n\t    \t></div>\n            <button\n\t    \t\tid="sendAttachmentBtn"\n\t    \t\tclass="engt-btn-icons engt-tab-selectable engt-reply-btns"\n\t    \t\taria-label="Send Attachment With Message"\n\t    \t>\n\t    \t\t').concat((0,Q.h)(),'\n\t    \t</button>\n        </div>\n\t\t<div id="attachmentPreviewLoader" class="engt-loader"></div>\n    ')}(this.data),this.attachmentPreview.className="engt-attachment-modal-content",this.modal=new X.u({wrapperId:"replyAreaUpload",contentId:"replyAreaUploadContent",content:this.attachmentPreview,contentCss:"background-color: transparent"}),this.html=this.modal.render()}},{key:"initEvents",value:function(){var r=this;this.attachmentInput=this.html.querySelector("#sendAttachmentInputBox"),this.attachmentInput.addEventListener("keydown",function(e){var t,n=null==(e=e.currentTarget.textContent)||null==(t=e.trim)?void 0:t.call(e);n&&m.r.get("onEnterPress")(function(){r.showLoader(),ie.call(r,n)})}),this.html.querySelector("#sendAttachmentBtn").addEventListener("click",function(){var e,t=null==(e=r.attachmentInput)||null==(e=e.innerText)||null==(t=e.trim)?void 0:t.call(e);r.showLoader(),ie.call(r,t)})}},{key:"initHelpers",value:function(){m.r.set("showUploadBtn",this.showUploadBtn.bind(this)),m.r.set("hideUploadBtn",this.hideUploadBtn.bind(this)),m.r.set("openAttachmentsModal",this.openModal.bind(this))}},{key:"showUploadBtn",value:function(){this.html.style.display="block"}},{key:"hideUploadBtn",value:function(){this.html.style.display="none"}},{key:"showLoader",value:function(){document.getElementById("replyAreaUploadContent").classList.add("engt-show-loader")}},{key:"stopLoader",value:function(){document.getElementById("replyAreaUploadContent").classList.remove("engt-show-loader")}},{key:"openModal",value:function(){this.modal.open()}},{key:"closeModal",value:function(){this.attachmentInput.innerText="",this.modal.close("",!0),this.stopLoader(),document.getElementById("engtChatFooter").style.transform=null}},{key:"setter",value:function(e){this.data=ae(ae({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&se(e.prototype,n),r&&se(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v=__webpack_require__(1042),b=__webpack_require__(9342),ue={settings:[{id:h.Kt.SMALL,label:"Small Font",localisedId:"SMALL_FONT",size:12,height:16,padding:"10px 12px"},{id:h.Kt.MEDIUM,label:"Medium Font",localisedId:"MEDIUM_FONT",size:14,height:20,padding:"8px 12px"},{id:h.Kt.LARGE,label:"Large Font",localisedId:"LARGE_FONT",size:16,height:20,padding:"8px 12px"}],defaultMsg:"(This is the default size)"};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?de(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fe(r.key),r)}}function fe(e){e=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===d(e)?e:String(e)}var he=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.init(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"init",value:function(e){var t;this.data=p(p({},ue),{},{subtitle:(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.SELECT_FONT)||"Select a font size for your bot:"}),this.setter(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.id="engtFontSettings",e.classList.add("engt-font-settings"),e.innerHTML=function(e){e=e.subtitle;return'\n\t\t<div class="engt-font-settings-wrapper">\n\t\t\t<span class="engt-font-settings-sub-title">'.concat(e,'</span>\n\t\t\t<div class="engt-font-settings-options">\n\t\t\t\t<button class="engt-font-settings-option"></button>\n\t\t\t\t<button class="engt-font-settings-option"></button>\n\t\t\t\t<button class="engt-font-settings-option"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="engt-font-settings-cta"></div>\n\t')}(this.data),this.html=e}},{key:"initComponents",value:function(){for(var i=this,e=this.data,t=e.settings,n=e.defaultMsg,r=this.html.querySelector(".engt-font-settings-options"),o=(0,g.K9)(),a=window.innerWidth<460?"sm":"md",e=new b.z({type:h.JB.PRIMARY,label:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.CONFIRM)||"Confirm",onClick:function(){var e=document.documentElement,t=!!m.r.get("config.chat_header_icon_url"),n=(0,g.K9)(),r=i.html.querySelector(".engt-font-settings-options").getAttribute("data-selected");r===h.Kt.SMALL?e.style.setProperty("--engt-launch-screen-header",t?"21.5em":"16.5em"):e.style.setProperty("--engt-launch-screen-header",t?"20em":"16em"),(0,g.IV)(document.querySelector(".engt"),"engt-font-".concat(n)),(0,g.cn)(document.querySelector(".engt"),"engt-font-".concat(r)),(0,g.fN)((0,v.LS)().FONT_SETTING,r),m.r.get("hideChatSettingsScreen")()},radius:18}).render(),s=function(e,t){if(-1<e.target.className.indexOf("option-name")||t){var n=this.parentNode,r=null==(e=this.getAttribute)?void 0:e.call(this,"data-id");n.setAttribute("data-selected",r);for(var i,o=0;o<(null==n||null==(i=n.children)?void 0:i.length);o++)n.children[o].getAttribute("data-id")===r?n.children[o].setAttribute("data-active",!0):n.children[o].setAttribute("data-active",!1)}},c=0;c<t.length;c++){var l=document.createElement("div"),u=(null==(u=m.r.get("GENERIC_STRINGS"))?void 0:u["".concat(t[c].localisedId)])||t[c].label,d=null!=(d=m.r.get("GENERIC_STRINGS"))&&d.DEFAULT_FONT?" (".concat(null==(d=m.r.get("GENERIC_STRINGS"))?void 0:d.DEFAULT_FONT,")"):n,p=(l.style.height="36px",l.style.width="36px",l.innerHTML='\n<svg width="36" height="36" viewBox="0 0 36 36" fill="#403f42" xmlns="http://www.w3.org/2000/svg">\n<rect opacity="0.1" width="36" height="36" rx="18" fill="inherit" opacity="0.1"/>\n<path d="M21.7458 14.2471V10.7588C21.7458 10.0392 22.3292 9.4559 23.0487 9.4559V9.4559H24.3516" stroke="inherit" stroke-width="1.34489" stroke-linecap="round"/>\n<path d="M14.2639 14.2471V10.7588C14.2639 10.0392 13.6806 9.4559 12.9611 9.4559V9.4559H11.6582" stroke="inherit" stroke-width="1.34489" stroke-linecap="round"/>\n<path d="M24.5183 21.1353C24.5183 25.7772 21.6203 29.5409 18.046 29.5409C14.4717 29.5409 11.5737 25.7772 11.5737 21.1353C11.5737 16.4934 14.4717 12.7297 18.046 12.7297C21.6203 12.7297 24.5183 16.4934 24.5183 21.1353Z" fill="white"/>\n<rect x="5.35205" y="12.397" width="25.3007" height="12.9446" rx="6.47228" fill="white" style="width: 25.3007px"/>\n<path d="M24.1797 22.648H11.8235C9.7346 22.648 8.04102 20.9547 8.04102 18.8655C8.04102 16.7766 9.7346 15.083 11.8235 15.083H24.1797C26.2686 15.083 27.9622 16.7766 27.9622 18.8655C27.9622 20.9547 26.2686 22.648 24.1797 22.648Z" fill="inherit"/>\n<circle cx="14.2596" cy="18.8585" r="1.65309" stroke="white" stroke-width="0.896593"/>\n<circle cx="21.8216" cy="18.8577" r="1.65309" stroke="white" stroke-width="0.896593"/>\n</svg>\n\n',r.children[c]),f=document.createElement("div");p.setAttribute("tabindex",0),f.className="option-name",f.innerText=u+(a===t[c].id?d:""),f.style.fontSize="".concat(t[c].size,"px"),f.style.lineHeight="".concat(t[c].height,"px"),f.style.padding="".concat(t[c].padding),r.setAttribute("data-selected",o),p.setAttribute("data-id",t[c].id),p.setAttribute("data-active",o===t[c].id),p.appendChild(l),p.appendChild(f),p.addEventListener("click",s),p.addEventListener("keydown",function(e){var t=(e.which||e.keyCode)===y.nx.ENTER;t&&s.call(this,e,t)})}this.html.querySelector(".engt-font-settings-cta").appendChild(e)}},{key:"setter",value:function(e){this.data=p(p({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&pe(e.prototype,n),r&&pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ge={title:"Chat Settings"},me=function(){return'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M17.5 20L12.5 15L17.5 10"stroke="'.concat(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"white",'" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>')};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=be(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function be(e){e=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===f(e)?e:String(e)}var _e=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEvents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){var t;this.data=_(_({},ge),{},{title:(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.CHAT_SETTINGS)||"Chat Settings"}),this.setter(e)}},{key:"initWrapper",value:function(){var e,t,n,r=document.createElement("div");r.className="engt-chat-setings-header",r.innerHTML=(e=(e=this.data).title,t='\n\t\t<div class="engt-chat-settings-back engt-tab-selectable" tabindex="0" style="visibility: hidden" onkeydown="ENGT_CHAT.onEnterPress()">'.concat(me(y.UW.THEME_TEXT_COLOR),"</div>\n\t"),n='\n\t\t<div \n\t\t\trole="button" \n\t\t\ttabindex="0"\n\t\t\tclass="engt-chat-settings-close engt-tab-selectable" \n\t\t\tonkeydown="ENGT_CHAT.onEnterPress()"\n\t\t\t>\n\t\t\t'.concat((0,V.W)(y.UW.THEME_TEXT_COLOR),"\n\t\t</div>\n\t"),"\n\t\t".concat(t,"\n\t\t<span>").concat(e,"</span>\n\t\t").concat(n,"\n    ")),this.html=r}},{key:"initEvents",value:function(){this.html.querySelector(".engt-chat-settings-back").addEventListener("click",function(){m.r.get("backToChatSettings")()}),this.html.querySelector(".engt-chat-settings-close").addEventListener("click",function(){m.r.get("hideChatSettingsScreen")()})}},{key:"setter",value:function(e){this.data=_(_({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&ve(e.prototype,n),r&&ve(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ee(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?we(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===w(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):we(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}var Se={languages:[]};function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){k=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==O(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function Oe(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ke(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Oe(r,t,n,i,o,"next",e)}function o(e){Oe(r,t,n,i,o,"throw",e)}i(void 0)})}}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===O(e)?e:String(e)}(r.key),r)}}function Ce(e){return e=function(){var t="";return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return t+="<li\n                id=".concat((e=e).id,'\n                class="engt-menu-option-list" \n                tabindex="0"\n\t\t\t\t\t\t\t\tdata-active-click="false">\n                    <div \n\t\t\t\t\t\t\t\t\t\t\t\tclass="engt-menu-option-name" \n\t\t\t\t\t\t\t\t\t\t\t\tonkeydown="ENGT_CHAT.onEnterPress()"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t  <span>').concat(e.title,'</span>\n\t\t\t\t\t\t\t\t\t\t  <img src="').concat(Ae,'" class="engt-menu-down" loader="lazy">\n\t\t\t\t\t\t\t\t\t\t  <img src="').concat(Pe,'" class="engt-menu-up" loader="lazy">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="engt-option-tab" id="').concat(e.id,'Tab"></div>\t\t\t\t\n            </li>\n    ')}),t}(e=e.optionsData),'\n\t\t<header></header>\n\t\t<ul class="engt-chat-settings-options" id="chatSettingOptions">\n\t\t\t'.concat(e,"\n\t\t</ul>\n\t")}var Ie=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init(),this.initWrapper(),this.initComponents()}var t,n,r,i;return t=e,(n=[{key:"initWrapper",value:function(){var e,t,n=document.createElement("div");return n.id="engtLanguagePreference",n.className="engt-lang-settings",n.innerHTML=(e=(e=Se).languages,null!=(t=m.r.get("GENERIC_STRINGS"))&&t.LANGUAGE_PREFERENCE,t=(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.CHOOSE_LANGUAGE)||"Choose your language preference:",e=function(){var t="";return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return t+='<div class="engt-bot-lang">\n            <input \n                type="radio" \n                id="engt-bot-lang-'.concat(null==(e=e)?void 0:e.langCode,'" \n                name="bot-language" \n                value="').concat(null==e?void 0:e.langName,'"\n\t\t\t\tdata-bot-langCode="').concat(null==e?void 0:e.langCode,'"\n            />\n            <label for="engt-bot-lang-').concat(null==e?void 0:e.langCode,'">').concat(null==e?void 0:e.langName,"</label>\n        </div>\n \n")}),t}(e),'\n\t\t\t<div class="engt-lang-settings-wrap">\n\t\t\t\t<div class="engt-bot-lang-description">'.concat(t,'</div>\n\t\t\t\t<div id="engtBotLanguagesHolder" class="engt-bot-lang-options">\n\t\t\t\t\t').concat(e,'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="engt-lang-settings-cta"></div>\n\t')),this.html=n,this.html}},{key:"initComponents",value:function(){var e,t=(0,g.t5)((0,v.LS)().USER_LOCALE)||m.r.get("config.botLanguage"),n=this.html.querySelectorAll('input[name="bot-language"]');null!=(e=this.html.querySelector(".engt-lang-settings-cta"))&&e.appendChild(this.getConfirmBtn()),n.forEach(function(e){t===e.getAttribute("data-bot-langCode")?e.setAttribute("checked",!0):e.removeAttribute("checked")})}},{key:"onMenuLanguageChange",value:(i=ke(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,g.YI)(t),m.r.set("localeForBotIsChanged",!0),m.r.get("sendMessage")("locale_update",{message:{type:"attribute",text:""},attributes:[{name:"user.language",value:t}],skipAppendToDom:!0}),e.prev=3,(0,g.i7)(t),e.next=7,m.r.set("config.botLanguage",t);case 7:return e.next=9,(0,a.Hu)().then(ke(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.E1)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 9:m.r.get("hideChatSettingsScreen")(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),(0,g.bZ)("Bot Config api failed",e.t0),m.r.get("hideChatSettingsScreen")();case 16:case"end":return e.stop()}},e,null,[[3,12]])})),function(e,t){return i.apply(this,arguments)})},{key:"getConfirmBtn",value:function(){var e,n=this;return new b.z({type:h.JB.PRIMARY,label:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.CONFIRM)||"Confirm",onClick:function(){var e=document.querySelector('input[name="bot-language"]:checked').value,t=document.querySelector('input[name="bot-language"]:checked').getAttribute("data-bot-langCode");n.onMenuLanguageChange(t,e)},radius:18,style:"padding: 10px 0;"}).render()}},{key:"init",value:function(){var e;e={languages:m.r.get("config.enabledLanguages"),themeColor:m.r.get("config.themeColor")},Se=Ee(Ee({},Se),e)}},{key:"render",value:function(){return this.html}}])&&Te(t.prototype,n),r&&Te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Le={optionsData:[]},Ae=__webpack_require__(8684),Pe=__webpack_require__(4739);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function De(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=je(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):xe(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,je(r.key),r)}}function je(e){e=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===E(e)?e:String(e)}var Ne=h.st.FONT_SIZE,Be=h.st.LANGUAGE_PREFERENCE,Re=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.initData(),this.initWrapper(),this.initComponents(),this.initEvents()}},{key:"initData",value:function(){this.data=De({},Le);var e,t=[{id:Ne,title:(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.FONT_SIZE)||"Font Size"}];m.r.get("config.isMultilingualEnabled")&&t.push({id:Be,title:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.LANGUAGE_PREFERENCE)||"Language Preference"}),this.setter({currentOpen:null,optionsData:t,themeColor:m.r.get("config.themeColor")})}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.classList.add("engt-settings"),e.id="engtChatSettings",e.setAttribute("tabindex","-1"),e.innerHTML=Ce(this.data),this.html=e}},{key:"initComponents",value:function(){var e=(new _e).render();(0,g.z_)(this.html.querySelector("header"),e)}},{key:"initEvents",value:function(){for(var e=this,t=this.html.querySelector("ul").children,n=0;n<t.length;n++)t[n].querySelector(".engt-menu-option-name").addEventListener("click",function(){e.onChatOptionClick.call(e,this.parentNode.id)});1===t.length&&e.onChatOptionClick.call(e,Ne),m.r.set("showChatSettingsScreen",this.showChatSettingsScreen.bind(this)),m.r.set("hideChatSettingsScreen",this.hideChatSettingsScreen.bind(this)),m.r.set("reRenderChatSettings",this.reRenderChatSettings.bind(this))}},{key:"onChatOptionClick",value:function(e){var t,n,r=this.data.currentOpen,i=null==(t=this.html.querySelector("ul"))?void 0:t.children;if(e===r)this.html.querySelector("#".concat(e)).setAttribute("data-active-click","false"),this.html.querySelector("#".concat(e,"Tab")).innerHTML="",this.setter({currentOpen:null});else{for(var o=0;o<(null==i?void 0:i.length);o++){var a=i[o],s=a.id===e,c=this.html.querySelector("#".concat(a.id,"Tab"));c&&(s?c.appendChild((n=a.id)===Ne?(new he).render():n===Be?(new Ie).render():void 0):c.innerHTML=""),a.setAttribute("data-active-click",s)}this.setter({currentOpen:e})}}},{key:"showChatSettingsScreen",value:function(){this.reRenderChatSettings()}},{key:"hideChatSettingsScreen",value:function(){var e=this;(0,g.cn)(this.html,"engt-chat-settings-hidden"),document.querySelector(".engt-pages").style.display=null,setTimeout(function(){(0,g.IV)(e.html,"engt-chat-settings-visible"),m.r.get("reRenderChatScreen")(),document.getElementById("engtChatSettings").setAttribute("tabindex",-1)},m.r.get("config.bot_mode")===h.Z_.STANDALONE?0:600)}},{key:"reRenderChatSettings",value:function(){var e=document.getElementById("engtChatSettings");this.init(),(0,g.IV)(this.html,"engt-chat-settings-hidden"),(0,g.cn)(this.html,"engt-chat-settings-visible"),m.r.get("reRenderChatScreen")(),document.querySelector(".engt-pages").style.display="none",e.parentNode.replaceChild(this.html,e),(0,g.C5)(this.html.querySelector("#chatSettingOptions > #FONT_SIZE"))}},{key:"setter",value:function(e){this.data=De(De({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Me(t.prototype,n),r&&Me(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Fe(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===S(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ge(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ue(e){He=Fe(Fe({},He),e)}var He={alignment:"LEFT",isLaunchScreenEnabled:!1};function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ve(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?We(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==qe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===qe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):We(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ze(e){Ke=Ve(Ve({},Ke),e)}var Ke={img:"",forceShow:!1};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ye(e)?e:String(e)}(r.key),r)}}var Xe=function(){function r(e){var t,n;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");ze(e),this.init(),this.html=(t=(e=Ke).img,n=e.forceShow,e=e.headerType===h.Nc.TEXT_WITH_IMAGE?"engt-header-icon":"engt-header-icon-image",t||n?'<img src="'.concat(t,'" class="').concat(e,'" alt="engt-title-img" onError="this.onerror=null;this.src=\'').concat(y.Oc,'\';" loader="lazy"/>'):"")}var e,t,n;return e=r,(t=[{key:"init",value:function(){ze({img:m.r.get("config.chat_header_icon_url")})}},{key:"render",value:function(){return this.html}}])&&Je(e.prototype,t),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(){Ze=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==T(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function Qe(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===T(e)?e:String(e)}(r.key),r)}}var et=function(){function a(e){var t,n,r,i,o;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");Ue(e),this.init(),this.html=(t=(e=He).alignment,n=e.description,r=e.title,i=e.isLaunchScreenEnabled,e=e.headerType,o=new Xe({headerType:e}),i=i?'<div tabindex="0" \n\t\t  \tonkeydown="ENGT_CHAT.onEnterPress()"\n\t\t  \tonclick="ENGT_CHAT.onHeaderBackClick(this);" class="engt-header-back-to-launch engt-tab-selectable">'.concat(me(y.UW.THEME_TEXT_COLOR),"</div>"):"",n=n&&"string"==typeof n?'<span class="engt-header-info-description">'.concat(n,"</span>"):"",t="LEFT"===t?"engt-align-left":"engt-align-center",r=e===h.Nc.TEXT_WITH_IMAGE?'\n\t\t\t\t<span id="engtChatScreenHeader" class="engt-header-info-title">'.concat(r,"</span>\n\t\t\t\t").concat(n,"\n\t\t\t"):o.render(),'\n\t\t<div class="engt-header-img-section '.concat(t,'">\n\t\t\t').concat(i,"\n\t\t\t").concat(e===h.Nc.TEXT_WITH_IMAGE?o.render():"",'\n\t\t</div>\n\t\t<div class="engt-header-info ').concat(t,'" >\n\t\t\t').concat(r,"\n\t\t</div>\n    ")),this.initEvents()}var e,t,n,s,r;return e=a,(t=[{key:"init",value:function(){Ue({alignment:m.r.get("config.header_alignment"),description:m.r.get("config.header_description"),title:m.r.get("config.bot_name"),isLaunchScreenEnabled:m.r.get("config.isLaunchScreenEnabled"),headerType:m.r.get("config.headerType")})}},{key:"initEvents",value:function(){m.r.set("onHeaderBackClick",this.onHeaderBackClick)}},{key:"onHeaderBackClick",value:(s=Ze().mark(function e(){return Ze().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.r.get("showLaunchScreen")();case 1:case"end":return e.stop()}},e)}),r=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Qe(r,t,n,i,o,"next",e)}function o(e){Qe(r,t,n,i,o,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})},{key:"render",value:function(){return this.html}}])&&$e(e.prototype,t),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(),tt=__webpack_require__(6854);var nt={exitHeader:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.CLOSE_CHAT_PROMPT)||"Are you sure you want to close the chat?",close:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.CLOSE_CHAT)||"Close Chat",startNew:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.START_NEW_CONVERSATION)||"Start a new conversation",continueChat:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.CONTINUE_CONVERSATION)||"Continue ongoing conversation",exitConversation:(null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.EXIT_AGENT_CONVERSATION)||"Exit Agent Conversation",closeModal:{}};function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach(function(e){at(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function at(e,t,n){(t=st(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function st(e){e=function(e,t){if("object"!==rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===rt(e)?e:String(e)}var ct=function(){function n(e){var t=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");at(this,"allInstances",[]),at(this,"onEndChat",function(){var e;(0,u.B2)(!1),m.r.get("startConvoAdded")||((0,l.fm)(),null!=(e=Array.from(document.querySelectorAll(".engt-status-divider-wrapper")).pop())&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})),m.r.set("startConvoAdded",!0),m.r.get("renderStartConversation")(),m.r.get("menuClose")(),m.r.get("onMinimize")(),m.r.set("triggerSessionExpired",!0),(0,g.fN)((0,v.LS)().GOT_UID,"false")}),at(this,"onExitLiveChat",function(){var e;t.closeChatModal.close("",!0),null!=(e=m.r.get("hideUploadBtn"))&&e(),m.r.get("sendMessage")("Exit Conversation",{message:{postback:"live_chat_action=exit_live_chat",text:"Exit Conversation",type:"postback"}}),!1===m.r.get("config.showReplyArea")&&m.r.get("hideInputBox")(),(0,g.fN)((0,v.LS)().LIVECHAT,!1),t.reRender()}),n.allInstances.push(this),this.initData(e),this.initWrapper(),this.initComponents(),this.initEvents(),this.initHelpers()}var e,t,r;return e=n,(t=[{key:"initData",value:function(e){this.data=C({},nt),this.setter(C(C({},e),{},{closeModal:{wid:"exitChatModal",cid:"exitChatModalContent"},livechat:"true"===(0,g.t5)((0,v.LS)().LIVECHAT)}))}},{key:"initWrapper",value:function(){var e,t,n=document.createElement("div");n.id="engtHeaderOptions".concat(this.data.type),n.className="engt-header-options",n.innerHTML=(e=this.data,t=e.closeModal,e=e.type,'\n\t\t\t<div \n\t\t\t\trole="button" \n\t\t\t\ttabindex="0" \n\t\t\t\tclass="engt-close engt-tab-selectable" \n\t\t\t\tid="engtClose"\n\t\t\t\tdata-wid="'.concat(t.wid,'"\n\t\t\t\tdata-cid="').concat(t.cid,'"\n\t\t\t\tdata-type="').concat(e,'"\n\t\t\t\tonkeydown="ENGT_CHAT.onEnterPress()"\n\t\t\t\t>\n\t\t\t\t').concat((0,V.W)(y.UW.THEME_TEXT_COLOR),"\n\t\t\t</div>\n    ")),this.html=n}},{key:"initComponents",value:function(){var e,t=this,n=this.data,r=n.exitHeader,i=n.close,o=n.closeModal,n=n.livechat,a=this,n=new b.z({type:n?h.JB.SECONDARY:h.JB.PRIMARY,label:(null==(n=m.r.get("GENERIC_STRINGS"))?void 0:n.CLOSE_CHAT)||i,id:"engtHeaderCloseBtn",size:h.iY.MEDIUM,onClick:function(){m.r.get("onMinimize")(),a.closeChatModal.close("",!0)},radius:18}).render(),i=document.createElement("div");i.className="engt-header-modal-body",i.innerHTML='<span id="engtHeaderBody" style="text-align: center;margin-bottom: 16px;">'.concat((null==(e=m.r.get("GENERIC_STRINGS"))?void 0:e.CLOSE_CHAT_PROMPT)||r,"</span>"),i.appendChild(document.createElement("exit-live-chat-btn")),i.appendChild(n),this.closeChatModal=new X.u({wrapperId:o.wid,contentId:o.cid,content:i}),setTimeout(function(){(0,g.z_)(document.querySelector("close-chat-modal"),t.closeChatModal.render())},1e3)}},{key:"onChatClose",value:function(){var e=this.data,t=e.closeModal,e=e.exitConversation,n="true"===(0,g.t5)((0,v.LS)().LIVECHAT),r=document.querySelector("#".concat(t.cid," > .engt-header-modal-body")),t=document.querySelector("#".concat(t.cid," > #exitLiveChatBtn"));n?(r&&!t&&(n=new b.z({type:h.JB.PRIMARY,label:(null==(n=m.r.get("GENERIC_STRINGS"))?void 0:n.EXIT_AGENT_CONVERSATION)||e,size:h.iY.MEDIUM,onClick:this.onExitLiveChat,radius:18,id:"exitLiveChatBtn"}).render(),(0,g.z_)(r.querySelector("exit-live-chat-btn"),n)),this.closeChatModal.open()):(m.r.get("onMinimize")(),t&&(0,g.z_)(t,document.createElement("exit-live-chat-btn")))}},{key:"initEvents",value:function(){this.html.querySelector("#engtClose").addEventListener("click",this.onChatClose.bind(this)),m.r.set("startNewConversation",function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,u.B2)(!0),(0,g._A)(),m.r.set("isAllInputsDisabled",!1),(0,g.fN)((0,v.LS)().TAB_MESSAGES,JSON.stringify({action:"disable_session_timeout",tabId:m.r.get("socketId")})),"true"===(0,g.t5)((0,v.LS)().LIVECHAT)?null!=(e=m.r.get("showUploadBtn"))&&e():t&&"string"==typeof t?"true"===(0,g.t5)((0,v.LS)().GOT_UID)?(0,g.XT)(t,n):(0,u.Yy)():(e=m.r.get("config.isLaunchScreenEnabled")||void 0,m.r.set("config.sessionExpired",!0),(0,u.Yy)(),t=m.r.get("triggerButtonConfig"),(e||t.isFlowTriggeredFromTriggers)&&(0,u.uX)(),m.r.set("firstTime",!0),m.r.set("config.launch_flow",m.r.get("config.launch_flow_copy")),m.r.get("config.welcomeMessageCopy")&&m.r.set("config.welcome_msg",m.r.get("config.welcomeMessageCopy")))}),m.r.set("onMinimize",function(){var e=document.getElementById("engt-popup"),t=document.getElementById("engtLauncherIcon");m.r.get("hideChatSettingsScreen")(),m.r.set("config.isChatOpened",!1),m.r.get("menuClose")(),(0,g.Tr)(),g.oQ.messagesOut(),g.oQ.launchScreenOut(),(0,tt.jz)(),(0,g.cn)(e,"engt-popup-hidden"),(0,g.IV)(document.getElementById("engtWrapper"),"engt-wrapper-open"),(0,g.cn)(t,"engt-launcher-icon-animate"),t.setAttribute("tabindex",0),setTimeout(function(){(0,g.IV)(e,"engt-launch-screen-open"),(0,g.IV)(e,"engt-chat-screen-open"),(0,g.IV)(t,"engt-launcher-icon-hidden"),(0,g.cn)(e,"engt-popup-hidden-size")},400)})}},{key:"initHelpers",value:function(){m.r.set("reRenderHeaderOptions",this.reRender.bind(this)),m.r.set("onEndChat",this.onEndChat.bind(this))}},{key:"reRender",value:function(){n.allInstances.forEach(function(e){var t,n;e.initData({type:e.data.type}),e.initWrapper(),e.initComponents(),e.initEvents(),null!=(t=document.getElementById("engtHeaderOptions".concat(e.data.type)))&&null!=(t=t.parentNode)&&null!=(n=t.replaceChild)&&n.call(t,e.html,document.getElementById("engtHeaderOptions".concat(e.data.type)))})}},{key:"setter",value:function(e){this.data=C(C({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&ot(e.prototype,t),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}(),lt=(ct.allInstances=[],{title:"Bot"});function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function pt(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=ht(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):dt(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ht(r.key),r)}}function ht(e){e=function(e,t){if("object"!==ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ut(e)?e:String(e)}var gt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=pt({},lt),this.setter(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.className="engt-header",e.innerHTML=(this.data,"\n\t\t<header-card></header-card>\n\t\t<header-options></header-options>\n    "),this.html=e}},{key:"initComponents",value:function(){var e=new ct({type:h.xe.CHAT}).render(),t=(new et).render();m.r.get("config.bot_mode")===h.Z_.WIDGET&&(0,g.z_)(this.html.querySelector("header-options"),e),(0,g.z_)(this.html.querySelector("header-card"),t)}},{key:"setter",value:function(e){this.data=pt(pt({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&ft(e.prototype,n),r&&ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),mt={bgColor:"",color:"",description:"",startConversation:""};function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function bt(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==yt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===yt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):vt(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function _t(e){Et=bt(bt({},Et),e)}function wt(e){var n,e=e.enabledLanguages,r=(0,g.t5)((0,v.LS)().USER_LOCALE).toUpperCase()||m.r.get("config.botLanguage").toUpperCase(),e='<div class="engt-lang-dropdown">'.concat((n="",null!=e&&e.map(function(e,t){n+=((e=e).langCode===r.toLowerCase()?'<div id="'.concat(e.langCode,'" class="lang-dropdown-options selected-option" onclick="ENGT_CHAT.onChangeLanguage(this)" ><span id="tickForLang">').concat(Ot(),"</span><span id='option-"):'<div id="'.concat(e.langCode,'" class="lang-dropdown-options" onclick="ENGT_CHAT.onChangeLanguage(this)" ><span id=\'option-')).concat(e.langCode,"'>").concat(e.langName," (").concat(e.langCode.toUpperCase(),")</span></div>")}),n),"</div>");return'<div><div id="languageDropdown" class="engt-tab-selectable" onclick="ENGT_CHAT.showdropDown()"><span id=\'botLang\'>'.concat(r,"</span>").concat((0,St.C)("#FFFFFF"),"</div> ").concat(e,"</div>")}var Et={enabledLanguages:[]},St=__webpack_require__(5084),Ot=function(){return'<svg width="17" height="18" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M5.5 12.3L9 17L14.5 7" stroke="#403F42" stroke-width="3" stroke-linecap="round" fill="none"/>\n  </svg>'};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(){L=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==I(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function kt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Tt(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){kt(r,t,n,i,o,"next",e)}function o(e){kt(r,t,n,i,o,"throw",e)}i(void 0)})}}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===I(e)?e:String(e)}(r.key),r)}}var It=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");_t(e),this.init(),this.html=wt(Et),this.initEventHandlers()}var e,n,r,i;return e=t,(n=[{key:"initEventHandlers",value:function(){var t=this;m.r.set("onChangeLanguage",this.onChangeLanguage),m.r.set("showdropDown",function(){var e=document.querySelector(".engt-lang-dropdown");"none"===e.style.display||""===e.style.display?e.style.display="flex":(e.style.display="none",document.removeEventListener("click",t.hideLangDropdown)),"flex"===e.style.display&&document.addEventListener("click",t.hideLangDropdown)})}},{key:"onChangeLanguage",value:(i=Tt(L().mark(function e(){var t,n,r=arguments;return L().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:"en",m.r.set("localeForBotIsChanged",!0),n=(null==t?void 0:t.id)||t,m.r.get("showdropDown")(),(0,g.YI)(n),m.r.get("sendMessage")("locale_update",{message:{type:"attribute",text:""},attributes:[{name:"user.language",value:n}],skipAppendToDom:!0}),e.prev=6,(0,g.i7)(n),e.next=10,m.r.set("config.botLanguage",n);case 10:return e.next=12,(0,a.Hu)().then(Tt(L().mark(function e(){return L().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.E1)(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),(0,g.bZ)("Bot Config api failed",e.t0);case 17:case"end":return e.stop()}},e,null,[[6,14]])})),function(){return i.apply(this,arguments)})},{key:"hideLangDropdown",value:function(e){var t;!e||"flex"!==(null==(t=document.querySelector(".engt-lang-dropdown"))?void 0:t.style.display)||null!=(t=document.querySelector(".engt-lang-dropdown"))&&t.contains(e.target)||null!=(t=document.querySelector("#languageDropdown"))&&t.contains(e.target)||m.r.get("showdropDown")()}},{key:"init",value:function(){_t({enabledLanguages:m.r.get("config.enabledLanguages")})}},{key:"render",value:function(){return this.html}}])&&Ct(e.prototype,n),r&&Ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function A(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?At(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=xt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):At(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xt(r.key),r)}}function xt(e){e=function(e,t){if("object"!==Lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Lt(e)?e:String(e)}var Dt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(),this.initWrapper(),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=A({},mt),this.setter(A(A({},e),{},{description:m.r.get("config.launchScreenTitle"),title:m.r.get("config.launchScreenHeader"),startConversation:m.r.get("GENERIC_STRINGS.LAUNCH.START_A_NEW_CONVO")||"START A NEW CONVERSATION"}))}},{key:"initWrapper",value:function(){var e,t,n=document.createElement("div");n.className="engt-launcher-header",n.innerHTML=(e=this.data,t=(e=e||{}).description,e.title,e='<span id="botDescription" class="engt-launcher-description">'.concat(t,"</span>"),'\n\t\t<div class="engt-launcher-header-top">\n\t\t\t<header-icon></header-icon>\n\t\t\t<div class="header-option-wrap">\n\t\t\t\t'.concat(m.r.get("config.isMultilingualEnabled")?(new It).render():"","\n\t\t\t\t<header-options></header-options>\n\t\t\t</div>\n\t\t</div>\n\t\t<header-title></header-title>\n\t\t").concat(e,"\n\t\t<start-conversation></start-conversation>\n    ")),this.html=n}},{key:"initComponents",value:function(){var e=this.data||{},t=e.startConversation,e=e.title,n=!!m.r.get("config.chat_header_icon_url"),e='\n\t\t\t<span id="botName" class="engt-launcher-title">\n\t\t\t\t'.concat(e,"\n\t\t\t</span>\n\t\t"),r=n?new Xe({forceShow:!0}).render():e,i=new ct({type:h.xe.LAUNCH}).render(),t=new b.z({type:h.JB.SECONDARY,label:t,id:"startNewConversationBtn",size:h.iY.MEDIUM,onClick:function(){m.r.get("showChatScreen")(),setTimeout(function(){m.r.get("startNewConversation")()},500)},style:"margin-top: 10px;border: unset;font-weight: 600;",radius:18}).render();(0,g.z_)(this.html.querySelector("header-icon"),r),(0,g.z_)(this.html.querySelector("header-options"),i),(0,g.z_)(this.html.querySelector("header-title"),n?e:""),(0,g.z_)(this.html.querySelector("start-conversation"),t)}},{key:"setter",value:function(e){this.data=A(A({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Pt(e.prototype,n),r&&Pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Mt={title:"Source Preview"};function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Bt(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Gt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Nt(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gt(r.key),r)}}function Gt(e){e=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===jt(e)?e:String(e)}var Ft=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEvents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=Mt,this.setter(e)}},{key:"initWrapper",value:function(){var e,t,n,r,i=document.createElement("div");i.className="engt-source-preview-header",i.innerHTML=(e=(e=this.data).title,t=m.r.get("config.bot_mode")===h.Z_.STANDALONE,n='\n\t\t<div class="engt-source-preview-back engt-tab-selectable" tabindex="0" onkeydown="ENGT_CHAT.onEnterPress()">'.concat(me(y.UW.THEME_TEXT_COLOR),"</div>\n\t"),r='\n\t\t<div role="button" \n\t\ttabindex="0" \n\t\tclass="engt-maximize-screen engt-tab-selectable"\n\t\tid="engtMaximizeScreen"\n\t\tonkeydown="ENGT_CHAT.onEnterPress()"\n\t    >\n\t\t'.concat(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"white",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"30";return'\n    <svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M13.6071 11.5H8.5L11.75 16.5M15.9286 19H21.5L19.1786 14" stroke="').concat(e,'"/>\n    </svg>\n')}(),"\n    </div>\n\t"),'\n    <div class="back-btn-container">\n        '.concat(n,'\n    </div>\n    <div class="title-container">\n        <span>').concat(e,'</span>\n    </div>\n    <div class="maximize-btn-container">\n        ').concat(m.r.get("isMobileOrTablet")||t?"":r,"\n    </div>\n")),this.html=i}},{key:"initEvents",value:function(){var e;this.html.querySelector(".engt-source-preview-back").addEventListener("click",function(){m.r.get("onMaximizeScreen")(!0),m.r.get("hideSourcePreviewScreen")()}),null!=(e=this.html.querySelector("#engtMaximizeScreen"))&&e.addEventListener("click",function(){m.r.get("onMaximizeScreen")()})}},{key:"setter",value:function(e){this.data=Bt(Bt({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Rt(e.prototype,n),r&&Rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function qt(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Vt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ht(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vt(r.key),r)}}function Vt(e){e=function(e,t){if("object"!==Ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ut(e)?e:String(e)}var zt=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.initData(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{sourceLink:""}),this.initWrapper(),this.initComponents(),this.initEvents()}},{key:"initData",value:function(e){this.data=qt({},e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.classList.add("engt-source-preview"),e.id="engtSourcePreview",e.setAttribute("tabindex","-1"),e.innerHTML="\n\t<source-viewer-header></source-viewer-header>\n\t<source-viewer-body></source-viewer-body>\n\t<source-viewer-footer></source-viewer-footer>",this.html=e}},{key:"initComponents",value:function(){var e,t=(new Ft).render(),n=document.createElement("div"),r=(n.classList.add("engt-source-preview-body"),n.id="engtSourceViewerBody",this.data.sourceLink||""),r=(r&&(e=r.includes("?")?"&":"?",r="".concat(r).concat(e,"isWebLinkPreviewEnabled=true"),(e=document.createElement("iframe")).id="documentViewer",e.src=r,e.style.width="100%",e.style.height="100%",e.style.border="none",n.appendChild(e)),'<div class="engt-powered">\n\t\t    <div class="engt-powered-text">\n\t\t\t<a href='.concat(this.data.sourceLink,' target="_blank" class="poweredByLink">\n\t\t\t\t<span class="engt-external-link">').concat(function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"14";return'<svg width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t<path\n\t\t\td="M7.45783 5.62719C7.21827 5.62312 7.02507 5.43503 7.0209 5.20182L7.02026 3.18485L2.51196 7.57392C2.33827 7.74302 2.05668 7.74302 1.883 7.57392C1.70931 7.40483 1.70931 7.13069 1.883 6.96159L6.39131 2.5725L4.32017 2.5725C4.07458 2.56834 3.87897 2.37116 3.88322 2.13208C3.88739 1.89884 4.08059 1.71075 4.32016 1.7067L7.4649 1.7067C7.71052 1.70641 7.9099 1.90001 7.91021 2.13912V2.14023V5.2018C7.90595 5.44091 7.70341 5.63135 7.45783 5.62719Z"\n\t\t\tfill="#797B7A"\n\t\t/>\n\t</svg>')}(),'</span><span class="engt-external-link-text">Open in new tab</span></a></div>\n\t\t\t</div>'));(0,g.z_)(this.html.querySelector("source-viewer-header"),t),(0,g.z_)(this.html.querySelector("source-viewer-body"),n),(0,g.z_)(this.html.querySelector("source-viewer-footer"),r)}},{key:"initEvents",value:function(){m.r.set("showSourcePreviewScreen",this.showSourcePreviewScreen.bind(this)),m.r.set("hideSourcePreviewScreen",this.hideSourcePreviewScreen.bind(this)),m.r.set("reRenderSourcePreview",this.reRenderSourcePreview.bind(this))}},{key:"showSourcePreviewScreen",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";e&&this.reRenderSourcePreview({sourceLink:e})}},{key:"hideSourcePreviewScreen",value:function(){var e=this;(0,g.cn)(this.html,"engt-source-preview-hidden"),document.querySelector(".engt-pages").style.display=null,setTimeout(function(){(0,g.IV)(e.html,"engt-source-preview-visible"),m.r.get("reRenderChatScreen")(),document.getElementById("engtSourcePreview").setAttribute("tabindex",-1)},m.r.get("config.bot_mode")===h.Z_.STANDALONE?0:600)}},{key:"reRenderSourcePreview",value:function(e){var t=document.getElementById("engtSourcePreview");this.init(e),(0,g.IV)(this.html,"engt-source-preview-hidden"),(0,g.cn)(this.html,"engt-source-preview-visible"),m.r.get("reRenderChatScreen")(),document.querySelector(".engt-pages").style.display="none",t.parentNode.replaceChild(this.html,t)}},{key:"render",value:function(){return this.html}}])&&Wt(t.prototype,n),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Jt(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==Kt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Kt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Yt(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Xt(e){P=Jt(Jt({},P),e)}var P={brand:"Engati",poweredBy:"Powered by",url:""};const Zt=__webpack_require__.p+"assets/poweredBy.svg";function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Qt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Qt(e)?e:String(e)}(r.key),r)}}var en=function(){function n(e){var t;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");Xt(e),this.init(),this.html=(e=P,t="",t="Engati"===m.r.get("config.brand_name")?'<div class="engt-powered">\n            <div class="engt-powered-text"><img src='.concat(Zt," /><a href=").concat(e.url,' target="_blank" class="poweredByLink">').concat(e.poweredBy,"&nbsp;").concat(e.brand,"</a>\t</div>\n\t\t\t</div>"):e.brand&&e.url?'<div class="engt-powered">\n            <div class="engt-powered-text"><a href='.concat(e.url,' target="_blank" class="poweredByLink">').concat(e.brand,"</a>\t</div>\n\t\t\t</div>"):"",m.r.get("config.remove_branding")?"":t)}var e,t,r;return e=n,(t=[{key:"init",value:function(){var e=P.url,t=P.brand;"Engati"===m.r.get("config.brand_name")?e=y.$5:(e=m.r.get("config.poweredByRedirectionURL"),t=m.r.get("config.poweredByBrandName")),Xt({brand:t,url:e})}},{key:"render",value:function(){return this.html}}])&&$t(e.prototype,t),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),n}(),tn=__webpack_require__(2688),nn=__webpack_require__(9601),rn=__webpack_require__(5261);function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function sn(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?an(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=dn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):an(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?ln(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dn(r.key),r)}}function dn(e){e=function(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==on(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===on(e)?e:String(e)}var pn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");m.r.get("config.enableUploadAttachment")?(this.initData(),this.initWrapper(),this.initComponents(),this.initEvents(),this.initHelpers()):this.html=document.createDocumentFragment()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){this.data={},this.setter({placeholder:m.r.get("config.textAreaPlaceholder")})}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.innerHTML='\n        <button\n            id="engtAttachmentBtn"\n            class="engt-btn-icons engt-tab-selectable engt-reply-btns"\n            aria-label="Upload attachment"\n            onclick="getElementById(\'engtAttachmentInput\').click()"\n        >\n            <input type="file" id="engtAttachmentInput" name="filename" onclick="this.value = null;" style="display: none;" \n                accept="'.concat(y.GJ,'"\n                size="').concat(y.JX,'">\n            ').concat('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="inherit" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.2033 11.5632L11.9608 17.8056C11.1961 18.5704 10.1589 19 9.07736 19C7.99585 19 6.95863 18.5704 6.19389 17.8056C5.42914 17.0409 4.99951 16.0037 4.99951 14.9222C4.99951 13.8406 5.42914 12.8034 6.19389 12.0387L12.4363 5.79625C12.9461 5.28642 13.6376 5 14.3586 5C15.0796 5 15.7711 5.28642 16.2809 5.79625C16.7908 6.30608 17.0772 6.99756 17.0772 7.71856C17.0772 8.43957 16.7908 9.13105 16.2809 9.64088L10.0317 15.8833C9.77681 16.1382 9.43107 16.2814 9.07057 16.2814C8.71006 16.2814 8.36432 16.1382 8.10941 15.8833C7.85449 15.6284 7.71128 15.2827 7.71128 14.9222C7.71128 14.5616 7.85449 14.2159 8.10941 13.961L13.8764 8.20084" stroke="inherit" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n\n',"\n        </button>\n    "),this.html=e}},{key:"initComponents",value:function(){this.fileUploadBtn=this.html.querySelector("#engtAttachmentInput"),"true"===(0,g.t5)((0,v.LS)().LIVECHAT)?this.showUploadBtn():this.hideUploadBtn()}},{key:"initEvents",value:function(){var r=this;this.fileUploadBtn.addEventListener("change",function(e){var t,e=cn(e.target.files,1)[0],n=cn(null==e||null==(t=e.type)||null==(n=t.split)?void 0:n.call(t,"/"),2)[1];e?e.size>y.JX?alert("Maximum allowed file size - 25mb"):(t=document.querySelector("#attachmentPreviewImg"),-1<e.type.indexOf("image")?(t.src=URL.createObjectURL(e),t.style="",t.parentNode.style.justifyContent="center",document.querySelector("#attachmentPreviewFileName").innerText=""):(t.src=(0,g.fr)(n),t.style="height: 100px; margin: unset;",t.parentNode.style.justifyContent=null,document.querySelector("#attachmentPreviewFileName").innerText=e.name),r.openModal()):alert("Invalid file type")}),this.fileUploadBtn.addEventListener("click",function(){m.r.get("attachmentTransactionId")||(0,u.w4)()})}},{key:"initHelpers",value:function(){m.r.set("showUploadBtnForLiveChat",this.showUploadBtn.bind(this)),m.r.set("hideUploadBtnForLiveChat",this.hideUploadBtn.bind(this))}},{key:"showUploadBtn",value:function(){this.html.style.display="block"}},{key:"hideUploadBtn",value:function(){this.html.style.display="none"}},{key:"openModal",value:function(){document.getElementById("engtChatFooter").style.transform="unset",m.r.get("openAttachmentsModal")()}},{key:"setter",value:function(e){this.data=sn(sn({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&un(e.prototype,n),r&&un(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),fn=__webpack_require__(536),hn='\n\t<button \n\t\tid="engtFaqAutocompleteBtnOn"\n\t\tclass="engt-btn-icons engt-tab-selectable engt-hidden" \n\t\taria-label="FaqAutocomplete">\n\t\t'.concat('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M15 11L12 14L9 11" fill="#403F42"/>\n<path d="M15 11L12 14L9 11L15 11Z" stroke="#403F42" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n','\n\t</button>\n\t<button \n\t\tid="engtFaqAutocompleteBtnOff"\n\t\tclass="engt-btn-icons engt-tab-selectable engt-hidden" \n\t\taria-label="FaqAutocomplete">\n\t\t').concat('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M15 13L12 10L9 13" fill="#403F42"/>\n<path d="M15 13L12 10L9 13L15 13Z" stroke="#403F42" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n',"\n\t</button>");function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach(function(e){bn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_n(r.key),r)}}function bn(e,t,n){(t=_n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function _n(e){e=function(e,t){if("object"!==gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===gn(e)?e:String(e)}var wn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");bn(this,"pushStatementToPopUp",function(e){return null==(e=e.hits)?void 0:e.map(function(e){return e.statement})}),this.init(e)}var e,n,r;return e=t,(n=[{key:"init",value:function(e){this.initData(e),this.initWrapper(),this.initEvents(),this.initHelpers()}},{key:"initData",value:function(e){this.data={faqAutocompleteOptionsData:e||[]},this.setter(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.id="engtFaqAutocompleteWrapper",e.className="engt-faq-autocomplete-wrapper engt-faq-autocomplete-wrapper-animate",e.setAttribute("tabindex","2"),e.innerHTML=function(e){e=e.faqAutocompleteOptionsData,e=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t="";return e.length&&e.forEach(function(e){t+='\n            <li\n                class="engt-faq-autocomplete-option"\n                tabindex=0"\n                onkeydown="ENGT_CHAT.onEnterPress()"\n\t\t\t">\n\t\t\t'.concat(e,"\n            </li>\n")}),t}(e);return'\n\t\t<ul class="engt-faq-autocomplete-options-wrapper">\n            '.concat(e,"\n        </ul>\n    ")}(this.data),this.html=e}},{key:"initEvents",value:function(){for(var e=this,t=this.html.querySelectorAll("li"),n=0;n<t.length;n++)t[n].addEventListener("click",function(){e.triggerFaqAutocompleteOption(this.innerText)})}},{key:"initHelpers",value:function(){m.r.set("reRenderFaqAutoComplete",this.reRenderFaqAutoComplete.bind(this))}},{key:"initComponents",value:function(){this.onBtn&&this.offBtn||(this.onBtn=document.querySelector("#engtFaqAutocompleteBtnOn"),this.offBtn=document.querySelector("#engtFaqAutocompleteBtnOff"))}},{key:"triggerFaqAutocompleteOption",value:function(e){document.getElementById("engtUserMessage").innerHTML=e,(0,g.k7)(),this.closeFaqAutocompletePopUp()}},{key:"closeFaqAutocompletePopUp",value:function(){var e=document.querySelector("#engtFaqAutocompleteWrapper");e&&(e.style.display="none"),this.changeBtnToUpArrow.call(this)}},{key:"changeBtnToDownArrow",value:function(){this.onBtn&&this.offBtn&&(this.onBtn.classList.remove("engt-hidden"),this.offBtn.classList.add("engt-hidden"))}},{key:"changeBtnToUpArrow",value:function(){var e=document.querySelector("#engtFaqAutocompleteWrapper");this.offBtn&&this.onBtn&&null!=e&&e.innerHTML&&(this.offBtn.classList.remove("engt-hidden"),this.onBtn.classList.add("engt-hidden"))}},{key:"hideArrowBtns",value:function(){this.offBtn&&this.offBtn.classList.add("engt-hidden"),this.onBtn&&this.onBtn.classList.add("engt-hidden")}},{key:"openFaqAutocompletePopUp",value:function(){var e=document.querySelector("#engtFaqAutocompleteWrapper");e&&(e.style.display="flex"),this.changeBtnToDownArrow()}},{key:"fetchAutocompleteResults",value:function(e,t){var n=this,r=document;function i(){s&&(s.innerHTML=""),n.closeFaqAutocompletePopUp(),n.hideArrowBtns()}var o=new Set,a={q:e},s=r.querySelector("#engtFaqAutocompleteWrapper");n.initComponents(),2<e.length?(0,fn.h)("POST",(0,$.a$)().FAQ_AUTOCOMPLETE_PATH+t,{payload:JSON.stringify(a)}).then(function(e){null!=e&&e.responseText&&(null!=(e=JSON.parse(e.responseText).hits)&&e.forEach(function(e){return o.add(e.statement)}),o.size?(n.reRenderFaqAutoComplete(Array.from(o)),n.changeBtnToDownArrow(),m.r.get("isFaqAcPopUpClose")&&n.closeFaqAutocompletePopUp()):i())}).catch(function(e){console.error("replyinput.api.js: exception in get faq autocomplete data api",e)}):i()}},{key:"setter",value:function(e){this.data=yn(yn({},this.data),e)}},{key:"reRenderFaqAutoComplete",value:function(e){this.init(e);e=document.getElementById("engtFaqAutocompleteWrapper");e?e.parentNode.replaceChild(this.html,e):document.getElementById("engtChatWrapper").appendChild(this.html)}},{key:"render",value:function(){return this.html}}])&&vn(e.prototype,n),r&&vn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),En=__webpack_require__(2661);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function kn(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?On(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==Sn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Sn(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):On(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Tn(e){Cn=kn(kn({},Cn),e)}var Cn={optionsData:[]};function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==In(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===In(e)?e:String(e)}(r.key),r)}}var An=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");Tn(e),this.init(),this.html=function(e){e=e.optionsData,e=function(){var t="";return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){e.payload=e.type===h.wo.URL?e.url:e.payload,t+="\n            <li \n                id=".concat((e=e).id,'\n                class="engt-menu-option" \n                tabindex=0"\n                onkeydown="ENGT_CHAT.onEnterPress()"\n                onclick="ENGT_CHAT.triggerMenuOption(\'').concat(e.title,"', '").concat(e.type,"', '").concat(e.payload,"', '").concat(e.id,'\')">\n                    <span style="margin-right: 8px;">\n                        ').concat(e.icon||"","\n                    </span>\n                    <span>").concat(e.title,"</span>\n            </li>\t\n    ")}),t}(e);return'\n\t\t<div id="engtMenuWrapper" class="engt-menu-wrapper engt-menu-wrapper-animate" tabindex="2">\n            <ul class="engt-menu-options-wrapper">\n                '.concat(e,"\n            </ul>\n        </div>\n    ")}(Cn)}var e,n,r;return e=t,(n=[{key:"triggerMenuOption",value:function(e,t,n,r){"CHAT_SETTINGS"===r&&(m.r.get("menuClose")(void 0,!0),m.r.get("showChatSettingsScreen")()),t===h.wo.PATH&&n?(r={postback:n,type:t,text:e},m.r.get("sendMessage")(e,{message:r}),m.r.get("menuClose")(void 0,!0)):t===h.wo.URL&&n?(window.open(n,"_blank"),m.r.get("menuClose")(void 0,!0)):t===h.wo.CALLBACK&&n&&(m.r.get(n)(),m.r.get("menuClose")(void 0,!0))}},{key:"refreshChat",value:function(){var e=document.getElementById("engtChatContent"),t=new En.O;e.innerHTML="",e.appendChild(t.render()),(0,g.p4)((0,v.LS)().PREV_MESSAGES),(0,g.p4)((0,v.LS)().MESSAGE_MAP)}},{key:"init",value:function(){var e,t,n=m.r.get("config.webMenu"),n=(null==n?void 0:n.call_to_actions)||[];n&&!n.find(function(e){return"CHAT_SETTINGS"===e.id})&&(e=null==(e=n[0])?void 0:e.icon,m.r.get("config.showClearConversationHistory")&&n.push({title:(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.CLEAR_CHAT_HISTORY)||"Clear Conversation History",icon:e?"\ud83d\udcac":"",type:"callback",payload:"refreshChat",id:"CLEAR_CHAT_HISTORY"}),n.push({title:(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.CHAT_SETTINGS)||"Chat settings",icon:e?"\ud83d\udee0\ufe0f":"",type:"",payload:"",id:"CHAT_SETTINGS"})),Tn({optionsData:n,themeColor:m.r.get("config.themeColor")}),m.r.set("refreshChat",this.refreshChat),m.r.set("triggerMenuOption",this.triggerMenuOption)}},{key:"render",value:function(){return this.html}}])&&Ln(e.prototype,n),r&&Ln(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Pn={placeholder:y.wR.PLACE_HOLDER_WRITE_A_REPLY},xn={characterLimitExceeded:y.wR.CHARACTER_LIMIT_EXCEEDED,htmlTagNotAllowed:y.wR.HTML_TAG_NOT_ALLOWED};function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach(function(e){Nn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bn(r.key),r)}}function Nn(e,t,n){(t=Bn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Bn(e){e=function(e,t){if("object"!==Dn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Dn(e)?e:String(e)}var Rn=function(){function t(e){var r=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");Nn(this,"listenKeydownInMenu",function(e){var t,n=e.which||e.keyCode;n===y.nx.ESC&&r.menuBtn.click(),n===y.nx.TAB&&(n=(null==(n=r.menuWrapper)||null==(t=n.querySelector)||null==(t=t.call(n,".engt-menu-options-wrapper"))?void 0:t.children)||[]).length&&document.activeElement===n[n.length-1]&&(e.stopPropagation(),e.preventDefault(),n[0].focus())}),this.initData(e),this.initWrapper(),this.initComponents(),this.initEvents(),this.initHelpers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=x({},Pn),this.setter(x(x({},e),{},{theme:m.r.get("config.themeColor"),bgColor:m.r.get("config.textAreaColor"),placeholder:m.r.get("config.textAreaPlaceholder")||Pn.placeholder,showReplyArea:m.r.get("config.showReplyArea"),isVoiceEnabled:m.r.get("speech.allowSpeechRecognition")||m.r.get("speech.allowAudioConversation"),isMenuConfigured:!0,isFaqAutocompleteEnabled:m.r.get("config.isFaqAutocompleteEnabled")}))}},{key:"initWrapper",value:function(){var e,t,n,r,i=this.data.bgColor,o=document.createElement("div");o.className="engt-reply-box-wrapper",o.style="background: ".concat(i,";"),o.innerHTML=(i=this.data,t=(e=i||{}).bgColor,n=e.isVoiceEnabled,r=e.isMenuConfigured,e=e.isFaqAutocompleteEnabled,r=r?'\n\t<button \n\t\tid="engtMenuBtn"\n\t\tclass="engt-btn-icons engt-tab-selectable engt-reply-btns" \n\t\taria-label="Menu">\n\t\t'.concat('\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M9 12H18" stroke="inherit" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M6 8H18" stroke="inherit" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M6 16H18" stroke="inherit" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n',"\n\t</button>"):"",n=n?'\n\t<div id="engtVoiceWrapper">\n\t\t    <button id="engtVoiceInputBtn" class="engt-btn-icons  engt-tab-selectable">\n\t\t      '.concat((0,nn.x)(),"\n\t\t    </button>\n    </div>"):"",'\n\t\t<div id="engtReplyInput" style="position: relative; background: '.concat(t,'; width: 100%;">\n\t\t\t<div id="engtInputError"></div>\n\t\t\t<div class="engt-reply-area">\t\n\t\t\t\t<div\n\t\t\t\t\trole="textbox"\n\t\t\t\t\tcontenteditable\n\t\t\t\t\tclass="engt-user-msg-input"\n\t\t\t\t\tid="engtUserMessage"\n\t\t\t\t\tdata-placeholder="').concat(i.placeholder,'"\n\t\t\t\t></div>\n\t\t\t\t<file-attachment></file-attachment>\n\t\t\t\t').concat(e?hn:"",'\n\t\t\t\t<button\n\t\t\t\t\tid="engtSendBtn"\n\t\t\t\t\tclass="engt-btn-icons engt-tab-selectable engt-hidden engt-reply-btns"\n\t\t\t\t\taria-label="Send Message"\n\t\t\t\t>\n\t\t\t\t\t').concat((0,Q.h)(),'\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div id="engt-non-input-mode" class="engt-voice-input" style="display:none">\n\t\t\t</div>\n\t\t</div>\n\t\t').concat(n,"\n\t\t").concat(r,"\n    ")),this.html=o}},{key:"initComponents",value:function(){var e=this.data.showReplyArea;this.messageArea=this.html.querySelector("#engtUserMessage"),this.menuBtn=this.html.querySelector("#engtMenuBtn"),this.faqAutocompleteBtnOn=this.html.querySelector("#engtFaqAutocompleteBtnOn"),this.faqAutocompleteBtnOff=this.html.querySelector("#engtFaqAutocompleteBtnOff"),this.voiceInputBtn=this.html.querySelector("#engtVoiceInputBtn"),this.menuWrapper=document.querySelector("#engtMenuWrapper"),this.sendBtn=this.html.querySelector("#engtSendBtn"),this.attachmentPreview=document.createElement("div"),this.attachmentPreview.id="replyAttachmentPreview",this.faqAutocompleteInstance=new wn,!1===e&&"true"!==(0,g.t5)((0,v.LS)().LIVECHAT)?this.hideInputBox():this.showInputBox(),(0,g.z_)(this.html.querySelector("file-attachment"),new pn({wrapperId:"replayAreaUpload",contentId:"replayAreaUploadContent",content:this.attachmentPreview,contentCss:"background-color: transparent"}).render())}},{key:"initEvents",value:function(){var e,i=this;function n(e){var e="".concat(e),t=document.getElementById("engtInputError");t&&(t.innerHTML=e,t.style.display="block",setTimeout(function(){t.style.display="none"},3e3))}function o(e){var t;return(null==e?void 0:e.length)>y.Sv?(n((null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.CHARACTER_LIMIT_EXCEEDED)||xn.characterLimitExceeded),1):y.Ru.test(e)&&(n((null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.HTML_TAG_NOT_ALLOWED)||xn.htmlTagNotAllowed),1)}this.chatSetting=this.html.querySelector("#chatSetting"),this.messageArea.addEventListener("keyup",function(e){var t=this,n=null==(r=this.innerText)||null==(n=r.trim)?void 0:n.call(r),r={bot_key:m.r.get("config.bot_key"),user_id:m.r.get("status.sessionKey"),sender_action:"typing_on",key:m.r.get("config.key")};(0,u.TS)("status_packet",r),i.toggleSendBtn(n),n&&m.r.get("onEnterPress")(function(){var e;m.r.get("isAllInputsDisabled")||o(null==(e=i.messageArea)?void 0:e.innerText)||(m.r.get("sendMessage")(t.innerText.trim()),t.innerText="",i.toggleSendBtn(""))})}),this.messageArea.addEventListener("keypress",function(e){13!==e.keyCode||e.shiftKey||e.preventDefault()}),this.messageArea.addEventListener("input",function(e){var t,n;"INDEXED"!=i.data.isFaqAutocompleteEnabled&&"PARTIALLY_INDEXED"!=i.data.isFaqAutocompleteEnabled||(n=m.r.get("config.botLanguage"),t=m.r.get("config.botRef"),t="".concat(t,"_Index_faqs_").concat(n),null!=(n=i.messageArea.innerText.replace(/^[^a-zA-Z0-9]+/,""))&&n.trim()&&i.faqAutocompleteInstance.fetchAutocompleteResults(n,t))}),this.messageArea.addEventListener("paste",function(e){e.preventDefault();e=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e)}),null!=(e=this.menuBtn)&&e.addEventListener("click",i.reRenderMenu.bind(this)),m.r.get("config.isConversationalIvrEnabled")||null!=this&&null!=(e=this.voiceInputBtn)&&e.addEventListener("click",this.renderVoiceInput),null!=(e=this.faqAutocompleteBtnOn)&&e.addEventListener("click",function(){var e;null!=(e=i.faqAutocompleteInstance)&&e.closeFaqAutocompletePopUp(),m.r.set("isFaqAcPopUpClose",!0)}),null!=(e=this.faqAutocompleteBtnOff)&&e.addEventListener("click",function(){var e;null!=(e=i.faqAutocompleteInstance)&&e.openFaqAutocompletePopUp(),m.r.set("isFaqAcPopUpClose",!1)}),this.sendBtn.addEventListener("click",function(){var e;m.r.get("isAllInputsDisabled")||o(null==(e=i.messageArea)?void 0:e.innerText)||(m.r.get("sendMessage")(i.messageArea.innerText),i.toggleSendBtn(""))})}},{key:"hideInputBox",value:function(){this.html.style.cursor="not-allowed",this.html.querySelector("#engtReplyInput").style.visibility="hidden"}},{key:"showInputBox",value:function(){this.html.style.cursor=null,this.html.querySelector("#engtReplyInput").style.visibility=null}},{key:"initHelpers",value:function(){m.r.set("sendMessage",this.sendMessage),m.r.set("sendAttachment",this.sendAttachment),m.r.set("menuClose",this.menuClose.bind(this)),m.r.set("renderReplyInput",this.renderReplyInput.bind(this)),m.r.set("renderStartConversation",this.renderStartConversation.bind(this)),m.r.set("disableAllInput",this.disableAllInput.bind(this)),m.r.set("enableAllInput",this.enableAllInput.bind(this)),m.r.set("hideInputBox",this.hideInputBox.bind(this)),m.r.set("showInputBox",this.showInputBox.bind(this))}},{key:"setter",value:function(e){this.data=x(x({},this.data),e)}},{key:"toggleSendBtn",value:function(e){var t=this,n=this.html.querySelectorAll(".engt-reply-btns"),r=document.querySelector("#engtFaqAutocompleteWrapper");if(e){if(n.length)for(var i=0;i<n.length;i++){var o=n[i];"engtSendBtn"!==o.id&&o.classList.add("engt-hidden")}t.sendBtn.style.display="flex",t.sendBtn.classList.add("engt-append-icon"),setTimeout(function(){t.sendBtn.classList.remove("engt-hidden")},200)}else t.sendBtn&&(t.sendBtn.style.display="none",t.sendBtn.style.transition="opacity 0.3s ease-out",t.sendBtn.style.opacity=0,setTimeout(function(){if(t.sendBtn.style.opacity=1,t.sendBtn.classList.add("engt-hidden"),n.length)for(var e=0;e<n.length;e++)n[e].classList.remove("engt-hidden");t.data.isFaqAutocompleteEnabled&&(t.faqAutocompleteBtnOn&&t.faqAutocompleteBtnOn.classList.add("engt-hidden"),t.faqAutocompleteBtnOff&&t.faqAutocompleteBtnOff.classList.add("engt-hidden"),r)&&(0,g.bX)(r)},200))}},{key:"disableAllInput",value:function(){var e,t;m.r.get("isAllInputsDisabled")||((0,g.cn)(document.getElementById("engtReplyInput"),"engt-visible"),e=this.html.querySelectorAll(".engt-reply-btns"),t=document.querySelector(".engt-reply-box-wrapper"),(0,g.b3)(),null!=t&&t.classList&&t.classList.add("engt-reply-box-wrapper-disabled"),e.forEach(function(e){e.disabled=!0}),m.r.set("isAllInputsDisabled",!0))}},{key:"enableAllInput",value:function(){var e,t;m.r.get("isAllInputsDisabled")&&((0,g.IV)(document.getElementById("engtReplyInput"),"engt-visible"),e=this.html.querySelectorAll(".engt-reply-btns"),t=document.querySelector(".engt-reply-box-wrapper"),(0,g.QT)(),null!=t&&t.classList&&t.classList.remove("engt-reply-box-wrapper-disabled"),e.forEach(function(e){e.disabled=!1}),m.r.set("isAllInputsDisabled",!1))}},{key:"sendMessage",value:function(e,t){var n,r,i,o,a,s,c;(null!=e&&null!=(c=e.trim)&&c.call(e)||null!=t&&t.message)&&("true"===(0,g.t5)((0,v.LS)().GOT_UID)?(m.r.get("config.disableSmoOptions")&&(c=null==(c=document)?void 0:c.querySelectorAll(".engt-msg-smo button:not([disabled]), .engt-msg-smo input:not([disabled])")).length&&c.forEach(function(e){m.r.get("activeSmoDropdown")&&e.hasAttribute("autocomplete")&&t||(e.disabled=!0)}),o="".concat(m.r.get("config.botRef"),"_").concat((0,g.DO)()),r=x({},m.r.get("ackMessageMap")||{}),s=m.r.get("ack")+1,i=s,o={bot_key:m.r.get("config.bot_key"),user_id:m.r.get("status.sessionKey"),ack:s,key:m.r.get("config.key"),message_id:null!=t&&t.message_id?t.message_id:o},m.r.get("quotedMsgDetails")&&(o.linked_response_data=m.r.get("quotedMsgDetails").linked_response_data,o.linked_event_id=m.r.get("quotedMsgDetails").linked_event_id,(0,l.IE)()),a={sender:h.Qd.USER,message:{sender:h.Qd.USER,text:e},timestamp:(new Date).toISOString()},null!=(n=m.r.get("hideMinimizedCallout"))&&n(),(0,u.TS)("user_msg",x(x({},o),{},{is_debug:m.r.get("config.is_debug"),timestamp:(new Date).toISOString(),message:(null==t?void 0:t.message)||{type:"text",text:e}},t&&"attributes"in t&&{attributes:t.attributes}),function(e){(0,g.bZ)("Got server ack: ".concat(e)),delete r[e],m.r.set("ackMessageMap",r)}),(0,u.v0)(),m.r.set("isFirstMessage",!1),r[s]={message:e,timestamp:Date.now(),retryCount:0},clearTimeout(null==(n=m.r.get("config"))?void 0:n.ackTimeout),m.r.set("config.ackTimeout",setTimeout(function(){r[i]&&((0,u.zP)(),(0,g.bZ)("disconnected and connecting again."))},5e3)),null!=t&&t.skipAppendToDom||(s=x(x({},a),o),"skip"!=(null==t?void 0:t.tab_msg_action)&&(0,g.fN)((0,v.LS)().TAB_MESSAGES,JSON.stringify(x(x({},s),{},{istabMsg:!0,action:(null==t?void 0:t.tab_msg_action)||"add_user_msg",tabId:m.r.get("socketId"),skipAppendToDom:(null==t?void 0:t.skipAppendToDom)||!1}))),(0,l.Tx)(x(x({},a),o)))):null!=(e=m.r.get("triggerButtonConfig"))&&e.isFlowTriggeredFromTriggers||((0,u.zP)(),(0,u.T)()))}},{key:"menuClose",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:event,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.menuWrapper=document.querySelector("#engtMenuWrapper"),m.r.get("isMenuOpen")&&(n&&this.menuWrapper||t&&!(null!=(n=this.menuBtn)&&n.contains(t.target)||null!=(n=this.menuWrapper)&&n.contains(t.target)))&&(this.menuWrapper.classList.remove("engt-menu-wrapper-animate"),setTimeout(function(){m.r.set("isMenuOpen",!1),e.menuWrapper.remove(),e.menuBtn.style=""},500))}},{key:"reRenderMenu",value:function(){var e,t,n=this;m.r.get("isAllInputsDisabled")||(e=m.r.get("isMenuOpen"),null!=(t=m.r.get("hideMinimizedCallout"))&&t(),m.r.set("isMenuOpen",!e),e?(this.menuWrapper.classList.remove("engt-menu-wrapper-animate"),this.menuWrapper.removeEventListener("keydown",this.listenKeydownInMenu),setTimeout(function(){n.menuWrapper.remove(),n.menuBtn.style=""},500)):(t=new An,document.getElementById("engtChatWrapper").insertAdjacentHTML("beforeend",t.render()),this.menuWrapper=document.querySelector("#engtMenuWrapper"),this.menuWrapper.addEventListener("keydown",this.listenKeydownInMenu),this.menuBtn.style="stroke: ".concat(m.r.get("config.themeColor")),this.menuWrapper.querySelector(".engt-menu-options-wrapper").children[0].focus()))}},{key:"renderVoiceInput",value:function(){"input"!==m.r.get("inputMode")?rn.S5.changeInputMode("input"):navigator.permissions.query({name:"microphone"}).then(function(e){var t,n,r,i;"granted"===e.state?(t=document.querySelector(".engt-reply-area"),n=document.querySelector("#engt-non-input-mode"),r=document.getElementById("engtVoiceWrapper"),i=document.getElementById("engtVoiceInputBtn"),(0,g.pv)(t,"engt-hidden")?(n.style.display="none",t.classList.remove("engt-hidden"),r.classList.remove("engtVoiceWrapper"),i.innerHTML=(0,nn.x)()):(t.classList.add("engt-hidden"),r.classList.add("engtVoiceWrapper"),n.style.display="block",i.innerHTML=(0,tn.y)(y.UW.THEME_COLOR)),rn.S5.changeInputMode("listening")):"prompt"===e.state?navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(e){console.error("Please enable microphone permissions in your browser settings:",e)}):"denied"===e.state&&alert("Microphone access is currently denied. Please enable it in your browser settings to continue.")}).catch(function(e){console.error("Permission query error:",e)})}},{key:"renderStartConversation",value:function(){document.querySelector("respond-area").replaceChildren((0,l.Oc)())}},{key:"renderReplyInput",value:function(){this.html.remove(),this.initWrapper(),this.initComponents(),this.initEvents(),this.initHelpers(),document.querySelector("respond-area").replaceChildren(this.html)}},{key:"render",value:function(){return this.html}}])&&jn(e.prototype,n),r&&jn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Gn=function(){return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <rect width="24" height="24" rx="12" fill="inherit"/>\n        <path d="M8 14L12 18L16 14" stroke="inherit" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>\n        <path opacity="0.6" d="M8 8L12 12L16 8" stroke="inherit" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    '};function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Fn(e)?e:String(e)}(r.key),r)}}var Hn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.data={id:e.id},this.init(),this.html=function(e){e=e.id;return'<button \n\t\t\tid="engtScrollBtn"\n\t\t\tclass="engt-scrl-down-btn engt-scrl-down-btn-hidden" \n\t\t\taria-label="scroll-down" \n\t\t\tdata-scroll-for="'.concat(e,'"\n\t\t\tonclick="ENGT_CHAT.scrollDown(this)"\n\t\t>\n\t\t\t').concat(Gn(),"\n\t\t</button>\n\t\t")}(this.data)}var e,n,r;return e=t,(n=[{key:"onScrollToBottom",value:function(e){var t,n,r,i,o;e.target&&m.r.get("manualScrollOnScreens")&&(o=e.target.id,t=e.target.scrollTop+e.target.clientHeight,n=(e=e.target.scrollHeight)-t,i=(r="engtChatContent"===o)?300:30,o=document.querySelector("#".concat(r?"engtChatWrapper":o," > #engtScrollBtn")),t<e&&i<n?((0,g.IV)(o,"engt-scrl-down-btn-hidden"),r&&(0,g.cn)(o,m.r.get("config.remove_branding")?"engt-scrl-down-btn-chat-screen-bottom-without-brand":"engt-scrl-down-btn-chat-screen-bottom-with-brand")):((0,g.cn)(o,"engt-scrl-down-btn-hidden"),r&&(0,g.IV)(o,m.r.get("config.remove_branding")?"engt-scrl-down-btn-chat-screen-bottom-without-brand":"engt-scrl-down-btn-chat-screen-bottom-with-brand")))}},{key:"scrollDown",value:function(e){var t;e&&(e=e.getAttribute("data-scroll-for"),t=document.getElementById(e),"engtChatContent"===e?(0,g.oP)():(0,g.X5)(t,t.scrollTop+150,400))}},{key:"init",value:function(){m.r.set("onScrollToBottom",this.onScrollToBottom),m.r.set("scrollDown",this.scrollDown)}},{key:"render",value:function(){return this.html}}])&&Un(e.prototype,n),r&&Un(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),qn={id:"",agentName:""};function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function zn(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Yn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Vn(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yn(r.key),r)}}function Yn(e){e=function(e,t){if("object"!==Wn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Wn(e)?e:String(e)}var Jn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initEvent()}var e,n,r;return e=t,(n=[{key:"initData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.data=qn,this.setter(e),this.data.id=e.id||"message-".concat((0,g.zJ)())}},{key:"initWrapper",value:function(){var e=this.data.id,t=document.createElement("div");t.id=e,t.className="engt-hidden",t.innerHTML="<strong>Typing...</strong>",this.html=t}},{key:"initEvent",value:function(){m.r.set("showTypingIndicator",(0,g.Ds)(Qn,1e3)),m.r.set("addTypingIndicatorElement",Xn),m.r.set("removeTypingIndicatorElement",Zn)}},{key:"setter",value:function(e){this.data=zn(zn({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&Kn(e.prototype,n),r&&Kn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Xn=function(e){var e=document.getElementById(e),t=document.getElementById("engtChatContent");e&&(t.style.paddingBottom="24px",e.classList.remove("engt-hidden"),e.classList.add("engt-show-typing-indicator"),e.classList.add("engt-typing-indicator"),e.classList.add("engt-typing-indicator-bottom-up"))},Zn=function(e){e=document.getElementById(e);e&&(e.classList.remove("engt-show-typing-indicator"),e.classList.remove("engt-typing-indicator"),e.classList.remove("engt-typing-indicator-bottom-up"),e.classList.add("engt-hidden"))},Qn=function(e,t){var n=e.message,r=n.type,i=m.r.get("config.bot_name"),e=e.agent_name||i;document.getElementById(t)&&(i=(null==(i=m.r.get("GENERIC_STRINGS"))?void 0:i.TYPING)+"..."||0,document.getElementById(t).innerHTML="<strong>".concat(e,"</strong> ")+i),r===h.C7.TYPING_INDICATOR&&n.action===h.Wh.TYPING_ON?(Xn(t),m.r.get("clearTimeoutTypingOff")&&clearTimeout(m.r.get("clearTimeoutTypingOff")),m.r.set("clearTimeoutTypingOff",setTimeout(function(){Zn(t)},1e4))):(Zn(t),clearTimeout(m.r.get("clearTimeoutTypingOff")))},$n={autoSuggStyle:"",bgStyle:"",videoBg:""};function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach(function(e){ir(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,or(r.key),r)}}function ir(e,t,n){(t=or(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function or(e){e=function(e,t){if("object"!==er(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===er(e)?e:String(e)}var ar=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");ir(this,"reRenderChatScreen",function(){(0,l.ZN)()}),this.initData(e),this.initWrapper(),this.initComponents(),this.initEvents()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){var t=m.r.get("config.background_option"),n=m.r.get("config.wallpaper_image_url"),r=m.r.get("config.top_stop_color")||"#FFFFFF",i=m.r.get("config.bottom_stop_color")||"#F1F1F1",o=m.r.get("config.mid_stop_color")||"#FFFFFF",a="",s="",c="";t===h.bf.IMAGE&&n?(a="background-image: url(".concat(n,"); background-size:cover; background-position: center top;"),s="background-color: #ddd; border: none;"):t===h.bf.GRADIENT||t===h.bf.SOLID?(a="background-image: linear-gradient(to top,".concat(i,",").concat(o,",").concat(r,");"),s="background-color: ".concat(r,"; border: none;")):t===h.bf.VIDEO&&n&&(c='\n\t\t\t\t<video autoplay muted loop class="engt-background-video" data-object-fit>\n\t\t\t\t\t<source src="'.concat(n,'" type="video/mp4">\n\t\t\t\t</video>')),this.data=$n,this.setter(nr(nr({},e),{},{bgStyle:a,videoBg:c||"",botMode:m.r.get("config.bot_mode"),autoSuggStyle:s})),m.r.set("quotedMsgDetails",null)}},{key:"initWrapper",value:function(){var e,t,n,r,i=document.createElement("div");i.className="engt-chat-screen",i.id="engtChatScreen",m.r.get("config.isFadingMessagesEnabled")&&i.classList.add("engt-chat-animate"),i.innerHTML=(e=this.data,t=e.bgStyle,n=e.videoBg,e=e.botMode,r='\n        <div class="engt-popup-footer" id="engtChatFooter">\n            <div class="engt-hidden" id="engtQuoteText"></div>\n            <respond-area>\n                <input-area></input-area>\n            </respond-area>\n            <rud-input-area></rud-input-area>\n            <validated-msg></validated-msg>\n            <powered-by></powered-by>\n        </div>\n    ','\n        <div class="engt-chat-wrapper" style="'.concat(t,'">\n            ').concat(n,'\n            <div class="engt-chat-content-wrapper" id="engtChatWrapper">\n                <div id="engtChatContent"  class="engt-chat-content"\n                onscroll="ENGT_CHAT.checkAndfetchMessages();ENGT_CHAT.onScrollToBottom(event, this)"></div>\n                <scroll-to-bottom></scroll-to-bottom>\n                <typing-indicator></typing-indicator>\n                ').concat(e===h.Z_.STANDALONE?r:"","\n            </div>\n        </div>\n        ").concat(e===h.Z_.WIDGET?r:"","\n    ")),this.html=i}},{key:"initComponents",value:function(){var e=(new Rn).render(),t=new Jn({id:"engt-typing-indicator"}).render(),n=(new en).render(),r=new Hn({id:"engtChatContent"}).render();(0,g.z_)(this.html.querySelector("scroll-to-bottom"),r),(0,g.z_)(this.html.querySelector("input-area"),e),(0,g.z_)(this.html.querySelector("typing-indicator"),t),(0,g.z_)(this.html.querySelector("powered-by"),n)}},{key:"initEvents",value:function(){m.r.set("reRenderChatScreen",this.reRenderChatScreen)}},{key:"setter",value:function(e){this.data=nr(nr({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&rr(e.prototype,n),r&&rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),sr=__webpack_require__(5466),cr={type:h.e7.HORIZONTAL},lr=["card_text","card_image","card_action_title","card_body_text","card_action_type","card_action_value","id"];function ur(e){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function D(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=hr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):dr(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function pr(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hr(r.key),r)}}function hr(e){e=function(e,t){if("object"!==ur(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ur(e)?e:String(e)}var gr=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=cr;var t,n=[];null!=(t=m.r.get("config.launchCards"))&&t.length&&(n=m.r.get("config.launchCards").map(function(e,t){var n=e.card_text,r=e.card_image,i=e.card_action_title,o=e.card_body_text,a=e.card_action_type,s=e.card_action_value,e=(e.id,pr(e,lr));return D({title:n||"",subtitle:o||"",image:r||Z,imageAlt:"",gradient_bottom_color:"#ffffff",gradient_top_color:"#ffffff",buttons:i?[{title:i,type:a,value:s}]:[]},e)})),this.setter(D(D({},e),{},{brandName:" ".concat(m.r.get("config.bot_name")||m.r.get("config.launchScreenHeader")),cards:n,exploreMore:(null==(t=m.r.get("GENERIC_STRINGS"))?void 0:t.EXPLORE_MORE)||"Explore more on"}))}},{key:"initWrapper",value:function(){var e,t,n=document.createElement("div"),r=document.createDocumentFragment();for(n.innerHTML=(e=this.data,t=e.exploreMore,e=e.brandName,'\n\t\t<div class="engt-launch-cards" id="engtLaunchCards">\n\t\t\t<span class="engt-launch-cards-title">\n\t\t\t\t<label class="engt-text" id="exploreMore">'.concat(t).concat(e,'...</label>\n\t\t\t\t<span class="dots"><carousel-dots></carousel-dots></span>\n\t\t\t</span>\n\t\t\t<carousel></carousel>\n\t\t</div>\n    '));n.firstChild;)r.appendChild(n.firstChild);this.html=r}},{key:"initComponents",value:function(){var e=this.data,t=e.cards,e=e.type,e=void 0===e?h.e7.HORIZONTAL:e,t=new sr.l({cards:t,type:e,shouldWrap:!1,popoverRole:h.iX.ELLIPSIS,ellipsis:{title:2,description:2}}),n=t.render();e===h.e7.HORIZONTAL&&t.dots&&(0,g.z_)(this.html.querySelector("carousel-dots"),t.dots),(0,g.z_)(this.html.querySelector("carousel"),n)}},{key:"initEventHandlers",value:function(){}},{key:"setter",value:function(e){this.data=D(D({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&fr(e.prototype,n),r&&fr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),mr={queryTitle:"",queryPlaceholder:"",previewHeader:"",goBack:"Go back to conversation",lastMessage:"",lastMessageDate:"3:30 PM",timeout:"Session timed out for your ongoing conversation"};function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function br(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vr(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wr(r.key),r)}}function M(e,t,n){(t=wr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function wr(e){e=function(e,t){if("object"!==yr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===yr(e)?e:String(e)}var Er=function(){function t(e){var i=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");M(this,"sendQuery",function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(m.r.get("startConvoAdded")?("false"===(0,g.t5)((0,v.LS)().GOT_UID)&&(0,g.fj)((0,v.LS)().GOT_UID,"itemInserted",function(){(0,g.XT)(e,r)}),m.r.get("startNewConversation")):(m.r.get("isFirstMessage")&&(n=window.location.href,t=document.title,n=(0,g.NB)(n,t),(0,u.tC)([n])),m.r.get("sendMessage")))(e,r),i.hideLaunchScreen()}),M(this,"hideLaunchScreen",function(){document.getElementById("engtQueryInput").value="",m.r.get("getCurrentScreen")()===h.xe.LAUNCH&&m.r.get("showChatScreen")()}),M(this,"checkClassAndUpdateClass",function(e,t,n){var r;null!=(r=e.classList)&&r.contains(t)&&((0,g.IV)(e,t),(0,g.cn)(e,n))}),M(this,"renderUnreadCount",function(e){var t=document.getElementById("unreadNotificationBadge"),n=document.getElementById("unreadCountLaunchScreen");9<e&&e<100?(t.classList.contains("engt-badge")&&i.checkClassAndUpdateClass(t,"engt-badge-small","engt-badge-medium"),n.classList.contains("engt-badge")&&i.checkClassAndUpdateClass(n,"engt-badge-mini","engt-badge-xSmall")):99<e&&(t.classList.contains("engt-badge")&&(i.checkClassAndUpdateClass(t,"engt-badge-medium","engt-badge-large"),i.checkClassAndUpdateClass(t,"engt-badge-small","engt-badge-large")),n.classList.contains("engt-badge"))&&(i.checkClassAndUpdateClass(n,"engt-badge-xSmall","engt-badge-custom"),i.checkClassAndUpdateClass(n,"engt-badge-mini","engt-badge-custom")),m.r.get("setBadgeCount")(y.Wz.UNREAD_COUNT_BADGE,e),m.r.get("setBadgeCount")(y.Wz.UNREAD_NOTIFICATION_BADGE,e)}),M(this,"updatePreviewMessage",function(){var e,t=document.getElementById("launchPreview"),n=document.getElementById("launchPreviewMessage"),r=document.getElementById("launchPreviewTime"),i=document.querySelectorAll(".engt-msg-container"),i=i[i.length-1];n&&null!=i&&null!=(e=i.dataset)&&e.message&&((e=document.createElement("div")).innerHTML=i.getAttribute("data-message"),(0,g.IV)(t,"engt-launch-preview-hidden"),n.innerText=e.innerText,r.innerText=i.getAttribute("data-msg-clock-time"))}),M(this,"renderLaunchCards",function(){var e,t=i.data.launchCards,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&document.getElementById("engtLaunchCards"),n=(n&&(n.outerHTML="<launch-cards></launch-cards>"),i.html.querySelector("launch-cards"));n&&(e=1===(null==t?void 0:t.length)?h.e7.VERTICAL:m.r.get("config.launchCardType"),t=null!=t&&t.length?new gr({type:e}).render():"")&&(0,g.z_)(n,t)}),M(this,"reRenderLaunchScreen",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&i.initData({launchCards:m.r.get("config.launchCards")}),i.renderLaunchCards(e),i.renderUnreadCount(null==(e=m.r.get("unReadMessages"))?void 0:e.length),i.updatePreviewMessage()}),this.initData(e),this.initWrapper(),this.initComponents(),this.initEventHandlers()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=mr,this.setter(br(br({},e),{},{badgeId:y.Wz.UNREAD_COUNT_BADGE,count:(null==(e=m.r.get("unReadMessages"))?void 0:e.length)||0,queryTitle:m.r.get("config.queryTitle"),queryPlaceholder:m.r.get("config.queryPlaceholder"),themeColor:m.r.get("config.themeColor"),launchCards:m.r.get("config.launchCards")}))}},{key:"initWrapper",value:function(){var e,t,n,r,i,o,a,s=document.createElement("div");s.classList.add("engt-launch-screen"),s.id="engtLaunchScreen",s.innerHTML=(e=this.data,t=e.queryTitle,n=e.queryPlaceholder,r=e.previewHeader,i=e.goBack,o=e.themeColor,a=e.lastMessage,e=e.lastMessageDate,t='\n\t\t<div class="engt-launch-query">\n\t\t\t<span id="launchQueryTitle" class="engt-launch-query-text">'.concat(t,'</span>\n\t\t\t<div class="engt-launch-query-input">\n\t\t\t\t<input type="text" class="engt-tab-selectable" id="engtQueryInput" placeholder="').concat(n,'" tabindex="0"/>\n\t\t\t\t<span class="engt-launch-query-send-btn">').concat('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t<path\n\t\t\td="M1.62189 8.57988C1.51657 8.57988 1.42178 8.49571 1.42178 8.37999C1.42178 8.19061 1.44285 7.86447 1.50604 7.49624L0.937323 6.9176C0.105317 7.89603 0.0105317 9.29529 0 9.80029C0 9.90549 0.0842537 10.0002 0.200103 10.0002C0.705625 9.98966 2.10634 9.89497 3.08579 9.06383L2.50655 8.49571C2.13794 8.55884 1.81146 8.56936 1.62189 8.57988Z"\n\t\t\tfill="#C3C3C3"\n\t\t/>\n\t\t<path\n\t\t\td="M7.77261 6.39165L7.75155 6.33905C10.1107 3.84563 10.0685 1.26805 9.96321 0.394831C9.94215 0.205458 9.7947 0.0581676 9.60513 0.0371262C8.731 -0.0680812 6.15073 -0.110164 3.65471 2.24648L3.61258 2.23596C2.79111 1.85721 1.83272 2.03607 1.19029 2.66731L0.274028 3.58261C0.0633933 3.79303 0.126584 4.14021 0.389877 4.25594L1.87485 4.93979L1.36933 5.73937C1.25348 5.92874 1.27454 6.18124 1.44305 6.34957L3.65471 8.55892C3.81269 8.71673 4.06545 8.7483 4.26555 8.63257L5.06596 8.12757L5.75052 9.611C5.8769 9.87402 6.22445 9.93714 6.42455 9.72673L7.34081 8.81142C7.98325 8.16966 8.15175 7.20175 7.77261 6.39165ZM5.6768 4.32959C5.23447 3.88772 5.23447 3.18283 5.6768 2.74096C6.11913 2.29908 6.82476 2.29908 7.26709 2.74096C7.70942 3.18283 7.69889 3.88772 7.26709 4.32959C6.83529 4.76094 6.11913 4.76094 5.6768 4.32959Z"\n\t\t\tfill="#C3C3C3"\n\t\t/>\n\t</svg>',"</span>\n\t\t\t</div>\n\t\t</div>\n\t"),n='\n\t\t<div class="engt-launch-preview engt-launch-preview-hidden" id="launchPreview">\n\t\t\t<span class="engt-launch-preview-header" id="launchPreviewHeader">\n\t\t\t\t'.concat(r,'\n\t\t\t</span>\n\t\t\t\n\t\t\t<div class="engt-launch-preview-go">\n\t\t\t\t<div class="engt-launch-preview-message">\n\t\t\t\t\t<span class="engt-text" id="launchPreviewMessage">').concat(a,'</span>\n\t\t\t\t\t<span class="time" id="launchPreviewTime">').concat(e,'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="engt-msg-preview-wrap">\n\t\t\t\t\t<div \n\t\t\t\t\tstyle="').concat(o?"fill: ".concat(o,";color: ").concat(o,"; cursor: pointer"):"",'" \n\t\t\t\t\ttabindex="0"\n\t\t\t\t\tonclick="ENGT_CHAT.showChatScreen()"\n\t\t\t\t\tonkeydown="ENGT_CHAT.onEnterPress()"\n\t\t\t\t\tclass="engt-go-back-to-chat engt-tab-selectable"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span id="goBackConversation">').concat(i,"</span>\n\t\t\t\t\t\t").concat('<svg width="18" height="8" viewBox="0 0 18 8" xmlns="http://www.w3.org/2000/svg" fill="inherit">\n\t\t<path\n\t\t\td="M1 3.5C0.723858 3.5 0.5 3.72386 0.5 4C0.5 4.27614 0.723858 4.5 1 4.5V3.5ZM17.3536 4.35355C17.5488 4.15829 17.5488 3.84171 17.3536 3.64645L14.1716 0.464466C13.9763 0.269204 13.6597 0.269204 13.4645 0.464466C13.2692 0.659728 13.2692 0.976311 13.4645 1.17157L16.2929 4L13.4645 6.82843C13.2692 7.02369 13.2692 7.34027 13.4645 7.53553C13.6597 7.7308 13.9763 7.7308 14.1716 7.53553L17.3536 4.35355ZM1 4.5H17V3.5H1V4.5Z"\n\t\t\tfill="inherit"\n\t\t/>\n\t</svg>',"\n\t\t\t\t\t</div>\n\t\t\t\t\t<unread-badge></unread-badge>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t"),'\n\t\t<div class="engt-launcher-details" id="engtLaunchScreenDetails" onscroll="ENGT_CHAT.onScrollToBottom(event, this)">\n\t\t\t'.concat(n,"\n\t\t\t").concat(t,"\n\t\t\t<launch-cards></launch-cards>\n\t\t\t<scroll-to-bottom></scroll-to-bottom>\n\t\t</div>\n\t\t<powered-by></powered-by>\n    ")),this.html=s}},{key:"initComponents",value:function(){var e=this.data,t=e.badgeId,e=e.count,n=(new en).render(),t=new q({id:t,type:h.K_.MINI,count:e}).render(),e=new Hn({id:"engtLaunchScreenDetails"}).render();(0,g.z_)(this.html.querySelector("scroll-to-bottom"),e),(0,g.z_)(this.html.querySelector("unread-badge"),t),(0,g.z_)(this.html.querySelector("powered-by"),n)}},{key:"initEventHandlers",value:function(){var t=this,n=y.Ru;this.html.querySelector(".engt-launch-query-send-btn").addEventListener("click",function(){t.sendQuery(t.html.querySelector("#engtQueryInput").value.replace(n,""))}),this.html.querySelector("#engtQueryInput").addEventListener("keydown",function(e){"Enter"===e.key&&t.sendQuery(e.target.value.replace(n,""))}),m.r.set("sendQuery",this.sendQuery),m.r.set("renderUnreadCount",this.renderUnreadCount),m.r.set("reRenderLaunchScreen",this.reRenderLaunchScreen),m.r.set("updatePreviewMessage",this.updatePreviewMessage)}},{key:"setter",value:function(e){this.data=br(br({},this.data),e)}},{key:"render",value:function(){return this.html}}])&&_r(e.prototype,n),r&&_r(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Sr=function(){var e=m.r.get("config.isWebLinkPreviewEnabled")||m.r.get("config.isPdfLinkPreviewEnabled");return'\n\t\t<div class="engt-pages">\n\t\t\t<engt-header></engt-header>\n\t    \t<launch-screen></launch-screen>\n\t    \t<chat-screen></chat-screen>\n\t\t</div>\n\t\t<chat-settings></chat-settings>\n\t\t<upload-file-attachment></upload-file-attachment>\n\t\t<close-chat-modal></close-chat-modal>\n\t\t'.concat(e?"<source-preview></source-preview>":"","\n    ")};var Or=function(){m.r.set("showChatScreen",function(){(0,g.IV)(document.getElementById("engt-popup"),"engt-launch-screen-open"),(0,g.cn)(document.getElementById("engt-popup"),"engt-chat-screen-open"),m.r.get("reRenderChatScreen")(),m.r.set("currentScreen",h.xe.CHAT),g.oQ.messagesIn(),g.oQ.launchScreenOut(),(0,g.C5)(".engt-common-header")}),m.r.set("showLaunchScreen",function(){m.r.get("config.bot_mode")===h.Z_.WIDGET&&((0,g.IV)(document.getElementById("engt-popup"),"engt-chat-screen-open"),(0,g.cn)(document.getElementById("engt-popup"),"engt-launch-screen-open"),m.r.get("reRenderLaunchScreen")(),m.r.get("hideMinimizedCallout")(),m.r.set("currentScreen",h.xe.LAUNCH),g.oQ.messagesOut(),g.oQ.launchScreenIn(),(0,g.C5)(".engt-common-header"))}),m.r.set("getCurrentScreen",function(){return m.r.get("currentScreen")})},kr=function(e){return Sr(e)},Tr={};function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Lr(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=Pr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ir(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pr(r.key),r)}}function Pr(e){e=function(e,t){if("object"!==Cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Cr(e)?e:String(e)}var e,xr=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initData(e),this.initWrapper(),this.initComponents(),this.initEvents(),this.initHelpers(),this.onMount()}var e,n,r;return e=t,(n=[{key:"initData",value:function(e){this.data=Tr,this.setter(e)}},{key:"initWrapper",value:function(){var e=document.createElement("div");e.classList.add("engt-popup"),m.r.get("config.bot_mode")===h.Z_.WIDGET&&(e.classList.add("engt-popup-hidden"),e.classList.add("engt-popup-hidden-size")),e.id="engt-popup",e.innerHTML=kr(this.data),this.html=e}},{key:"initComponents",value:function(){var e=(new ar).render(),t=(new Er).render(),n=(new Re).render(),r=(new gt).render(),i=(new Dt).render(),o=(new le).render(),a=document.createElement("div");a.classList.add("engt-common-header"),a.appendChild(r),a.appendChild(i),(0,g.z_)(this.html.querySelector("engt-header"),a),(0,g.z_)(this.html.querySelector("launch-screen"),t),(0,g.z_)(this.html.querySelector("chat-screen"),e),(0,g.z_)(this.html.querySelector("chat-settings"),n),(0,g.z_)(this.html.querySelector("upload-file-attachment"),o),(m.r.get("config.isWebLinkPreviewEnabled")||m.r.get("config.isPdfLinkPreviewEnabled"))&&(r=(new zt).render(),(0,g.z_)(this.html.querySelector("source-preview"),r))}},{key:"initEvents",value:function(){this.html.addEventListener("click",m.r.get("menuClose"))}},{key:"initHelpers",value:function(){var t=this;m.r.set("onMaximizeScreen",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];m.r.get("isMobileOrTablet")||(e||t.html.classList.contains("engt-maximise-screen")?(t.html.classList.add("engt-minimise-screen"),t.html.classList.remove("engt-maximise-screen")):(t.html.classList.add("engt-maximise-screen"),t.html.classList.remove("engt-minimise-screen")))}.bind(this))}},{key:"setter",value:function(e){this.data=Lr(Lr({},this.data),e)}},{key:"onMount",value:function(){Or()}},{key:"render",value:function(){return this.html}}])&&Ar(e.prototype,n),r&&Ar(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e,t,n){(t=function(e){e=function(e,t){if("object"!==Dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Dr(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var jr={title:"engati chatbot",position:"bottomright"},Nr="bottomright",Br="bottomLeft",Rr=(Mr(e={},Nr,"engt-right-theme"),Mr(e,Br,"engt-left-theme"),e);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Fr(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gr(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=function(e){e=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===j(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Gr(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function Ur(){Ur=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==j(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function Hr(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var qr={init:function(){var s,t=this;return s=Ur().mark(function e(){return Ur().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.appElement=document.body,e.next=3,t.initData();case 3:return e.next=5,t.initWrapper();case 5:return e.next=7,t.initComponents();case 7:return e.next=9,t.render();case 9:return e.next=11,(0,a.Db)();case 11:t.initEventHandlers();case 12:case"end":return e.stop()}},e)}),function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Hr(r,t,n,i,o,"next",e)}function o(e){Hr(r,t,n,i,o,"throw",e)}i(void 0)})}()},setupPopup:function(){function n(){return(0,g.pv)(document.getElementById("engt-popup"),"engt-popup-hidden")}function r(){(0,g.cn)(document.getElementById("engtClosedCallout"),"engt-closed-callout"),(0,g.IV)(document.getElementById("engtClosedCallout"),"engt-closed-callout-hidden")}var e=m.r.get("config.autoPopupDelay"),t=m.r.get("config.autoPopupType"),i=m.r.get("config.override_pop_up"),o=m.r.get("config.isLaunchScreenEnabled");o?m.r.set("currentScreen",h.xe.LAUNCH):m.r.set("currentScreen",h.xe.CHAT),t!==h.bC.CLOSED||i?t===h.bC.MINIMIZED?(e=e||.5,setTimeout(function(){n()&&(m.r.get("onLauncherClick")(),(0,g.cn)(document.getElementById("engt-popup"),"engt-popup-minimized"))},1e3*e)):t!==h.bC.NORMAL||i||0<=e&&setTimeout(m.r.get("onLauncherClick"),1e3*e):(e=0===e?y.ev:e,setTimeout(function(){var e,t;n()&&(null!=(t=m.r.get("config.trigger_configurations"))&&t.length&&"block"===(null==(t=document.getElementById("engt-triggers-wrapper"))||null==(e=t.style)?void 0:e.display)?((0,g.cn)(t,"engt-triggers-callout-animation-up"),setTimeout(function(){r()},1e3)):r())},1e3*e))},initEventHandlers:function(){this.setupPopup()},initData:function(){this.data=jr,this.setter({position:m.r.get("config.chat_widget_position")})},initWrapper:function(){var e=document.createElement("section");e.classList.add("engt","engt-font-".concat((0,g.K9)())),e.innerHTML=function(e){e=e.position;return'\n\t\t<div class="engt-wrapper '.concat(e===Nr?Rr[Nr]:Rr[Br],'" id="engtWrapper">\n\t\t\t<engagement-triggers></engagement-triggers>\n        \t<pop-up></pop-up>\n\t\t\t<launcher-icon></launcher-icon>\n\t\t\t').concat('\n\t\t<div class="engt-popover-overlay" id="engtPopoverOverlay">\n\t\t\t<div class="engt-popover" id="engtPopover"></div>\n\t\t</div>\n\t',"\n\t\t</div>\n\t")}(this.data),(0,g.ic)()&&e.classList.add("engt-mobile-tab"),this.html=e},initComponents:function(){var e=(new xr).render(),t=(new J).render();(0,g.z_)(this.html.querySelector("pop-up"),e),(0,g.z_)(this.html.querySelector("launcher-icon"),t)},setter:function(e){this.data=Fr(Fr({},this.data),e)},render:function(){this.appElement.appendChild(this.html)}};function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){B=function(){return a};var a={},e=Object.prototype,c=e.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i,o,a,s,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),r=new w(r||[]);return l(t,"_invoke",{value:(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=u(i,o,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d={};function p(){}function f(){}function h(){}var t={},g=(o(t,r,function(){return this}),Object.getPrototypeOf),g=g&&g(g(E([]))),m=(g&&g!==e&&c.call(g,r)&&(t=g),h.prototype=p.prototype=Object.create(t));function y(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function v(a,s){var t;l(this,"_invoke",{value:function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){var o,e=u(a[e],a,n);if("throw"!==e.type)return(n=(o=e.arg).value)&&"object"==N(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)});i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:S}}function S(){return{value:void 0,done:!0}}return l(m,"constructor",{value:f.prototype=h,configurable:!0}),l(h,"constructor",{value:f,configurable:!0}),f.displayName=o(h,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,n,function(){return this}),a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(m),o(m,i,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function Wr(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Vr(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){Wr(r,t,n,i,o,"next",e)}function o(e){Wr(r,t,n,i,o,"throw",e)}i(void 0)})}}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===N(e)?e:String(e)}(r.key),r)}}new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init()}var t,n,r,i,o;return t=e,(n=[{key:"init",value:(o=Vr(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.S1)(h.Z_.WIDGET);case 2:return e.next=4,this.initComponents();case 4:(0,l.wL)(),(0,R.KY)(),this.afterWidgetDOMLoad(),this.injectEngagementTriggersTracker();case 8:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"injectEngagementTriggersTracker",value:function(){var e;!0!==m.r.get("config.activity_tracking_config.enabled")&&!0!==m.r.get("config.engagement_triggers_config.enabled")||((e=document.createElement("script")).src="".concat(m.r.get("config.brandedServer"),"/tracker/static/tracker.js"),e.type="text/javascript",document.body.appendChild(e))}},{key:"afterWidgetDOMLoad",value:function(){var e,t;m.r.get("reRenderLaunchScreen")(),window.addEventListener("storage",g.cg),null!=(e=(t=window).onENGTWidgetLoad)&&e.call(t),(0,g.JY)()}},{key:"initComponents",value:(i=Vr(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qr.init());case 1:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})}])&&zr(t.prototype,n),r&&zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())})()})();
//# sourceMappingURL=widget.js.map